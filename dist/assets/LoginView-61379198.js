import{_,j as i,o as r,c,a as e,w as d,C as p,p as m,g,s as h,k as f}from"./main-60138172.js";import{_ as b}from"./app-logo-6a421005.js";const w={data(){return{username:null,password:null,isMobileCheck:window.innerWidth}},mounted(){let t=document.createElement("script");t.setAttribute("src","https://accounts.google.com/gsi/client"),t.setAttribute("defer",""),document.head.appendChild(t),this.GetGoogleLoginResult()},computed:{},methods:{Submit(){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})};var s="/login-attempt";fetch(s,t).then(function(o){return o.json()}).then(o=>{o.account=="authorized"?o.role=="student"?this.isMobileCheck<576?i.push({name:"search"}):i.push({name:"skill-tree"}):o.role=="instructor"?i.push({name:"students"}):o.role=="editor"?i.push({name:"todo"}):i.push({name:"skills"}):o.account=="wrong-password"?alert("wrong password"):alert("no account")})},GetGoogleLoginResult(){fetch("/google-login-result").then(function(t){return t.json()}).then(t=>{t.account=="no account"&&alert("No account found.")})}}},n=t=>(m("data-v-67668b04"),t=t(),g(),t),v={class:"login-page"},x={class:"form-signin"},k=n(()=>e("div",{class:"text-center app-logo-wrapper"},[e("img",{class:"",src:b,alt:"icon of a skill tree"})],-1)),y=n(()=>e("h1",{class:"h3 mt-2 font-weight-normal"},"Sign in",-1)),S={class:"form"},q=n(()=>e("label",{class:"mb-4 welcome-message"},"Welcome back! Please enter your details.",-1)),C={class:"mb-3 text-start"},j=n(()=>e("label",{class:"form-label"},"Username",-1)),L={class:"mb-3 text-start"},V=n(()=>e("label",{class:"form-label"},"Password",-1)),B=n(()=>e("div",{class:"d-flex password-extras"},[e("div",{style:{color:"rgba(164, 139, 229, 1)"}},[e("a",{href:"/password-reset",class:"links"},"Forgot password")])],-1)),G={key:0,id:"g_id_onload","data-client_id":"13191319610-qectaoi146ce1pm4v95jtgctsbtmqb3t.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":"/google-login-attempt?device=mobile","data-auto_prompt":"false"},I={key:1,id:"g_id_onload","data-client_id":"13191319610-qectaoi146ce1pm4v95jtgctsbtmqb3t.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":"/google-login-attempt?device=not-mobile","data-auto_prompt":"false"},M=n(()=>e("div",{class:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left","data-width":"330"},null,-1)),N=n(()=>e("div",{class:"mt-4 signup text-center"},[h(" Donâ€™t have an account? "),e("a",{href:"/student-signup",class:"links"},"Register")],-1));function P(t,s,o,U,a,u){return r(),c("div",v,[e("div",x,[k,y,e("div",S,[q,e("div",C,[j,d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>a.username=l),type:"text",placeholder:"Username",class:"form-control",required:""},null,512),[[p,a.username]])]),e("div",L,[V,d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>a.password=l),type:"password",placeholder:"Password",class:"form-control",required:""},null,512),[[p,a.password]])]),B,e("button",{class:"btn btn-dark mb-2",onClick:s[2]||(s[2]=l=>u.Submit())}," Sign in "),a.isMobileCheck<576?(r(),c("div",G)):(r(),c("div",I)),M,N])])])}const T=_(w,[["render",P],["__scopeId","data-v-67668b04"]]),z={__name:"LoginView",setup(t){return(s,o)=>(r(),f(T))}};export{z as default};
