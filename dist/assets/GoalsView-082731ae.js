import{_ as d,e as p,g as m,r as g,o as l,c as r,b as h,a as e,F as T,x as _,j as w,k,p as f,t as v,m as y,h as S,f as x}from"./main-53559ef3.js";const b={setup(){const s=p(),t=m();return{userDetailsStore:s,skillsStore:t}},data(){return{goals:[]}},props:{showTutorialTip:Boolean},emits:["progressTutorial"],async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.goals.length;s++){let t=this.skillsStore.skillsList.find(a=>a.id===this.goals[s].skill_id);this.goals[s].name=t.name,this.goals[s].level=t.level}},methods:{async getGoals(){const s=await fetch("/user-skills/goals/"+this.userDetailsStore.userId+"/list");this.goals=await s.json()},handleProgressTutorial(s){this.$emit("progressTutorial",s)}}},C={key:0},D={id:"goal-list"},I={key:1,class:"tool-tip-base"},z={class:"explain-tool-tip hovering-info-panel triangle-top-left"},P={class:"tool-tip-text"};function j(s,t,a,n,u,i){const c=g("router-link");return l(),r("div",null,[u.goals.length===0?(l(),r("p",C," You haven't set any goals yet. ")):h("",!0),e("div",D,[(l(!0),r(T,null,_(u.goals,o=>(l(),w(c,{class:y([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"goal-link btn m-2 d-flex"]),to:`/goals/${n.userDetailsStore.userId}/`+o.skill_id,target:"_blank"},{default:k(()=>[t[1]||(t[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"black",width:"20",heigth:"20"},[e("path",{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})],-1)),f(" Â  "+v(o.name),1)]),_:2,__:[1]},1032,["class","to"]))),256))]),a.showTutorialTip&&n.userDetailsStore.role=="student"?(l(),r("div",I,[e("div",z,[e("div",P,[t[2]||(t[2]=e("p",null,"This section shows any goals you might have made.",-1)),t[3]||(t[3]=e("p",null," You can make a goal when there is a skill you want to master but it is not unlocked yet. ",-1)),e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=o=>i.handleProgressTutorial(1))}," close ")])])])):h("",!0)])}const B=d(b,[["render",j],["__scopeId","data-v-86d2633d"]]),G={setup(){const s=p(),t=S();return{userDetailsStore:s,sessionDetailsStore:t}},data(){return{showTutorialTip1:!1,isTutorialComplete:!1}},components:{Goals:B},async created(){this.sessionDetailsStore.isLoggedIn&&await this.checkIfTutorialComplete()},methods:{async startTutorial(){this.showTutorialTip1=!0,this.isTutorialComplete=!1,this.showWelcomeModal=!1,await this.resetTutorialProgress()},async resetTutorialProgress(){try{await fetch(`/users/reset-all-tutorials/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})}catch(s){console.error("Error resetting tutorials:",s)}},async checkIfTutorialComplete(){try{const t=await(await fetch("/users/check-tutorial-progress/hub/"+this.userDetailsStore.userId)).json();t===0&&this.userDetailsStore.role=="student"?this.showTutorialTip1=!0:t===1&&(this.isTutorialComplete=!0)}catch(s){console.error("Error checking tutorial progress:",s)}},progressTutorial(s){s==1&&(this.showTutorialTip1=!1,this.markTutorialComplete())},markTutorialComplete(){let s="/users/mark-tutorial-complete/hub/"+this.userDetailsStore.userId;fetch(s,{method:"PUT",headers:{"Content-Type":"application/json"}})},restartTutorial(){this.startTutorial()}}},L={class:"container"},M={class:"d-flex justify-content-between align-items-start"};function V(s,t,a,n,u,i){const c=g("Goals");return l(),r("div",L,[e("div",M,[x(c,{showTutorialTip:u.showTutorialTip1,onProgressTutorial:i.progressTutorial},null,8,["showTutorialTip","onProgressTutorial"]),n.sessionDetailsStore.isLoggedIn?(l(),r("button",{key:0,class:"btn",onClick:t[0]||(t[0]=(...o)=>i.restartTutorial&&i.restartTutorial(...o))},t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",width:"20",height:"20",class:"primary-icon"},[e("path",{d:"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"})],-1)]))):h("",!0)])])}const N=d(G,[["render",V]]);export{N as default};
