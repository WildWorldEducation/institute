import{a as p,k as T,i as w,b as N,d as O,e as x}from"./string-c67ea49d.js";function C(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function D(n){let e,r,t;n.length!==2?(e=p,r=(a,c)=>p(n(a),c),t=(a,c)=>n(a)-c):(e=n===p||n===C?n:E,r=n,t=n);function i(a,c,o=0,g=a.length){if(o<g){if(e(c,c)!==0)return g;do{const s=o+g>>>1;r(a[s],c)<0?o=s+1:g=s}while(o<g)}return o}function f(a,c,o=0,g=a.length){if(o<g){if(e(c,c)!==0)return g;do{const s=o+g>>>1;r(a[s],c)<=0?o=s+1:g=s}while(o<g)}return o}function u(a,c,o=0,g=a.length){const s=i(a,c,o,g-1);return s>o&&t(a[s-1],c)>-t(a[s],c)?s-1:s}return{left:i,center:u,right:f}}function E(){return 0}function F(n){return n===null?NaN:+n}const G=D(p),H=G.right;D(F).center;const J=H;class I extends Map{constructor(e,r=Q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[t,i]of e)this.set(t,i)}get(e){return super.get(R(this,e))}has(e){return super.has(R(this,e))}set(e,r){return super.set(K(this,e),r)}delete(e){return super.delete(L(this,e))}}function R({_intern:n,_key:e},r){const t=e(r);return n.has(t)?n.get(t):r}function K({_intern:n,_key:e},r){const t=e(r);return n.has(t)?n.get(t):(n.set(t,r),r)}function L({_intern:n,_key:e},r){const t=e(r);return n.has(t)&&(r=n.get(t),n.delete(t)),r}function Q(n){return n!==null&&typeof n=="object"?n.valueOf():n}const U=Math.sqrt(50),W=Math.sqrt(10),X=Math.sqrt(2);function y(n,e,r){const t=(e-n)/Math.max(0,r),i=Math.floor(Math.log10(t)),f=t/Math.pow(10,i),u=f>=U?10:f>=W?5:f>=X?2:1;let a,c,o;return i<0?(o=Math.pow(10,-i)/u,a=Math.round(n*o),c=Math.round(e*o),a/o<n&&++a,c/o>e&&--c,o=-o):(o=Math.pow(10,i)*u,a=Math.round(n/o),c=Math.round(e/o),a*o<n&&++a,c*o>e&&--c),c<a&&.5<=r&&r<2?y(n,e,r*2):[a,c,o]}function sn(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const t=e<n,[i,f,u]=t?y(e,n,r):y(n,e,r);if(!(f>=i))return[];const a=f-i+1,c=new Array(a);if(t)if(u<0)for(let o=0;o<a;++o)c[o]=(f-o)/-u;else for(let o=0;o<a;++o)c[o]=(f-o)*u;else if(u<0)for(let o=0;o<a;++o)c[o]=(i+o)/-u;else for(let o=0;o<a;++o)c[o]=(i+o)*u;return c}function j(n,e,r){return e=+e,n=+n,r=+r,y(n,e,r)[2]}function gn(n,e,r){e=+e,n=+n,r=+r;const t=e<n,i=t?j(e,n,r):j(n,e,r);return(t?-1:1)*(i<0?1/-i:i)}function dn(n,e){let r;if(e===void 0)for(const t of n)t!=null&&(r<t||r===void 0&&t>=t)&&(r=t);else{let t=-1;for(let i of n)(i=e(i,++t,n))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Y(n,e,r){n=+n,e=+e,r=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+r;for(var t=-1,i=Math.max(0,Math.ceil((e-n)/r))|0,f=new Array(i);++t<i;)f[t]=n+t*r;return f}function Z(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,t=e.slice(),i;return function(f){for(i=0;i<r;++i)t[i]=n[i]*(1-f)+e[i]*f;return t}}function _(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function b(n,e){var r=e?e.length:0,t=n?Math.min(r,n.length):0,i=new Array(t),f=new Array(r),u;for(u=0;u<t;++u)i[u]=k(n[u],e[u]);for(;u<r;++u)f[u]=e[u];return function(a){for(u=0;u<t;++u)f[u]=i[u](a);return f}}function nn(n,e){var r=new Date;return n=+n,e=+e,function(t){return r.setTime(n*(1-t)+e*t),r}}function en(n,e){var r={},t={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?r[i]=k(n[i],e[i]):t[i]=e[i];return function(f){for(i in r)t[i]=r[i](f);return t}}function k(n,e){var r=typeof e,t;return e==null||r==="boolean"?T(e):(r==="number"?w:r==="string"?(t=N(e))?(e=t,O):x:e instanceof N?O:e instanceof Date?nn:_(e)?Z:Array.isArray(e)?b:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?en:w)(n,e)}function rn(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}function z(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const S=Symbol("implicit");function B(){var n=new I,e=[],r=[],t=S;function i(f){let u=n.get(f);if(u===void 0){if(t!==S)return t;n.set(f,u=e.push(f)-1)}return r[u%r.length]}return i.domain=function(f){if(!arguments.length)return e.slice();e=[],n=new I;for(const u of f)n.has(u)||n.set(u,e.push(u)-1);return i},i.range=function(f){return arguments.length?(r=Array.from(f),i):r.slice()},i.unknown=function(f){return arguments.length?(t=f,i):t},i.copy=function(){return B(e,r).unknown(t)},z.apply(i,arguments),i}function V(){var n=B().unknown(void 0),e=n.domain,r=n.range,t=0,i=1,f,u,a=!1,c=0,o=0,g=.5;delete n.unknown;function s(){var l=e().length,m=i<t,d=m?i:t,v=m?t:i;f=(v-d)/Math.max(1,l-c+o*2),a&&(f=Math.floor(f)),d+=(v-d-f*(l-c))*g,u=f*(1-c),a&&(d=Math.round(d),u=Math.round(u));var A=Y(l).map(function(P){return d+f*P});return r(m?A.reverse():A)}return n.domain=function(l){return arguments.length?(e(l),s()):e()},n.range=function(l){return arguments.length?([t,i]=l,t=+t,i=+i,s()):[t,i]},n.rangeRound=function(l){return[t,i]=l,t=+t,i=+i,a=!0,s()},n.bandwidth=function(){return u},n.step=function(){return f},n.round=function(l){return arguments.length?(a=!!l,s()):a},n.padding=function(l){return arguments.length?(c=Math.min(1,o=+l),s()):c},n.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),s()):c},n.paddingOuter=function(l){return arguments.length?(o=+l,s()):o},n.align=function(l){return arguments.length?(g=Math.max(0,Math.min(1,l)),s()):g},n.copy=function(){return V(e(),[t,i]).round(a).paddingInner(c).paddingOuter(o).align(g)},z.apply(s(),arguments)}function $(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return $(e())},n}function hn(){return $(V.apply(null,arguments).paddingInner(1))}function tn(n){return function(){return n}}function un(n){return+n}var q=[0,1];function h(n){return n}function M(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:tn(isNaN(e)?NaN:.5)}function on(n,e){var r;return n>e&&(r=n,n=e,e=r),function(t){return Math.max(n,Math.min(e,t))}}function fn(n,e,r){var t=n[0],i=n[1],f=e[0],u=e[1];return i<t?(t=M(i,t),f=r(u,f)):(t=M(t,i),f=r(f,u)),function(a){return f(t(a))}}function an(n,e,r){var t=Math.min(n.length,e.length)-1,i=new Array(t),f=new Array(t),u=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++u<t;)i[u]=M(n[u],n[u+1]),f[u]=r(e[u],e[u+1]);return function(a){var c=J(n,a,1,t)-1;return f[c](i[c](a))}}function mn(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function cn(){var n=q,e=q,r=k,t,i,f,u=h,a,c,o;function g(){var l=Math.min(n.length,e.length);return u!==h&&(u=on(n[0],n[l-1])),a=l>2?an:fn,c=o=null,s}function s(l){return l==null||isNaN(l=+l)?f:(c||(c=a(n.map(t),e,r)))(t(u(l)))}return s.invert=function(l){return u(i((o||(o=a(e,n.map(t),w)))(l)))},s.domain=function(l){return arguments.length?(n=Array.from(l,un),g()):n.slice()},s.range=function(l){return arguments.length?(e=Array.from(l),g()):e.slice()},s.rangeRound=function(l){return e=Array.from(l),r=rn,g()},s.clamp=function(l){return arguments.length?(u=l?!0:h,g()):u!==h},s.interpolate=function(l){return arguments.length?(r=l,g()):r},s.unknown=function(l){return arguments.length?(f=l,s):f},function(l,m){return t=l,i=m,g()}}function pn(){return cn()(h,h)}export{mn as a,V as b,pn as c,sn as d,j as e,D as f,z as i,dn as m,B as o,hn as p,gn as t};
