import{l as wt,s as F}from"./transform-35b9fb9e.js";import{_ as Z,o as E,c as tt,r as ot,k as lt,b as ct,a as I,E as St}from"./main-6e31f071.js";import{l as pt,m as yt,b as kt,s as vt,o as At}from"./linear-cecdee01.js";import{a as Tt,b as xt}from"./continuous-03958144.js";import{w as _t,c as S,a as bt}from"./array-4492e866.js";function Mt(n,s){for(var r=new Array(s),d=0;d<s;++d)r[d]=n(d/(s-1));return r}function $t(n){for(var s=n.length/6|0,r=new Array(s),d=0;d<s;)r[d]="#"+n.slice(d*6,++d*6);return r}const Pt=n=>wt(n[n.length-1]);var Rt=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($t);const Ot=Pt(Rt),mt=Math.abs,x=Math.atan2,j=Math.cos,Bt=Math.max,dt=Math.min,O=Math.sin,N=Math.sqrt,b=1e-12,U=Math.PI,Y=U/2,X=2*U;function Ct(n){return n>1?0:n<-1?U:Math.acos(n)}function gt(n){return n>=1?Y:n<=-1?-Y:Math.asin(n)}function qt(n){return n.innerRadius}function Ht(n){return n.outerRadius}function It(n){return n.startAngle}function zt(n){return n.endAngle}function jt(n){return n&&n.padAngle}function Et(n,s,r,d,u,m,h,t){var o=r-n,a=d-s,e=h-u,c=t-m,l=c*o-e*a;if(!(l*l<b))return l=(e*(s-m)-c*(n-u))/l,[n+l*o,s+l*a]}function W(n,s,r,d,u,m,h){var t=n-r,o=s-d,a=(h?m:-m)/N(t*t+o*o),e=a*o,c=-a*t,l=n+e,g=s+c,y=r+e,k=d+c,P=(l+y)/2,p=(g+k)/2,w=y-l,T=k-g,v=w*w+T*T,A=u-m,_=l*k-y*g,C=(T<0?-1:1)*N(Bt(0,A*A*v-_*_)),q=(_*T-w*C)/v,H=(-_*w-T*C)/v,R=(_*T+w*C)/v,M=(-_*w+T*C)/v,$=q-P,i=H-p,f=R-P,z=M-p;return $*$+i*i>f*f+z*z&&(q=R,H=M),{cx:q,cy:H,x01:-e,y01:-c,x11:q*(u/A-1),y11:H*(u/A-1)}}function ft(){var n=qt,s=Ht,r=S(0),d=null,u=It,m=zt,h=jt,t=null,o=_t(a);function a(){var e,c,l=+n.apply(this,arguments),g=+s.apply(this,arguments),y=u.apply(this,arguments)-Y,k=m.apply(this,arguments)-Y,P=mt(k-y),p=k>y;if(t||(t=e=o()),g<l&&(c=g,g=l,l=c),!(g>b))t.moveTo(0,0);else if(P>X-b)t.moveTo(g*j(y),g*O(y)),t.arc(0,0,g,y,k,!p),l>b&&(t.moveTo(l*j(k),l*O(k)),t.arc(0,0,l,k,y,p));else{var w=y,T=k,v=y,A=k,_=P,C=P,q=h.apply(this,arguments)/2,H=q>b&&(d?+d.apply(this,arguments):N(l*l+g*g)),R=dt(mt(g-l)/2,+r.apply(this,arguments)),M=R,$=R,i,f;if(H>b){var z=gt(H/l*O(q)),Q=gt(H/g*O(q));(_-=z*2)>b?(z*=p?1:-1,v+=z,A-=z):(_=0,v=A=(y+k)/2),(C-=Q*2)>b?(Q*=p?1:-1,w+=Q,T-=Q):(C=0,w=T=(y+k)/2)}var L=g*j(w),V=g*O(w),D=l*j(A),G=l*O(A);if(R>b){var J=g*j(T),K=g*O(T),et=l*j(v),nt=l*O(v),B;if(P<U)if(B=Et(L,V,et,nt,J,K,D,G)){var at=L-B[0],st=V-B[1],rt=J-B[0],it=K-B[1],ut=1/O(Ct((at*rt+st*it)/(N(at*at+st*st)*N(rt*rt+it*it)))/2),ht=N(B[0]*B[0]+B[1]*B[1]);M=dt(R,(l-ht)/(ut-1)),$=dt(R,(g-ht)/(ut+1))}else M=$=0}C>b?$>b?(i=W(et,nt,L,V,g,$,p),f=W(J,K,D,G,g,$,p),t.moveTo(i.cx+i.x01,i.cy+i.y01),$<R?t.arc(i.cx,i.cy,$,x(i.y01,i.x01),x(f.y01,f.x01),!p):(t.arc(i.cx,i.cy,$,x(i.y01,i.x01),x(i.y11,i.x11),!p),t.arc(0,0,g,x(i.cy+i.y11,i.cx+i.x11),x(f.cy+f.y11,f.cx+f.x11),!p),t.arc(f.cx,f.cy,$,x(f.y11,f.x11),x(f.y01,f.x01),!p))):(t.moveTo(L,V),t.arc(0,0,g,w,T,!p)):t.moveTo(L,V),!(l>b)||!(_>b)?t.lineTo(D,G):M>b?(i=W(D,G,J,K,l,-M,p),f=W(L,V,et,nt,l,-M,p),t.lineTo(i.cx+i.x01,i.cy+i.y01),M<R?t.arc(i.cx,i.cy,M,x(i.y01,i.x01),x(f.y01,f.x01),!p):(t.arc(i.cx,i.cy,M,x(i.y01,i.x01),x(i.y11,i.x11),!p),t.arc(0,0,l,x(i.cy+i.y11,i.cx+i.x11),x(f.cy+f.y11,f.cx+f.x11),p),t.arc(f.cx,f.cy,M,x(f.y11,f.x11),x(f.y01,f.x01),!p))):t.arc(0,0,l,A,v,p)}if(t.closePath(),e)return t=null,e+""||null}return a.centroid=function(){var e=(+n.apply(this,arguments)+ +s.apply(this,arguments))/2,c=(+u.apply(this,arguments)+ +m.apply(this,arguments))/2-U/2;return[j(c)*e,O(c)*e]},a.innerRadius=function(e){return arguments.length?(n=typeof e=="function"?e:S(+e),a):n},a.outerRadius=function(e){return arguments.length?(s=typeof e=="function"?e:S(+e),a):s},a.cornerRadius=function(e){return arguments.length?(r=typeof e=="function"?e:S(+e),a):r},a.padRadius=function(e){return arguments.length?(d=e==null?null:typeof e=="function"?e:S(+e),a):d},a.startAngle=function(e){return arguments.length?(u=typeof e=="function"?e:S(+e),a):u},a.endAngle=function(e){return arguments.length?(m=typeof e=="function"?e:S(+e),a):m},a.padAngle=function(e){return arguments.length?(h=typeof e=="function"?e:S(+e),a):h},a.context=function(e){return arguments.length?(t=e??null,a):t},a}function Lt(n,s){return s<n?-1:s>n?1:s>=n?0:NaN}function Vt(n){return n}function Nt(){var n=Vt,s=Lt,r=null,d=S(0),u=S(X),m=S(0);function h(t){var o,a=(t=bt(t)).length,e,c,l=0,g=new Array(a),y=new Array(a),k=+d.apply(this,arguments),P=Math.min(X,Math.max(-X,u.apply(this,arguments)-k)),p,w=Math.min(Math.abs(P)/a,m.apply(this,arguments)),T=w*(P<0?-1:1),v;for(o=0;o<a;++o)(v=y[g[o]=o]=+n(t[o],o,t))>0&&(l+=v);for(s!=null?g.sort(function(A,_){return s(y[A],y[_])}):r!=null&&g.sort(function(A,_){return r(t[A],t[_])}),o=0,c=l?(P-a*T)/l:0;o<a;++o,k=p)e=g[o],v=y[e],p=k+(v>0?v*c:0)+T,y[e]={data:t[e],index:o,value:v,startAngle:k,endAngle:p,padAngle:w};return y}return h.value=function(t){return arguments.length?(n=typeof t=="function"?t:S(+t),h):n},h.sortValues=function(t){return arguments.length?(s=t,r=null,h):s},h.sort=function(t){return arguments.length?(r=t,s=null,h):r},h.startAngle=function(t){return arguments.length?(d=typeof t=="function"?t:S(+t),h):d},h.endAngle=function(t){return arguments.length?(u=typeof t=="function"?t:S(+t),h):u},h.padAngle=function(t){return arguments.length?(m=typeof t=="function"?t:S(+t),h):m},h}const Ft={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){F("#tenant-avg-tokens-to-master-skills-chart-container");const n=25,s=0,r=0,d=10,u=200,m=1e3,h=Math.ceil((this.data.length+.1)*n)+s+d,t=pt().domain([0,yt(this.data,c=>c.quantity)]).range([u,m-r]),o=kt().domain(vt(this.data,c=>-c.quantity).map(c=>c.name)).rangeRound([s,h-d]).padding(.1),a=t.tickFormat(20),e=F("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",m).attr("height",h).attr("viewBox",[0,0,m,h]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");e.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",t(0)).attr("y",c=>o(c.name)).attr("width",c=>t(c.quantity)-t(0)).attr("height",o.bandwidth()),e.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",c=>t(c.quantity)).attr("y",c=>o(c.name)+o.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(c=>a(c.quantity)).call(c=>c.filter(l=>t(l.quantity)-t(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),e.append("g").attr("transform",`translate(0,${s})`).call(Tt(t).ticks(0)).call(c=>c.select(".domain").remove()),e.append("g").attr("transform",`translate(${u},0)`).call(xt(o).tickSizeOuter(0))},computed:{}},Ut={id:"tenant-avg-tokens-to-master-skills-chart-container"};function Qt(n,s,r,d,u,m){return E(),tt("div",Ut)}const Dt=Z(Ft,[["render",Qt],["__scopeId","data-v-88815676"]]);const Gt={name:"TenantAvgInteractionTimePerSkill",props:["data","colour"],data(){return{padding:60}},mounted(){F("#tenant-avg-interaction-time-per-skill-chart-container");const n=25,s=0,r=0,d=10,u=200,m=1e3,h=Math.ceil((this.data.length+.1)*n)+s+d,t=pt().domain([0,yt(this.data,e=>e.quantity)]).range([u,m-r]),o=kt().domain(vt(this.data,e=>-e.quantity).map(e=>e.name)).rangeRound([s,h-d]).padding(.1);t.tickFormat(20);const a=F("#tenant-avg-interaction-time-per-skill-chart-container").append("svg").attr("width",m).attr("height",h).attr("viewBox",[0,0,m,h]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");a.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",t(0)).attr("y",e=>o(e.name)).attr("width",e=>t(e.quantity)-t(0)).attr("height",o.bandwidth()),a.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",e=>t(e.quantity)).attr("y",e=>o(e.name)+o.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(e=>e.formattedQuantity).call(e=>e.filter(c=>t(c.quantity)-t(0)<30).attr("dx",4).attr("fill","black").attr("text-anchor","start")),a.append("g").attr("transform",`translate(0,${s})`).call(Tt(t).ticks(0)).call(e=>e.select(".domain").remove()),a.append("g").attr("transform",`translate(${u},0)`).call(xt(o).tickSizeOuter(0))},computed:{}},Jt={id:"tenant-avg-interaction-time-per-skill-chart-container"};function Kt(n,s,r,d,u,m){return E(),tt("div",Jt)}const Wt=Z(Gt,[["render",Kt],["__scopeId","data-v-158e7ab6"]]),Xt={name:"TenantPercentageStudentsMasteredAtLeastOneSkillPieChart",props:["data"],data(){return{padding:60}},mounted(){F("#tenant-percentage-students-mastered-one-skill-chart-container");let n=this.data;const s=928,r=Math.min(s,500);At().domain(n.map(a=>a.name)).range(Mt(a=>Ot(a*.8+.1),n.length).reverse());const d=Nt().sort(null).value(a=>a.value),u=ft().innerRadius(0).outerRadius(Math.min(s,r)/2-1),m=u.outerRadius()()*.8,h=ft().innerRadius(m).outerRadius(m),t=d(n),o=F("#tenant-percentage-students-mastered-one-skill-chart-container").append("svg").attr("width",s).attr("height",r).attr("viewBox",[-s/2,-r/2,s,r]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");o.append("g").attr("stroke","white").selectAll().data(t).join("path").attr("fill",a=>{if(a.data.name==="Mastered one skill")return"darkgreen";if(a.data.name==="Mastered no skills")return"darkred"}).attr("d",u).append("title").text(a=>`${a.data.name}: ${a.data.value.toLocaleString("en-US")}`),o.append("g").attr("text-anchor","middle").selectAll().data(t).join("text").attr("transform",a=>`translate(${h.centroid(a)})`).call(a=>a.append("tspan").attr("y","-0.4em").attr("fill","white").attr("font-weight","bold").text(e=>e.data.name)).call(a=>a.filter(e=>e.endAngle-e.startAngle>.25).append("tspan").attr("x",0).attr("fill","white").attr("y","1em").attr("fill-opacity",1).text(e=>e.data.value.toLocaleString("en-US")))},computed:{}},Yt={id:"tenant-percentage-students-mastered-one-skill-chart-container"};function Zt(n,s,r,d,u,m){return E(),tt("div",Yt)}const te=Z(Xt,[["render",Zt]]),ee={setup(){return{}},components:{TenantAvgTokensToMasterSkillsHorizontalBarChart:Dt,TenantAvgInteractionTimePerSkillHorizontalBarChart:Wt,TenantPercentageStudentsMasteredAtLeastOneSkillPieChart:te},data(){return{tenantId:this.$route.params.tenantId,avgTokensToMasterSkills:[],avgTimeOnSkills:[],percentageStudentsMasteredOneSkill:[]}},async created(){await this.getAvgTokensToMasterSkills(),await this.getAvgTimeOnSkills(),await this.getPercentageStudentsMasteredOneSkill()},methods:{async getAvgTokensToMasterSkills(){try{const n=await fetch(`/student-analytics/avg-tokens-to-master-skills/tenant/${this.tenantId}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();this.avgTokensToMasterSkills=Array.isArray(s)?s:[]}catch(n){console.error("Error fetching cohort mastered assessments:",n),this.avgTokensToMasterSkills=[]}},async getAvgTimeOnSkills(){try{const n=await fetch(`/student-analytics/avg-times-on-skills/tenant/${this.tenantId}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();this.avgTimeOnSkills=Array.isArray(s)?s:[];for(let r=0;r<this.avgTimeOnSkills.length;r++)this.avgTimeOnSkills[r].formattedQuantity=this.millisToMinutesAndSeconds(this.avgTimeOnSkills[r].quantity)}catch(n){console.error("Error fetching cohort mastered assessments:",n),this.avgTimeOnSkills=[]}},async getPercentageStudentsMasteredOneSkill(){try{const n=await fetch(`/student-analytics/percentage-students-mastered-one-skill/tenant/${this.tenantId}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);this.percentageStudentsMasteredOneSkill=await n.json()}catch(n){console.error("Error fetching cohort mastered assessments:",n),this.percentageStudentsMasteredOneSkill=[]}},millisToMinutesAndSeconds(n){var s=Math.floor(n/6e4),r=(n%6e4/1e3).toFixed(0);return s+":"+(r<10?"0":"")+r}}},ne={class:"container"},ae=I("span",{class:"d-flex justify-content-between w-100"},[I("h1",{class:"heading"},"School Admin Report")],-1),se=I("h2",{class:"secondary-heading"},"Skill Engagement & Resource Usage",-1),re=I("h4",null,"Average interaction time per skill (minutes)",-1),ie=I("h4",{class:"mt-5"},"Average number of tokens to master a skill",-1),oe=I("h2",{class:"secondary-heading mt-5"},"Student Progress & Attendance",-1),le=I("h3",null,"Usage and Fidelity Reports",-1),ce=I("h4",null," Percentage of students who completed at least one skill (cumulative) ",-1),de=St('<ul class="mt-5"><li> percentage of students who completed at least one skill <ul><li><em>task made</em></li><li><em>percentage of students who completed at least one skill </em></li><li><em>pie chart </em></li><li><em>add weekly version</em></li></ul></li><li class="mt-3"> total tutoring time <ul><li><em>weekly and cumulative usage</em></li></ul></li><li class="mt-3"> engagement <ul><li><em>task made</em></li><li><em>starting date is when first student started on</em></li><li><em>total time on platform </em></li><li><em>line chart </em></li><li><em>weekly and cumulative usage</em></li></ul></li><li class="mt-3">any others?</li></ul><h2 class="secondary-heading mt-5">Academic Performance Overview</h2><h3>Growth Analytics</h3><p> (Jonathan, you may be able to determine what would be both easiest and most compelling for us to share at this levelâ€”e.g. Skills mastered, Key Skills mastered by student grade, progress made, % progress made within cohorts, etc.) </p><ul><li>number of skills mastered</li><li>% progress made within cohorts</li></ul><h3>Assessment Completion Tracking</h3><p> Visualizes the percentage of students who have completed, are in progress, or have not started skills&#39; assessments, with daily and weekly updates. </p><h3>Performance by Skill Category</h3><p> Allows drill-down into skill categories to view where extra help might be needed (e.g. with math, science, history, etc.) </p><p><em>What skills / categories are students failing the most?</em></p>',10);function ue(n,s,r,d,u,m){const h=ot("TenantAvgInteractionTimePerSkillHorizontalBarChart"),t=ot("TenantAvgTokensToMasterSkillsHorizontalBarChart"),o=ot("TenantPercentageStudentsMasteredAtLeastOneSkillPieChart");return E(),tt("div",ne,[ae,se,re,u.avgTimeOnSkills.length>0?(E(),lt(h,{key:0,data:u.avgTimeOnSkills,colour:"purple"},null,8,["data"])):ct("",!0),ie,u.avgTokensToMasterSkills.length>0?(E(),lt(t,{key:1,data:u.avgTokensToMasterSkills,colour:"darkgreen"},null,8,["data"])):ct("",!0),oe,le,ce,u.percentageStudentsMasteredOneSkill.length>0?(E(),lt(o,{key:2,data:u.percentageStudentsMasteredOneSkill},null,8,["data"])):ct("",!0),de])}const ye=Z(ee,[["render",ue]]);export{ye as default};
