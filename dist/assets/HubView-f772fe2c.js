import{_ as f,r as h,o as n,c as i,d as e,F as m,z as y,e as p,j as b,m as I,t as u,l as w,b as _,p as g,f as v,a as D,g as x,w as S,y as k,q as V,i as T}from"./main-6d048ab9.js";import{u as j}from"./AssessmentsStore-01465860.js";import{u as A}from"./InstructorStudentsStore-0b2d95b2.js";const H={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&this.userSkills[t].type!="domain"&&s.push({name:this.userSkills[t].name,id:this.userSkills[t].id,url:this.userSkills[t].url,level:this.userSkills[t].level});return s.length>0&&(this.noSkills=!1),s}},methods:{}},M=s=>(g("data-v-09f96c5d"),s=s(),v(),s),G=M(()=>e("h2",{class:"secondary-heading h4"},"Available Skills",-1)),Q={id:"skill-list"},O={key:0,id:"no-skill-cell"};function P(s,t,c,r,o,d){const a=h("router-link");return n(),i(m,null,[G,e("div",Q,[(n(!0),i(m,null,y(d.availableSkills,l=>(n(),i("div",null,[p(a,{class:w([{"grade-school":l.level=="grade_school","middle-school":l.level=="middle_school","high-school":l.level=="high_school",college:l.level=="college",phd:l.level=="phd"},"skill-link btn"]),to:`/skills/${l.url}`,target:"_blank"},{default:b(()=>[I(u(l.name),1)]),_:2},1032,["class","to"])]))),256)),o.noSkills?(n(),i("div",O)):_("",!0)])],64)}const B=f(H,[["render",P],["__scopeId","data-v-09f96c5d"]]);const R={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},z=s=>(g("data-v-0ce1127d"),s=s(),v(),s),F=z(()=>e("h2",{class:"secondary-heading h4"},"Last visited Skills",-1)),J={id:"skill-list"},E={key:0,id:"no-skill-cell"};function Y(s,t,c,r,o,d){const a=h("router-link");return n(),i(m,null,[F,e("div",J,[(n(!0),i(m,null,y(o.visitedSkills,l=>(n(),i("div",null,[p(a,{class:w([{"grade-school":l.level=="grade_school","middle-school":l.level=="middle_school","high-school":l.level=="high_school",college:l.level=="college",phd:l.level=="phd"},"skill-link btn"]),to:`/skills/${l.url}`,target:"_blank"},{default:b(()=>[I(u(l.name),1)]),_:2},1032,["class","to"])]))),256)),o.noSkills?(n(),i("div",E)):_("",!0)])],64)}const Z=f(R,[["render",Y],["__scopeId","data-v-0ce1127d"]]);const K={setup(){const s=D(),t=x();return{userDetailsStore:s,skillsStore:t}},data(){return{goals:[]}},async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.goals.length;s++){let t=this.skillsStore.skillsList.find(c=>c.id===this.goals[s].skill_id);this.goals[s].name=t.name,this.goals[s].level=t.level}},methods:{async getGoals(){const s=await fetch("/goals/"+this.userDetailsStore.userId+"/list");this.goals=await s.json()}}},W=s=>(g("data-v-9637b5b4"),s=s(),v(),s),X=W(()=>e("h2",{class:"secondary-heading h4"},"Goals",-1)),ss={id:"goal-list"};function ts(s,t,c,r,o,d){const a=h("router-link");return n(),i(m,null,[X,e("div",ss,[(n(!0),i(m,null,y(o.goals,l=>(n(),i("div",null,[p(a,{class:w([{"grade-school":l.level=="grade_school","middle-school":l.level=="middle_school","high-school":l.level=="high_school",college:l.level=="college",phd:l.level=="phd"},"goal-link btn"]),to:`/goals/${l.id}`,target:"_blank"},{default:b(()=>[I(u(l.name),1)]),_:2},1032,["class","to"])]))),256))])],64)}const es=f(K,[["render",ts],["__scopeId","data-v-9637b5b4"]]);const os={setup(){const s=D();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},ns=s=>(g("data-v-a441cf73"),s=s(),v(),s),is=ns(()=>e("h2",{class:"secondary-heading h4"},"Notifications",-1)),ls={class:"table-div"},rs={key:0,class:"border-bottom p-2"},as={key:1},cs={key:2,class:"p-2"},ds={key:3};function us(s,t,c,r,o,d){return n(),i(m,null,[is,e("div",ls,[r.userDetailsStore.role!="admin"?(n(),i("div",rs,u(o.notifications.notification_1),1)):(n(),i("div",as,[S(e("textarea",{onChange:t[0]||(t[0]=a=>d.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=a=>o.notifications.notification_1=a),class:"form-control border-bottom p-2",rows:"3"},null,544),[[k,o.notifications.notification_1]])])),r.userDetailsStore.role!="admin"?(n(),i("div",cs,u(o.notifications.notification_2),1)):(n(),i("div",ds,[S(e("textarea",{onChange:t[2]||(t[2]=a=>d.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=a=>o.notifications.notification_2=a),class:"form-control p-2",rows:"3"},null,544),[[k,o.notifications.notification_2]])]))])],64)}const _s=f(os,[["render",us],["__scopeId","data-v-a441cf73"]]);const hs={setup(){const s=D();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},ms=s=>(g("data-v-7cea90d3"),s=s(),v(),s),ps=ms(()=>e("h2",{class:"secondary-heading h4"},"News",-1)),fs={class:"table-div row rounded mb-3"},gs={class:"p-2 col-lg-3 col-md-6"},vs={key:0},Ss={class:"p-2 col-lg-3 col-md-6"},ks={key:0},ws={class:"p-2 col-lg-3 col-md-6"},ys={key:0},bs={class:"p-2 col-lg-3 col-md-6"},Ts={key:0};function Ds(s,t,c,r,o,d){return n(),i(m,null,[ps,e("div",fs,[e("div",gs,[r.userDetailsStore.role!="admin"?(n(),i("p",vs,u(o.news.news_1),1)):S((n(),i("textarea",{key:1,onChange:t[0]||(t[0]=a=>d.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=a=>o.news.news_1=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_1]])]),e("div",Ss,[r.userDetailsStore.role!="admin"?(n(),i("p",ks,u(o.news.news_2),1)):S((n(),i("textarea",{key:1,onChange:t[2]||(t[2]=a=>d.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=a=>o.news.news_2=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_2]])]),e("div",ws,[r.userDetailsStore.role!="admin"?(n(),i("p",ys,u(o.news.news_3),1)):S((n(),i("textarea",{key:1,onChange:t[4]||(t[4]=a=>d.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=a=>o.news.news_3=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_3]])]),e("div",bs,[r.userDetailsStore.role!="admin"?(n(),i("p",Ts,u(o.news.news_4),1)):S((n(),i("textarea",{key:1,onChange:t[6]||(t[6]=a=>d.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=a=>o.news.news_4=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_4]])])])],64)}const $s=f(hs,[["render",Ds],["__scopeId","data-v-7cea90d3"]]);const Is={props:{assessments:{type:Array,required:!0}},setup(){return{}},data(){return{}},computed:{},methods:{}},xs=s=>(g("data-v-410f668d"),s=s(),v(),s),Cs={class:"container-fluid"},Ls=xs(()=>e("h2",{class:"secondary-heading h4"},"Mark Assessments",-1)),Ns={id:"list-body"},Us={class:"assessment"},qs={id:"student-name"},Vs={id:"skill-name"},js={id:"date"};function As(s,t,c,r,o,d){const a=h("RouterLink");return n(),i("div",Cs,[Ls,e("div",Ns,[(n(!0),i(m,null,y(this.assessments,l=>(n(),i("div",Us,[p(a,{class:"assessment-link",to:"/mark-assessment/"+l.id},{default:b(()=>[e("span",qs,u(l.studentUsername)+", ",1),e("span",Vs,u(l.skillName)+", ",1),e("span",js,u(l.date),1)]),_:2},1032,["to"])]))),256))])])}const Hs=f(Is,[["render",As],["__scopeId","data-v-410f668d"]]);const Ms={props:{questions:{type:Array,required:!0}},methods:{formatDate(s){var t=s.replace("T"," ");t=t.replace("Z"," ");let c=t.split(/[- :]/);var r=new Date(Date.UTC(c[0],c[1]-1,c[2],c[3],c[4],c[5])),o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return r=r.toLocaleDateString("en-US",o),r}}},Gs=s=>(g("data-v-1df3f680"),s=s(),v(),s),Qs={class:"container-fluid"},Os=Gs(()=>e("h2",{class:"secondary-heading h4"},"Check New Questions",-1)),Ps={class:"list-body"},Bs={class:"question"},Rs={class:"student-name"},zs={class:"skill-name"},Fs={class:"date"};function Js(s,t,c,r,o,d){const a=h("RouterLink");return n(),i("div",Qs,[Os,e("div",Ps,[(n(!0),i(m,null,y(c.questions,l=>(n(),i("div",Bs,[p(a,{class:"question-link",to:`/check-student-question/${l.id}`},{default:b(()=>[e("span",Rs,u(l.student)+", ",1),e("span",zs,u(l.skillname)+", ",1),e("span",Fs,u(d.formatDate(l.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Es=f(Ms,[["render",Js],["__scopeId","data-v-1df3f680"]]);const Ys={setup(){const s=D(),t=j(),c=V(),r=x(),o=A();return s.getUserDetails(),{userDetailsStore:s,assessmentsStore:t,usersStore:c,skillsStore:r,instructorStudentsStore:o}},data(){return{assessments:[],questions:[],studentIds:[],showTutorialTip1:!1,showTutorialTip2:!1,showTutorialTip3:!1,showTutorialTip4:!1,showTutorialTip5:!1}},components:{News:$s,Notifications:_s,StudentProgress:B,MarkAssessment:Hs,LastVisitedSkills:Z,Goals:es,HubStudentQuestionList:Es},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},async created(){localStorage.getItem("isHubTutorialCompleted")!="true"&&(this.showTutorialTip1=!0),await this.fetchAssessments(),await this.getStudentMCQuestions()},methods:{async fetchAssessments(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},async getStudentMCQuestions(){const t=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=t},progressTutorial(s){s==1?(this.showTutorialTip1=!1,this.showTutorialTip2=!0):s==2?(this.showTutorialTip2=!1,this.showTutorialTip3=!0):s==3?(this.showTutorialTip3=!1,this.showTutorialTip4=!0):s==4&&(this.showTutorialTip4=!1,localStorage.setItem("isHubTutorialCompleted","true"))}}},Zs={class:"container min-vh-100"},Ks={class:"row content-row"},Ws={class:"hub-component h-100"},Xs={key:2,class:"info-panel modal-content bg-light rounded p-2 mb-2"},st=e("p",null," This section shows your available skills. These are the skills that you can try to master by taking a quiz. ",-1),tt=e("p",null," Once you master a skill, more skills will get unlocked. ",-1),et={class:"hub-component h-100"},ot={key:2,class:"info-panel modal-content bg-light rounded p-2 mb-2"},nt=e("p",null," This section shows your the last 5 skill pages you visited. ",-1),it={key:2,class:"col-lg-4 col-md-6 mb-2"},lt={class:"hub-component h-100"},rt={key:0,class:"info-panel modal-content bg-light rounded p-2 mb-2"},at=e("p",null,"This section shows any goals you might have made.",-1),ct=e("p",null," You can make a goal when there is a skill you want to master but it is not unlocked yet. ",-1),dt={class:"row"},ut={class:"col-lg-4 col-md-6 mb-2"},_t={class:"hub-component h-100"},ht={class:"row"},mt={class:"col"},pt={class:"hub-component h-100"},ft={key:0,class:"modal"},gt={class:"modal-content"},vt={key:0},St=e("p",null,"This is your hub page.",-1),kt={key:1,class:"modal"};function wt(s,t,c,r,o,d){const a=h("StudentProgress"),l=h("MarkAssessment"),C=h("LastVisitedSkills"),L=h("HubStudentQuestionList"),N=h("Goals"),U=h("Notifications"),q=h("News");return n(),i(m,null,[e("div",Zs,[e("div",Ks,[r.userDetailsStore.role!="editor"?(n(),i("div",{key:0,class:w(["col-lg-4 col-md-6 mb-2",{"d-none":r.userDetailsStore.role=="instructor"&&o.assessments.length===0}])},[e("div",Ws,[r.userDetailsStore.role=="student"?(n(),T(a,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(n(),T(l,{key:1,assessments:o.assessments},null,8,["assessments"])):_("",!0),o.showTutorialTip2?(n(),i("div",Xs,[st,tt,e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=$=>d.progressTutorial(2))}," next ")])):_("",!0)])],2)):_("",!0),r.userDetailsStore.role!="editor"?(n(),i("div",{key:1,class:w(["col-lg-4 col-md-6 mb-2",{"d-none":r.userDetailsStore.role=="instructor"&&o.questions.length===0}])},[e("div",et,[r.userDetailsStore.role=="student"?(n(),T(C,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(n(),T(L,{key:1,questions:o.questions},null,8,["questions"])):_("",!0),o.showTutorialTip3?(n(),i("div",ot,[nt,e("button",{class:"btn primary-btn",onClick:t[1]||(t[1]=$=>d.progressTutorial(3))}," next ")])):_("",!0)])],2)):_("",!0),r.userDetailsStore.role=="student"?(n(),i("div",it,[e("div",lt,[p(N),o.showTutorialTip4?(n(),i("div",rt,[at,ct,e("button",{class:"btn primary-btn",onClick:t[2]||(t[2]=$=>d.progressTutorial(4))}," close ")])):_("",!0)])])):_("",!0)]),e("div",dt,[e("div",ut,[e("div",_t,[p(U)])])]),e("div",ht,[e("div",mt,[e("div",pt,[p(q)])])])]),o.showTutorialTip1?(n(),i("div",ft,[e("div",gt,[o.showTutorialTip1?(n(),i("div",vt,[St,e("button",{class:"btn primary-btn",onClick:t[3]||(t[3]=$=>d.progressTutorial(1))}," next ")])):_("",!0)])])):_("",!0),o.showTutorialTip2||o.showTutorialTip3||o.showTutorialTip4?(n(),i("div",kt)):_("",!0)],64)}const Dt=f(Ys,[["render",wt]]);export{Dt as default};
