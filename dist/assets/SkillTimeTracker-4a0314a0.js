import{_ as e,f as s}from"./main-1c6e9dcf.js";import{u as r}from"./ShowSkillStore-afe99a65.js";const l={setup(){const t=s(),i=r();return{userDetailsStore:t,showSkillStore:i}},data(){return{skillUrl:this.$route.params.skillUrl,userStartTime:null,userEndTime:null,duration:null,lastActivityTime:Date.now(),inactivityThreshold:3e4,isActive:!0}},mounted(){this.userStartTime=Date.now(),["mousemove","keydown","scroll","click","touchstart"].forEach(t=>window.addEventListener(t,this.resetTimer)),setInterval(()=>{Date.now()-this.lastActivityTime>this.inactivityThreshold&&this.isActive&&(this.isActive=!1,console.log("User is inactive"))},1e3)},methods:{resetTimer(){this.lastActivityTime=Date.now(),this.isActive||(this.isActive=!0,console.log("User became active again"))},saveDuration(){this.userEndTime=Date.now(),this.duration=this.userEndTime-this.userStartTime;let t;this.showSkillStore.skill?t=this.showSkillStore.skill.id:this.$parent.skillId?t=this.$parent.skillId:this.$route.params.skillId?t=this.$route.params.skillId:this.$parent.skill.id&&(t=this.$parent.skill.id),fetch("/student-analytics/record-duration/"+this.userDetailsStore.userId+"/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({duration:this.duration})})}}};function o(t,i,a,n,h,c){return null}const m=e(l,[["render",o]]);export{m as S};
