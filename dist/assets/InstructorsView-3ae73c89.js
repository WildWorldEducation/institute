import{u as w}from"./CohortsStore-4668a31a.js";import{_ as m,f as _,o,c as r,F as f,z as I,a as e,q as y,t as g,r as p,g as T,k,b as u,p as C,d as v}from"./main-b274d6e2.js";import S from"./SchoolAdminAnalyticsClassReportView-2c8d632e.js";import{u as D}from"./AnalyticsStore-d1a2db7e.js";import"./CohortProgressLineChart-5de94e8e.js";import"./transform-62bed377.js";import"./line-69ff8f5e.js";import"./time-bec744cd.js";import"./linear-de29b0e6.js";import"./point-ea70dc51.js";import"./ordinal-ed23e132.js";import"./pie-bbb3c1fc.js";import"./colors-98f238a0.js";import"./CohortDurationPerDayLineChart-287041b0.js";import"./CohortSkillActivityChart-bec6d8ab.js";import"./band-a97ffeb0.js";import"./sort-a49d696f.js";const b={setup(){const t=w(),s=_();return{cohortsStore:t,userDetailsStore:s}},props:["instructors"],data(){return{showInformationModal:!1}},async created(){await this.cohortsStore.getCohorts(this.userDetailsStore.userId),this.checkIfTutorialComplete()},methods:{selectInstructor(t){this.$parent.selectedInstructor=t,this.$parent.updateInstructorDetails(t)},restartTutorial(){this.showTutorialTip2=!1,this.showTutorialTip3=!1,this.showTutorialTip4=!1,this.showTutorialTip1=!0},closeMobileDetail(){this.showDetails=!1},async checkIfTutorialComplete(){const s=await(await fetch("/users/check-tutorial-progress/cohorts/"+this.userDetailsStore.userId)).json();s==0?(this.isTutorialComplete=!1,this.showTutorialTip1=!0):s==1&&(this.isTutorialComplete=!0)},progressTutorial(t){t==1?(this.showTutorialTip1=!1,this.showTutorialTip2=!0):t==2?(this.showTutorialTip2=!1,this.showTutorialTip3=!0):t==3?(this.showTutorialTip3=!1,this.showTutorialTip4=!0):t==4&&(this.showTutorialTip4=!1,this.markTutorialComplete())},markTutorialComplete(){let t="/users/mark-tutorial-complete/cohorts/"+this.userDetailsStore.userId;fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"}})},skipTutorial(){this.showTutorialTip1=!1,this.showTutorialTip2=!1,this.showTutorialTip3=!1,this.showTutorialTip4=!1,this.isTutorialComplete=!0,this.markTutorialComplete()}}},P={class:"container mt-1"},$={class:"d-flex bg-light rounded p-2"},j=["onClick"];function L(t,s,l,d,i,n){return o(),r("div",P,[(o(!0),r(f,null,I(l.instructors,a=>(o(),r("div",{key:a.id},[e("div",$,[e("button",{class:y(a.id===t.$parent.selectedInstructor.id?"isCurrentlySelected":"cohort-buttons"),onClick:c=>n.selectInstructor(a)},g(a.username),11,j)])]))),128))])}const x=m(b,[["render",L]]);const A={setup(){const t=_(),s=D();return{userDetailsStore:t,analyticsStore:s}},data(){return{isLoading:!0,showDetails:!1,isTutorialComplete:!1,showTutorialTip1:!1,showTutorialTip2:!1,showTutorialTip3:!1,showTutorialTip4:!1,instructorsPerTenant:[],selectedInstructor:{}}},components:{InstructorDetails:S,InstructorsList:x},async created(){this.instructorsPerTenant.length<1&&(await this.getInstructorsPerTenant(this.userDetailsStore.tenantId),this.selectedInstructor=this.instructorsPerTenant[0]),window.innerWidth<769&&(this.showDetails=!0),this.isLoading=!1},methods:{async getInstructorsPerTenant(t){const l=await(await fetch("/tenants/instructors/"+t)).json();this.instructorsPerTenant=l,this.selectedInstructor=this.instructorsPerTenant[0]},async checkIfTutorialComplete(){const s=await(await fetch("/users/check-tutorial-progress/instructors/"+this.userDetailsStore.userId)).json();s==0?(this.isTutorialComplete=!1,this.showTutorialTip1=!0):s==1&&(this.isTutorialComplete=!0)},progressTutorial(t){t==1&&(this.showTutorialTip1=!1,this.markTutorialComplete())},restartTutorial(){this.showTutorialTip1=!0,this.isTutorialComplete=!1},markTutorialComplete(){let t="/users/mark-tutorial-complete/skill/"+this.userDetailsStore.userId;fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"}})},skipTutorial(){this.showTutorialTip1=!1,this.isTutorialComplete=!0,this.markTutorialComplete()},updateInstructorDetails(t){this.selectedInstructor=t,this.$refs.InstructorDetails.getInstructorPercentageStudentsMasteredAtLeastOneSkill(),this.$refs.InstructorDetails.classProgress=[],this.$refs.InstructorDetails.getTenantClassProgress(),this.$refs.InstructorDetails.getTenantClassDurationPerDay(),this.analyticsStore.getTeacherClassSkillActivityReport(this.selectedInstructor.id),this.analyticsStore.getTeacherClassFailedAssessmentsBySubject(this.selectedInstructor.id),this.analyticsStore.getTeacherClassPassedAssessmentsBySubject(this.selectedInstructor.id),this.analyticsStore.getTeacherClassAttemptedAssessmentsBySubject(this.selectedInstructor.id)}}},h=t=>(C("data-v-ce5fb070"),t=t(),v(),t),B={key:0,class:"loading-animation d-flex justify-content-center align-items-center py-4"},q=h(()=>e("span",{class:"loader"},null,-1)),O=[q],V={key:1,id:"user-container",class:"container-fluid"},F={class:"row position-relative"},M={class:"col-lg-4 col-md-5"},N={class:"col-lg-8 col-md-7 d-none d-md-block"},U={class:"row user-form-data-row"},z={key:1},E=h(()=>e("h1",{class:"text-muted py-5"},"You have no cohorts",-1)),R=[E],W={key:0,class:"col-md-7 d-block d-md-none",id:"user-detail-section"},Y={class:"row"},G={key:2,class:"modal"},H={class:"modal-content"},J={key:0},K=h(()=>e("p",null," This page displays comprehensive analytics for the selected instructor's classes, including student engagement metrics (time on platform, skills visited), academic progress (skill mastery, completion rates), and assessment performance broken down by subject areas. ",-1)),Q={class:"d-flex justify-content-between"};function X(t,s,l,d,i,n){const a=p("InstructorsList"),c=p("InstructorDetails");return o(),r(f,null,[i.isLoading==!0?(o(),r("div",B,O)):(o(),r("div",V,[e("div",F,[e("div",M,[T(a,{instructors:i.instructorsPerTenant},null,8,["instructors"])]),e("div",N,[e("div",U,[i.isLoading?(o(),r("div",z,R)):(o(),k(c,{key:0,ref:"InstructorDetails"},null,512))])]),i.showDetails?(o(),r("div",W,[e("div",Y,[T(c)])])):u("",!0)])])),d.userDetailsStore.role=="school_admin"&&i.showTutorialTip1?(o(),r("div",G,[e("div",H,[i.showTutorialTip1?(o(),r("div",J,[K,e("div",Q,[e("button",{class:"btn primary-btn",onClick:s[0]||(s[0]=Z=>n.progressTutorial(1))}," close ")])])):u("",!0)])])):u("",!0)],64)}const ft=m(A,[["render",X],["__scopeId","data-v-ce5fb070"]]);export{ft as default};
