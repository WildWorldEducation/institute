import{_ as u,A as h,r,o,c,a as s,g as m,s as S,t as p,k as y}from"./main-6da4b1d3.js";import{u as f}from"./TeacherAnalyticsStore-26a76923.js";import{S as A}from"./StudentSkillActivityChart-a7a5e3c2.js";import{D as _}from"./downloadCSVBtn-266bccc8.js";import"./transform-4d0f7c8f.js";import"./string-c67ea49d.js";import"./band-2263c9e7.js";import"./continuous-93813e6c.js";import"./linear-d9b6cbf2.js";const k={setup(){const e=h(),t=f();return{usersStore:e,teacherAnalyticsStore:t}},data(){return{studentId:this.$route.params.studentId,studentName:null,visitedSkills:[],downloadData:[]}},components:{StudentSkillActivityChart:A,DownloadCSVBtn:_},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const e=this.usersStore.users.find(t=>t.id===this.studentId);e&&(this.studentName=e.username),this.teacherAnalyticsStore.skillActivities.length==0&&await this.teacherAnalyticsStore.getSkillActivityReport(this.studentId),this.teacherAnalyticsStore.skillActivities=this.teacherAnalyticsStore.skillActivities.map(t=>({...t,formattedQuantity:this.millisToMinutesAndSeconds(t.quantity)})),this.downloadData=this.teacherAnalyticsStore.skillActivities.map(t=>({skill:t.name,minutes:t.formattedQuantity}))},methods:{visitedDate(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return t+":"+(i<10?"0":"")+i}}},v={class:"container"},g={class:"d-flex flex-column"},w={class:"d-flex justify-content-between w-100"},D=s("h1",{class:"heading"},"Skill Activity Report",-1),N={class:"secondary-heading h3 d-flex justify-content-end align-items-center"},x={key:1};function B(e,t,i,a,n,C){const l=r("DownloadCSVBtn"),d=r("StudentSkillActivityChart");return o(),c("div",v,[s("div",g,[s("span",w,[D,s("h2",N,[m(l,{data:n.downloadData,fileName:`Skill Activity Report - ${n.studentName}`},null,8,["data","fileName"]),S(" "+p(n.studentName),1)])])]),a.teacherAnalyticsStore.skillActivities.length>0?(o(),y(d,{key:0,data:a.teacherAnalyticsStore.skillActivities,colour:"darkred"},null,8,["data"])):(o(),c("p",x,"No skills visited by this student."))])}const q=u(k,[["render",B]]);export{q as default};
