import{_ as p,o as r,c as a,d as e,b as u,p as k,f as y,w as A,j as q,s as h,t as c,i as H,e as v,m as F,F as L,k as P,T as E,r as _,a as G,g as $,x as V,l as Z}from"./main-9110bc61.js";import{c as O,g as J,d as K}from"./index.es6-593402c1.js";import{d as g}from"./dayjs.min-d6bc37a0.js";import{H as Q}from"./htmldiff.min-310ee87f.js";import{_ as X}from"./institute-collins-2-184bdfcb.js";const ee={props:["showConfirmModal","closeModal","openCommentModal"]},R=s=>(k("data-v-b82f25f3"),s=s(),y(),s),se={key:0,class:"modal"},te={class:"modal-content asking-modal"},ie=R(()=>e("div",{class:"d-flex gap-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"grey",width:"45",height:"45"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})]),e("p",null," Are you sure you want to revert the skill to this version? ")],-1)),oe={class:"d-flex justify-content-lg-between justify-content-md-end justify-content-between gap-2"},ne=R(()=>e("span",{class:"d-none d-md-block"}," No ",-1)),le=R(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)),re=[ne,le],ae=R(()=>e("span",{class:"d-none d-md-block"}," Yes ",-1)),ce=R(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"})],-1)),de=[ae,ce];function he(s,i,l,d,o,t){return l.showConfirmModal?(r(),a("div",se,[e("div",te,[ie,e("div",oe,[e("button",{type:"button",class:"btn red-btn",onClick:i[0]||(i[0]=(...n)=>l.closeModal&&l.closeModal(...n))},re),e("button",{type:"button",class:"btn green-btn",onClick:i[1]||(i[1]=(...n)=>l.openCommentModal&&l.openCommentModal(...n))},de)])])])):u("",!0)}const me=p(ee,[["render",he],["__scopeId","data-v-b82f25f3"]]);const _e={props:["showCommentModal","closeModal","revert"]},b=s=>(k("data-v-97823aed"),s=s(),y(),s),ve={key:0,id:"myModal",class:"modal"},ue={class:"modal-content"},pe={class:"d-flex flex-column"},fe=b(()=>e("div",{class:"pb-3"},"Please add a comment to explain.",-1)),we={class:"d-flex justify-content-lg-between justify-content-md-end justify-content-between gap-2 mt-2"},ge=b(()=>e("span",{class:"d-none d-md-block"}," Cancel ",-1)),ke=b(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)),ye=[ge,ke],De=b(()=>e("span",{class:"d-none d-md-block"}," Submit ",-1)),Ce=b(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"})],-1)),Re=[De,Ce];function be(s,i,l,d,o,t){return l.showCommentModal?(r(),a("div",ve,[e("div",ue,[e("div",pe,[fe,A(e("textarea",{class:"revert-comment",rows:"5",cols:"33",autofocus:"","onUpdate:modelValue":i[0]||(i[0]=n=>s.$parent.revertComment=n)},`\r
                `,512),[[q,s.$parent.revertComment]])]),e("div",we,[e("button",{type:"button",class:"btn red-btn modal-btn",onClick:i[1]||(i[1]=(...n)=>l.closeModal&&l.closeModal(...n))},ye),e("button",{type:"button",class:"btn green-btn modal-btn",onClick:i[2]||(i[2]=(...n)=>l.revert&&l.revert(...n))},Re)])])])):u("",!0)}const xe=p(_e,[["render",be],["__scopeId","data-v-97823aed"]]);var z={exports:{}};(function(s,i){(function(l,d){s.exports=d()})(O,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(d,o,t){var n=o.prototype,w=n.format;t.en.formats=l,n.format=function(m){m===void 0&&(m="YYYY-MM-DDTHH:mm:ssZ");var C=this.$locale().formats,S=function(T,W){return T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Rt,N,x){var j=x&&x.toUpperCase();return N||W[x]||l[x]||W[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(bt,B,U){return B||U.slice(1)})})}(m,C===void 0?{}:C);return w.call(this,S)}}})})(z);var Me=z.exports;const M=J(Me);const Se={data(){return{showDropDown:!1}},props:["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"],methods:{formatDate(s){return g.extend(M),g(s).format("lll")},formatDatePhone(s){return g.extend(M),g(s).format("LL")}},computed:{compareWithVersion(){return this.compareWithRevision?this.compareWithRevision:!1},skillRevisionHistoryMinusCurrentRevision(){let s=[];for(let i=0;i<this.skillRevisionHistory.length;i++)this.skillRevisionHistory[i].version_number!=this.currentShowingVersion&&s.push(this.skillRevisionHistory[i]);return s}}},I=s=>(k("data-v-9f771988"),s=s(),y(),s),We={class:"position-relative mb-4"},He={class:"d-flex"},Le={key:0},$e={key:1},Ve={class:"d-flex ms-2 d-none d-md-block"},ze={class:"revision-strong-text ms-2"},Ie={class:"revision-strong-text"},Ye={class:"revision-strong-text ms-2"},Te={class:"d-md-none"},Ne={class:"revision-strong-text"},je=I(()=>e("path",{d:"M14.2929 8.70711C14.9229 8.07714 14.4767 7 13.5858 7H6.41421C5.52331 7 5.07714 8.07714 5.70711 8.70711L9.29289 12.2929C9.68342 12.6834 10.3166 12.6834 10.7071 12.2929L14.2929 8.70711Z",fill:"#344054"},null,-1)),Be=[je],Ue={key:0,class:"history-versions-dropdown"},Ae=["onClick"],qe={class:"d-none d-md-block"},Fe={class:"revision-strong-text"},Pe={class:"revision-strong-text"},Ee={class:"revision-strong-text"},Ge={class:"d-md-none"},Ze={class:"revision-strong-text"},Oe={class:"revision-strong-text"},Je={key:0,class:"version-badge ms-2"},Ke=I(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"white",width:"20",height:"20",class:"hand-icon"},[e("path",{d:"M64 128l177.6 0c-1 5.2-1.6 10.5-1.6 16l0 16-32 0L64 160c-8.8 0-16-7.2-16-16s7.2-16 16-16zm224 16c0-17.7 14.3-32 32-32c0 0 0 0 0 0l24 0c66.3 0 120 53.7 120 120l0 48c0 52.5-33.7 97.1-80.7 113.4c.5-3.1 .7-6.2 .7-9.4c0-20-9.2-37.9-23.6-49.7c4.9-9 7.6-19.4 7.6-30.3c0-15.1-5.3-29-14-40c8.8-11 14-24.9 14-40l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-40 0-40zm32-80s0 0 0 0c-18 0-34.6 6-48 16L64 80C28.7 80 0 108.7 0 144s28.7 64 64 64l82 0c-1.3 5.1-2 10.5-2 16c0 25.3 14.7 47.2 36 57.6c-2.6 7-4 14.5-4 22.4c0 20 9.2 37.9 23.6 49.7c-4.9 9-7.6 19.4-7.6 30.3c0 35.3 28.7 64 64 64l64 0 24 0c92.8 0 168-75.2 168-168l0-48c0-92.8-75.2-168-168-168l-24 0zM256 400c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 16 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0zM240 224c0 5.5 .7 10.9 2 16l-2 0-32 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l32 0 0 16zm24 64l40 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0-16 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l24 0z"})],-1));function Qe(s,i,l,d,o,t){return r(),a("div",We,[e("div",{class:H(["d-flex flex-column compare-dropdown-div",[o.showDropDown?"button-focus":"button-unfocus"]])},[e("button",{onClick:i[0]||(i[0]=n=>o.showDropDown=!o.showDropDown),class:"dropdown-btn"},[e("div",He,[h(" Compare with:  "),t.compareWithVersion?(r(),a("div",$e,[e("div",Ve,[h(" version "),e("span",ze,c(t.compareWithVersion.version_number),1),h(", edit date: "),e("span",Ie,c(t.formatDate(t.compareWithVersion.edited_date)),1),h(", by "),e("span",Ye,c(t.compareWithVersion.user_name),1)]),e("div",Te,[h(" Version: "),e("span",Ne,c(t.compareWithVersion.version_number),1)])])):(r(),a("div",Le,"none"))]),(r(),a("svg",{class:H({"expand-arrow":o.showDropDown,"minimize-arrow":!o.showDropDown}),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Be,2))]),v(E,{name:"dropdown"},{default:F(()=>[o.showDropDown?(r(),a("div",Ue,[(r(!0),a(L,null,P(t.skillRevisionHistoryMinusCurrentRevision,n=>(r(),a("div",{class:"revision-row d-flex flex-column flex-lg-row align-items-lg-center align-items-start justify-content-start",onClick:w=>{l.updateCompareWithRevision(n),o.showDropDown=!1}},[e("div",qe,[h(" Version: "),e("span",Fe,c(n.version_number),1),h(", edit date: "),e("span",Pe,c(t.formatDate(n.edited_date)),1),h(", by "),e("span",Ee,c(n.user_name),1)]),e("div",Ge,[h(" Version: "),e("span",Ze,c(n.version_number),1),h(" , edit date: "),e("span",Oe,c(t.formatDatePhone(n.edited_date)),1)]),n.version_number===l.currentShowingVersion?(r(),a("div",Je,[Ke,h(" You are in this version ")])):u("",!0)],8,Ae))),256)),e("div",{class:"revision-row",onClick:i[1]||(i[1]=n=>{l.updateCompareWithRevision(null),o.showDropDown=!1})}," None ")])):u("",!0)]),_:1})],2)])}const Y=p(Se,[["render",Qe],["__scopeId","data-v-9f771988"]]);const Xe={setup(){},data(){return{addCount:0,removeCount:0,innerHtmlDisplay:""}},props:["diffString"],async created(){this.diffString&&(this.innerHtmlDisplay='<div class="inner-div">',this.diffString.forEach((s,i)=>{s.added&&!s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="add">${s.value}</span>`),!s.added&&s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="remove">${s.value}</span>`),!s.added&&!s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+s.value),i===this.diffString.length&&(this.innerHtmlDisplay=this.innerHtmlDisplay+"</div>")}))},methods:{}},es={class:"d-flex flex-row align-items-center flex-wrap"},ss=["innerHTML"];function ts(s,i,l,d,o,t){return r(),a("div",es,[e("div",{innerHTML:o.innerHtmlDisplay},null,8,ss)])}const is=p(Xe,[["render",ts],["__scopeId","data-v-ac01d899"]]);const os={props:["viewingRevision","compareWithRevision","skillRevisionHistory","updateCompareWithRevision"],components:{CompareString:is,CompareWithDropdown:Y},computed:{compareData(){if(!this.compareWithRevision)return;const s=Q.execute(this.viewingRevision.mastery_requirements,this.compareWithRevision.mastery_requirements),i=K(this.viewingRevision.name,this.compareWithRevision.name),l=this.viewingRevision.icon_image!==this.compareWithRevision.icon_image;return{masteryDiff:s,nameDiff:i,imageDiff:l,skillData:this.compareWithRevision,currentViewingRevision:this.viewingRevision}}},methods:{formatDate(s){return g.extend(M),g(s).format("lll")}}},D=s=>(k("data-v-dfb348ab"),s=s(),y(),s),ns={class:"container mt-3"},ls={id:"skill-info-container"},rs={class:"d-flex justify-content-between"},as={class:"skill-name"},cs={class:"revision-version"},ds=D(()=>e("hr",{class:"border border-2 opacity-100 hr"},null,-1)),hs={class:"d-flex flex-column"},ms={class:"alert alert-warning d-flex gap-2 align-items-center",role:"alert"},_s={class:"d-flex flex-column ms-2"},vs=D(()=>e("strong",null,"You are comparing:",-1)),us={class:"warning-date"},ps=D(()=>e("strong",null,"with:",-1)),fs={class:"warning-date"},ws=D(()=>e("hr",{class:"border border-1 opacity-0 hr mt-md-4 mt-5"},null,-1)),gs={class:"d-flex flex-column-reverse flex-md-row gap-4"},ks={class:"mastery-requirements"},ys=["innerHTML"],Ds={class:"col-md-4 order-1 order-md-2"},Cs={class:"info-box p-2 mb-2"},Rs=["src"],bs={class:"mt-2"},xs=D(()=>e("h2",{class:"h4 title"},"Level",-1)),Ms={key:0},Ss={key:1},Ws={key:2},Hs={key:3},Ls={key:4},$s=D(()=>e("p",null," ",-1));function Vs(s,i,l,d,o,t){var m;const n=_("CompareString"),w=_("CompareWithDropdown");return r(),a("div",ns,[e("div",ls,[e("div",rs,[e("h1",as,[v(n,{diffString:t.compareData.nameDiff},null,8,["diffString"]),e("span",cs,"(Ver: "+c(t.compareData.skillData.version_number)+")",1)])]),ds,e("div",hs,[e("div",ms,[e("div",_s,[e("p",null,[vs,e("span",null,[h(" Revision "+c(t.compareData.currentViewingRevision.version_number)+" edited by ",1),e("em",null,c(t.compareData.currentViewingRevision.userName),1),h(" on "),e("span",us,c(t.formatDate(t.compareData.currentViewingRevision.edited_date)),1)])]),e("p",null,[ps,e("span",null,[h(" Revision "+c(t.compareData.skillData.version_number)+" edited by ",1),e("em",null,c(t.compareData.skillData.user_name),1),h(" on "),e("span",fs,c(t.formatDate((m=t.compareData.skillData)==null?void 0:m.edited_date)),1)])])])]),v(w,{skillRevisionHistory:l.skillRevisionHistory,currentShowingVersion:t.compareData.skillData.version_number,updateCompareWithRevision:l.updateCompareWithRevision,compareWithRevision:l.compareWithRevision},null,8,["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"])]),ws,e("div",gs,[e("div",ks,[e("div",{innerHTML:t.compareData.masteryDiff},null,8,ys)]),e("div",Ds,[e("div",Cs,[e("img",{src:t.compareData.skillData.icon_image?t.compareData.skillData.icon_image:"/images/skill-avatar/recurso.png",class:"rounded img-fluid"},null,8,Rs),e("div",bs,[xs,t.compareData.skillData.level=="grade_school"?(r(),a("span",Ms,"Grade School")):t.compareData.skillData.level=="middle_school"?(r(),a("span",Ss,"Middle School")):t.compareData.skillData.level=="high_school"?(r(),a("span",Ws,"High School")):t.compareData.skillData.level=="college"?(r(),a("span",Hs,"College")):t.compareData.skillData.level=="phd"?(r(),a("span",Ls,"PHD")):u("",!0)])])])]),e("button",{class:"btn purple-btn mt-4",onClick:i[0]||(i[0]=C=>l.updateCompareWithRevision(null))},[e("div",null," Go to version "+c(t.compareData.currentViewingRevision.version_number),1)]),$s])])}const zs=p(os,[["render",Vs],["__scopeId","data-v-dfb348ab"]]);const Is={setup(){const s=G(),i=$(),l=V();return{userDetailsStore:s,skillsStore:i,usersStore:l}},data(){return{skillUrl:this.$route.params.skillUrl,versionNumber:this.$route.params.versionNumber,skillRevision:{},skillRevisionHistory:[],currentVersionNumber:null,revertComment:"",isCurrentVersion:!1,showConfirmModal:!1,showCommentModal:!1,skill:{},compareWithRevision:null,currentCompareWithRevision:null}},components:{ConfirmModal:me,CommentModal:xe,CompareWithDropdown:Y,CompareWithContent:zs},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.usersIncludingDeleted.length==0&&await this.usersStore.getUsersIncludingDeleted(),await this.getSkill(),await this.getSkillRevisionHistory()},methods:{async getSkill(){const s=await fetch("/skills/url/"+this.skillUrl);this.skill=await s.json(),this.currentVersionNumber=this.skill.version_number,await this.getSkillVersion()},async getSkillVersion(){let s="/skill-history/"+this.skill.id+"/"+this.versionNumber;const i=await fetch(s);this.skillRevision=await i.json(),this.skillRevision.version_number==this.currentVersionNumber&&(this.isCurrentVersion=!0);for(let n=0;n<this.skillsStore.skillsList.length;n++)this.skillsStore.skillsList[n].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[n].name);for(let n=0;n<this.usersStore.usersIncludingDeleted.length;n++)this.usersStore.usersIncludingDeleted[n].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.usersIncludingDeleted[n].username);var l=this.skillRevision.edited_date.replace("T"," ");l=l.replace("Z"," ");let d=l.split(/[- :]/);var o=new Date(Date.UTC(d[0],d[1]-1,d[2],d[3],d[4],d[5])),t={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=o.toLocaleDateString("en-US",t)},async getSkillRevisionHistory(){const s="/skill-history/"+this.skill.id+"/list",l=await(await fetch(s)).json();this.skillRevisionHistory=l.map(d=>{const o=this.usersStore.usersIncludingDeleted.find(t=>t.id===d.user_id);return{...d,user_name:o.username}})},confirmRevert(){this.showConfirmModal=!0},closeModal(){this.showConfirmModal=!1,this.showCommentModal=!1},openCommentModal(){this.closeModal(),this.showCommentModal=!0},revert(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:this.revertComment})};var i="/skill-history/"+this.skill.id+"/revert-to/"+this.versionNumber;fetch(i,s).then(()=>{this.$router.push("/skills/"+this.skill.url)})},updateCompareWithRevision(s){this.compareWithRevision=s}}},f=s=>(k("data-v-cd8aca01"),s=s(),y(),s),Ys={class:"d-flex"},Ts={key:0,class:"mt-3"},Ns={id:"skill-info-container"},js={class:"d-flex justify-content-between"},Bs={class:"skill-name"},Us={class:"revision-version"},As=f(()=>e("hr",{class:"border border-2 opacity-100 hr"},null,-1)),qs={class:"d-flex flex-column"},Fs={class:"alert alert-warning d-flex",role:"alert"},Ps=f(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),Es={key:0,class:"ms-2"},Gs={class:"warning-date"},Zs={key:1,class:"ms-2"},Os={class:"warning-date"},Js=f(()=>e("hr",{class:"border border-1 opacity-100 hr mt-md-4 mt-5"},null,-1)),Ks={class:"d-flex flex-column-reverse flex-md-row"},Qs={class:"col-md-8 order-2 order-md-1"},Xs={class:"d-flex flex-column"},et={class:"mastery-requirements"},st=["innerHTML"],tt={class:"col-md-4 order-1 order-md-2"},it={class:"info-box p-2 mb-2"},ot=["src"],nt={class:"mt-2"},lt=f(()=>e("h2",{class:"h4 title"},"Level",-1)),rt={key:0},at={key:1},ct={key:2},dt={key:3},ht={key:4},mt=f(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"white",height:"25",width:"25",class:"me-2"},[e("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)),_t=f(()=>e("div",null,"Revert to this version",-1)),vt=[mt,_t],ut=f(()=>e("p",null," ",-1));function pt(s,i,l,d,o,t){const n=_("CompareWithDropdown"),w=_("CompareWithContent"),m=_("ConfirmModal"),C=_("CommentModal");return r(),a(L,null,[e("div",Ys,[o.compareWithRevision?(r(),Z(w,{key:1,skillRevisionHistory:o.skillRevisionHistory,viewingRevision:o.skillRevision,compareWithRevision:o.compareWithRevision,updateCompareWithRevision:t.updateCompareWithRevision},null,8,["skillRevisionHistory","viewingRevision","compareWithRevision","updateCompareWithRevision"])):(r(),a("div",Ts,[e("div",Ns,[e("div",js,[e("h1",Bs,[h(c(o.skill.name)+" ",1),e("span",Us,"(revision "+c(o.skillRevision.version_number)+")",1)])]),As,e("div",qs,[e("div",Fs,[Ps,o.isCurrentVersion?(r(),a("span",Zs,[h(" This is the current revision of this skill, as edited by "+c(o.skillRevision.userName)+", at ",1),e("span",Os,c(o.skillRevision.date),1),h(". ")])):(r(),a("span",Es,[h(" This is an old revision of this skill, as edited by "+c(o.skillRevision.userName)+", at ",1),e("span",Gs,c(o.skillRevision.date),1),h(". ")]))]),v(n,{skillRevisionHistory:o.skillRevisionHistory,currentShowingVersion:o.skillRevision.version_number,updateCompareWithRevision:t.updateCompareWithRevision,compareWithRevision:o.compareWithRevision},null,8,["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"])]),Js,e("div",Ks,[e("div",Qs,[e("div",Xs,[e("div",et,[e("div",{innerHTML:o.skillRevision.mastery_requirements},null,8,st)])])]),e("div",tt,[e("div",it,[e("img",{src:o.skillRevision.icon_image?o.skillRevision.icon_image:"/images/skill-avatar/recurso.png",class:"rounded img-fluid"},null,8,ot),e("div",nt,[lt,o.skill.level=="grade_school"?(r(),a("span",rt,"Grade School")):o.skill.level=="middle_school"?(r(),a("span",at,"Middle School")):o.skill.level=="high_school"?(r(),a("span",ct,"High School")):o.skill.level=="college"?(r(),a("span",dt,"College")):o.skill.level=="phd"?(r(),a("span",ht,"PHD")):u("",!0)])])])]),!o.isCurrentVersion&&(d.userDetailsStore.role=="admin"||d.userDetailsStore.role=="editor")?(r(),a("button",{key:0,class:"btn purple-btn mt-4",onClick:i[0]||(i[0]=S=>t.confirmRevert())},vt)):u("",!0),ut])]))]),v(m,{showConfirmModal:o.showConfirmModal,closeModal:t.closeModal,openCommentModal:t.openCommentModal},null,8,["showConfirmModal","closeModal","openCommentModal"]),v(C,{showCommentModal:o.showCommentModal,closeModal:t.closeModal,revert:t.revert},null,8,["showCommentModal","closeModal","revert"])],64)}const ft=p(Is,[["render",pt],["__scopeId","data-v-cd8aca01"]]);const wt={setup(){const s=$(),i=V();return{skillsStore:s,userDetailsStore:i}},data(){return{skillId:this.$route.params.skillId,bannerImage:null}},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.skillsStore.skillsList.length;s++)this.skillId==this.skillsStore.skillsList[s].id&&(this.bannerImage=this.skillsStore.skillsList[s].banner_image)},components:{ShowSkillRevision:ft}},gt=s=>(k("data-v-d52c84f9"),s=s(),y(),s),kt={class:"position-relative d-flex"},yt={class:"container-lg container-fluid show-skill-ctnr"},Dt=gt(()=>e("div",{id:"banner"},[e("img",{src:X,class:"img-fluid"})],-1));function Ct(s,i,l,d,o,t){const n=_("ShowSkillRevision");return r(),a("div",kt,[e("div",yt,[v(n)]),Dt])}const Lt=p(wt,[["render",Ct],["__scopeId","data-v-d52c84f9"]]);export{Lt as default};
