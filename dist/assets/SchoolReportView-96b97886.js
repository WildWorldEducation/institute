import{s as p}from"./transform-62bed377.js";import{_ as k,o as m,c as g,r as _,k as f,b as B,a as u,E as S}from"./main-f9bc2aba.js";import{l as y,m as v}from"./linear-95df80da.js";import{b as x,s as $}from"./band-ec92a044.js";import{h as A,b as T,a as P}from"./continuous-074aac43.js";import{o as L}from"./ordinal-c74fec4a.js";import{q,S as D,p as R,a as w}from"./pie-3a47bbf9.js";import{u as M,l as b}from"./line-63ef8bb3.js";import{e as C}from"./extent-4cf1c809.js";import"./point-ea70dc51.js";import"./time-38fd1dc5.js";const z={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){p("#tenant-avg-tokens-to-master-skills-chart-container");const t=25,e=0,r=0,h=10,s=200,l=1e3,d=Math.ceil((this.data.length+.1)*t)+e+h,i=y().domain([0,v(this.data,a=>a.quantity)]).range([s,l-r]),c=x().domain($(this.data,a=>-a.quantity).map(a=>a.name)).rangeRound([e,d-h]).padding(.1),o=i.tickFormat(20),n=p("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",l).attr("height",d).attr("viewBox",[0,0,l,d]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");n.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",i(0)).attr("y",a=>c(a.name)).attr("width",a=>i(a.quantity)-i(0)).attr("height",c.bandwidth()),n.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",a=>i(a.quantity)).attr("y",a=>c(a.name)+c.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(a=>o(a.quantity)).call(a=>a.filter(O=>i(O.quantity)-i(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),n.append("g").attr("transform",`translate(0,${e})`).call(A(i).ticks(0)).call(a=>a.select(".domain").remove()),n.append("g").attr("transform",`translate(${s},0)`).call(T(c).tickSizeOuter(0))},computed:{}},H={id:"tenant-avg-tokens-to-master-skills-chart-container"};function I(t,e,r,h,s,l){return m(),g("div",H)}const j=k(z,[["render",I],["__scopeId","data-v-88815676"]]);const E={name:"TenantAvgInteractionTimePerSkill",props:["data","colour"],data(){return{padding:60}},mounted(){p("#tenant-avg-interaction-time-per-skill-chart-container");const t=25,e=0,r=0,h=10,s=200,l=1e3,d=Math.ceil((this.data.length+.1)*t)+e+h,i=y().domain([0,v(this.data,n=>n.quantity)]).range([s,l-r]),c=x().domain($(this.data,n=>-n.quantity).map(n=>n.name)).rangeRound([e,d-h]).padding(.1);i.tickFormat(20);const o=p("#tenant-avg-interaction-time-per-skill-chart-container").append("svg").attr("width",l).attr("height",d).attr("viewBox",[0,0,l,d]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");o.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",i(0)).attr("y",n=>c(n.name)).attr("width",n=>i(n.quantity)-i(0)).attr("height",c.bandwidth()),o.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",n=>i(n.quantity)).attr("y",n=>c(n.name)+c.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(n=>n.formattedQuantity).call(n=>n.filter(a=>i(a.quantity)-i(0)<30).attr("dx",4).attr("fill","black").attr("text-anchor","start")),o.append("g").attr("transform",`translate(0,${e})`).call(A(i).ticks(0)).call(n=>n.select(".domain").remove()),o.append("g").attr("transform",`translate(${s},0)`).call(T(c).tickSizeOuter(0))},computed:{}},N={id:"tenant-avg-interaction-time-per-skill-chart-container"};function Q(t,e,r,h,s,l){return m(),g("div",N)}const V=k(E,[["render",Q],["__scopeId","data-v-158e7ab6"]]),F={name:"TenantPercentageStudentsMasteredAtLeastOneSkillPieChart",props:["data"],data(){return{}},mounted(){p("#tenant-percentage-students-mastered-one-skill-chart-container");let t=this.data;const e=928,r=Math.min(e,500);L().domain(t.map(o=>o.name)).range(q(o=>D(o*.8+.1),t.length).reverse());const h=R().sort(null).value(o=>o.value),s=w().innerRadius(0).outerRadius(Math.min(e,r)/2-1),l=s.outerRadius()()*.8,d=w().innerRadius(l).outerRadius(l),i=h(t),c=p("#tenant-percentage-students-mastered-one-skill-chart-container").append("svg").attr("width",e).attr("height",r).attr("viewBox",[-e/2,-r/2,e,r]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");c.append("g").attr("stroke","white").selectAll().data(i).join("path").attr("fill",o=>{if(o.data.name==="Mastered one skill")return"darkgreen";if(o.data.name==="Mastered no skills")return"darkred"}).attr("d",s).append("title").text(o=>`${o.data.name}: ${o.data.value.toLocaleString("en-US")}`),c.append("g").attr("text-anchor","middle").selectAll().data(i).join("text").attr("transform",o=>`translate(${d.centroid(o)})`).call(o=>o.append("tspan").attr("y","-0.4em").attr("fill","white").attr("font-weight","bold").text(n=>n.data.name)).call(o=>o.filter(n=>n.endAngle-n.startAngle>.25).append("tspan").attr("x",0).attr("fill","white").attr("y","1em").attr("fill-opacity",1).text(n=>n.data.value.toLocaleString("en-US")))},computed:{}},U={id:"tenant-percentage-students-mastered-one-skill-chart-container"};function G(t,e,r,h,s,l){return m(),g("div",U)}const J=k(F,[["render",G]]),K={name:"TenantProgressLineChart",props:["data","colour"],data(){},mounted(){const t=this.data;p("#tenant-progress-line-chart-container");const e=928,r=500,h=20,s=30,l=30,d=40,i=M(C(t,a=>a.date),[d,e-s]),c=y([0,v(t,a=>a.quantity)],[r-l,h]),o=b().x(a=>i(a.date)).y(a=>c(a.quantity)),n=p("#tenant-progress-line-chart-container").append("svg").attr("width",e).attr("height",r).attr("viewBox",[0,0,e,r]).attr("style","max-width: 100%; height: auto; height: intrinsic;");n.append("g").attr("transform",`translate(0,${r-l})`).call(P(i).ticks(t.length/2).tickSizeOuter(0)),n.append("g").attr("transform",`translate(${d},0)`).call(T(c).ticks(r/80)).call(a=>a.selectAll(".tick line").clone().attr("x2",e-d-s).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-d).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("↑ Skills mastered")),n.append("path").attr("fill","none").attr("stroke",this.colour).attr("stroke-width",1.5).attr("d",o(t))}},W={id:"tenant-progress-line-chart-container"};function X(t,e,r,h,s,l){return m(),g("div",W)}const Y=k(K,[["render",X]]),Z={name:"TenantDurationPerDayLineChart",props:["data","colour"],data(){return{padding:60}},mounted(){const t=this.data;p("#tenant-duration-per-day-chart-container");const e=928,r=500,h=20,s=30,l=30,d=40,i=M(C(t,a=>a.date),[d,e-s]),c=y([0,v(t,a=>a.formattedQuantity)],[r-l,h]),o=b().x(a=>i(a.date)).y(a=>c(a.formattedQuantity)),n=p("#tenant-duration-per-day-chart-container").append("svg").attr("width",e).attr("height",r).attr("viewBox",[0,0,e,r]).attr("style","max-width: 100%; height: auto; height: intrinsic;");n.append("g").attr("transform",`translate(0,${r-l})`).call(P(i).ticks(t.length/2).tickSizeOuter(0)),n.append("g").attr("transform",`translate(${d},0)`).call(T(c).ticks(r/80)).call(a=>a.selectAll(".tick line").clone().attr("x2",e-d-s).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-d).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("↑ Duration in seconds")),n.append("path").attr("fill","none").attr("stroke","#5f31dd").attr("stroke-width",1.5).attr("d",o(t))}},tt={id:"tenant-duration-per-day-chart-container"};function et(t,e,r,h,s,l){return m(),g("div",tt)}const at=k(Z,[["render",et]]),nt={setup(){return{}},components:{TenantAvgTokensToMasterSkillsHorizontalBarChart:j,TenantAvgInteractionTimePerSkillHorizontalBarChart:V,TenantPercentageStudentsMasteredAtLeastOneSkillPieChart:J,TenantProgressLineChart:Y,TenantDurationPerDayLineChart:at},data(){return{tenantId:this.$route.params.tenantId,avgTokensToMasterSkills:[],avgTimeOnSkills:[],percentageStudentsMasteredOneSkill:[],tenantProgress:[],studentDurationsPerSkill:[]}},async created(){await this.getAvgTokensToMasterSkills(),await this.getAvgTimeOnSkills(),await this.getPercentageStudentsMasteredOneSkill(),await this.getTenantProgress(),await this.getTenantDuration()},methods:{async getAvgTokensToMasterSkills(){try{const t=await fetch(`/student-analytics/avg-tokens-to-master-skills/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();this.avgTokensToMasterSkills=Array.isArray(e)?e:[]}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.avgTokensToMasterSkills=[]}},async getAvgTimeOnSkills(){try{const t=await fetch(`/student-analytics/avg-times-on-skills/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();this.avgTimeOnSkills=Array.isArray(e)?e:[];for(let r=0;r<this.avgTimeOnSkills.length;r++)this.avgTimeOnSkills[r].formattedQuantity=this.millisToMinutesAndSeconds(this.avgTimeOnSkills[r].quantity)}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.avgTimeOnSkills=[]}},async getPercentageStudentsMasteredOneSkill(){try{const t=await fetch(`/student-analytics/percentage-students-mastered-one-skill/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.percentageStudentsMasteredOneSkill=await t.json()}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.percentageStudentsMasteredOneSkill=[]}},async getTenantProgress(){fetch(`/student-analytics/tenant-progress/${this.tenantId}`).then(t=>t.json()).then(t=>{for(let e=0;e<t.length;e++)t[e].date=new Date(t[e].date);t.sort((e,r)=>e.date-r.date),this.tenantProgress=t}).catch(t=>{console.error("Error fetching student progress:",t)})},async getTenantDuration(){fetch(`/student-analytics/tenant-duration-per-day/${this.tenantId}`).then(t=>t.json()).then(t=>{for(let e=0;e<t.length;e++)t[e].date=new Date(t[e].date),t[e].formattedQuantity=t[e].quantity/1e3;t.sort((e,r)=>e.date-r.date),this.studentDurationsPerSkill=t}).catch(t=>{console.error("Error fetching student progress:",t)})},millisToMinutesAndSeconds(t){var e=Math.floor(t/6e4),r=(t%6e4/1e3).toFixed(0);return e+":"+(r<10?"0":"")+r}}},rt={class:"container"},st=u("span",{class:"d-flex justify-content-between w-100"},[u("h1",{class:"heading"},"School Admin Report")],-1),ot=u("h2",{class:"secondary-heading"},"Skill Engagement & Resource Usage",-1),it=u("h4",null,"Average interaction time per skill (minutes)",-1),lt={key:1},ct=u("h4",{class:"mt-5"},"Average number of tokens to master a skill",-1),dt={key:3},ht=u("h2",{class:"secondary-heading"},"Student Progress & Attendance",-1),mt=u("h3",null,"Usage and Fidelity Reports",-1),gt=u("h4",null," Percentage of students who completed at least one skill (cumulative) ",-1),pt={key:5},ut=u("p",null,"add weekly version",-1),kt=u("h4",null,"Tenant progress",-1),_t={key:7},ft=S('<ul class="mt-5"><li class="mt-3"> total tutoring time <ul><li><em>weekly and cumulative usage</em></li></ul></li><li class="mt-3"> engagement <ul><li><em>task made</em></li><li><em>starting date is when first student started on</em></li><li><em>total time on platform </em></li><li><em>line chart </em></li><li><em>weekly and cumulative usage</em></li></ul></li></ul>',1),yt=S('<h2 class="secondary-heading mt-5">Academic Performance Overview</h2><h3>Growth Analytics</h3><p> (Jonathan, you may be able to determine what would be both easiest and most compelling for us to share at this level—e.g. Skills mastered, Key Skills mastered by student grade, progress made, % progress made within cohorts, etc.) </p><ul><li>number of skills mastered</li><li>% progress made within cohorts</li></ul><h3>Assessment Completion Tracking</h3><p> Visualizes the percentage of students who have completed, are in progress, or have not started skills&#39; assessments, with daily and weekly updates. </p><h3>Performance by Skill Category</h3><p> Allows drill-down into skill categories to view where extra help might be needed (e.g. with math, science, history, etc.) </p><p><em>What skills / categories are students failing the most?</em></p>',9);function vt(t,e,r,h,s,l){const d=_("TenantAvgInteractionTimePerSkillHorizontalBarChart"),i=_("TenantAvgTokensToMasterSkillsHorizontalBarChart"),c=_("TenantPercentageStudentsMasteredAtLeastOneSkillPieChart"),o=_("TenantProgressLineChart"),n=_("TenantDurationPerDayLineChart");return m(),g("div",rt,[st,ot,it,s.avgTimeOnSkills.length>0?(m(),f(d,{key:0,data:s.avgTimeOnSkills,colour:"purple"},null,8,["data"])):(m(),g("p",lt,"No data yet")),ct,s.avgTokensToMasterSkills.length>0?(m(),f(i,{key:2,data:s.avgTokensToMasterSkills,colour:"darkgreen"},null,8,["data"])):(m(),g("p",dt,"No data yet")),ht,mt,gt,s.percentageStudentsMasteredOneSkill.length>0?(m(),f(c,{key:4,data:s.percentageStudentsMasteredOneSkill,class:"mb-5"},null,8,["data"])):(m(),g("p",pt,"No data yet")),ut,kt,s.tenantProgress.length>0?(m(),f(o,{key:6,data:s.tenantProgress,colour:"#5f31dd",class:"mb-5 mt-5"},null,8,["data"])):(m(),g("p",_t,"No data yet")),ft,s.studentDurationsPerSkill.length>0?(m(),f(n,{key:8,data:s.studentDurationsPerSkill,colour:"#5f31dd",class:"mb-5 mt-5"},null,8,["data"])):B("",!0),yt])}const Bt=k(nt,[["render",vt]]);export{Bt as default};
