import{_ as m,r as _,o as t,c as i,d as o,F as h,y,e as v,j as $,l as D,t as u,z as I,b as p,p as k,f as g,a as b,w as S,x as f,m as U,g as V,i as w}from"./main-b438a9f0.js";import{u as j}from"./AssessmentsStore-8cff9493.js";import{u as A}from"./InstructorStudentsStore-c60a846f.js";const M={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let e=0;e<this.userSkills.length;e++)this.userSkills[e].is_accessible==1&this.userSkills[e].is_mastered!=1&this.userSkills[e].type!="domain"&&s.push({name:this.userSkills[e].name,id:this.userSkills[e].id,url:this.userSkills[e].url,level:this.userSkills[e].level});return s.length>0&&(this.noSkills=!1),s}},methods:{}},T=s=>(k("data-v-623f5d39"),s=s(),g(),s),q=T(()=>o("h2",{class:"heading"},"Available Skills",-1)),Q={id:"skill-list"},H={key:0,id:"no-skill-cell"};function P(s,e,d,a,n,c){const l=_("router-link");return t(),i(h,null,[q,o("div",Q,[(t(!0),i(h,null,y(c.availableSkills,r=>(t(),i("div",null,[v(l,{class:I([{"grade-school":r.level=="grade_school","middle-school":r.level=="middle_school","high-school":r.level=="high_school",college:r.level=="college",phd:r.level=="phd"},"skill-link btn"]),to:`/skills/${r.url}`,target:"_blank"},{default:$(()=>[D(u(r.name),1)]),_:2},1032,["class","to"])]))),256)),n.noSkills?(t(),i("div",H)):p("",!0)])],64)}const B=m(M,[["render",P],["__scopeId","data-v-623f5d39"]]);const O={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},R=s=>(k("data-v-a2e9c6de"),s=s(),g(),s),z=R(()=>o("h2",{class:"heading"},"Last visited Skills",-1)),F={id:"skill-list"},J={key:0,id:"no-skill-cell"};function E(s,e,d,a,n,c){const l=_("router-link");return t(),i(h,null,[z,o("div",F,[(t(!0),i(h,null,y(n.visitedSkills,r=>(t(),i("div",null,[v(l,{class:I([{"grade-school":r.level=="grade_school","middle-school":r.level=="middle_school","high-school":r.level=="high_school",college:r.level=="college",phd:r.level=="phd"},"skill-link btn"]),to:`/skills/${r.url}`,target:"_blank"},{default:$(()=>[D(u(r.name),1)]),_:2},1032,["class","to"])]))),256)),n.noSkills?(t(),i("div",J)):p("",!0)])],64)}const Z=m(O,[["render",E],["__scopeId","data-v-a2e9c6de"]]);const G={setup(){const s=b();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var e="/notifications/edit";fetch(e,s)}}},K=s=>(k("data-v-ca8f5ba0"),s=s(),g(),s),W=K(()=>o("h2",{class:"heading"},"Notifications",-1)),X={class:"table-div"},Y={key:0,class:"border-bottom p-2"},ss={key:1},es={key:2,class:"p-2"},ts={key:3};function ns(s,e,d,a,n,c){return t(),i(h,null,[W,o("div",X,[a.userDetailsStore.role!="admin"?(t(),i("div",Y,u(n.notifications.notification_1),1)):(t(),i("div",ss,[S(o("textarea",{onChange:e[0]||(e[0]=l=>c.SaveChange()),"onUpdate:modelValue":e[1]||(e[1]=l=>n.notifications.notification_1=l),class:"form-control border-bottom p-2",rows:"3"},null,544),[[f,n.notifications.notification_1]])])),a.userDetailsStore.role!="admin"?(t(),i("div",es,u(n.notifications.notification_2),1)):(t(),i("div",ts,[S(o("textarea",{onChange:e[2]||(e[2]=l=>c.SaveChange()),"onUpdate:modelValue":e[3]||(e[3]=l=>n.notifications.notification_2=l),class:"form-control p-2",rows:"3"},null,544),[[f,n.notifications.notification_2]])]))])],64)}const os=m(G,[["render",ns],["__scopeId","data-v-ca8f5ba0"]]);const is={setup(){const s=b();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var e="/news/edit";fetch(e,s)}}},ls=s=>(k("data-v-bf751e54"),s=s(),g(),s),rs=ls(()=>o("h2",{class:"heading"},"News",-1)),as={class:"table-div row rounded mb-3"},ds={class:"p-2 col-lg-3 col-md-6"},cs={key:0},us={class:"p-2 col-lg-3 col-md-6"},_s={key:0},hs={class:"p-2 col-lg-3 col-md-6"},ms={key:0},ps={class:"p-2 col-lg-3 col-md-6"},Ss={key:0};function fs(s,e,d,a,n,c){return t(),i(h,null,[rs,o("div",as,[o("div",ds,[a.userDetailsStore.role!="admin"?(t(),i("p",cs,u(n.news.news_1),1)):S((t(),i("textarea",{key:1,onChange:e[0]||(e[0]=l=>c.SaveChange()),"onUpdate:modelValue":e[1]||(e[1]=l=>n.news.news_1=l),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_1]])]),o("div",us,[a.userDetailsStore.role!="admin"?(t(),i("p",_s,u(n.news.news_2),1)):S((t(),i("textarea",{key:1,onChange:e[2]||(e[2]=l=>c.SaveChange()),"onUpdate:modelValue":e[3]||(e[3]=l=>n.news.news_2=l),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_2]])]),o("div",hs,[a.userDetailsStore.role!="admin"?(t(),i("p",ms,u(n.news.news_3),1)):S((t(),i("textarea",{key:1,onChange:e[4]||(e[4]=l=>c.SaveChange()),"onUpdate:modelValue":e[5]||(e[5]=l=>n.news.news_3=l),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_3]])]),o("div",ps,[a.userDetailsStore.role!="admin"?(t(),i("p",Ss,u(n.news.news_4),1)):S((t(),i("textarea",{key:1,onChange:e[6]||(e[6]=l=>c.SaveChange()),"onUpdate:modelValue":e[7]||(e[7]=l=>n.news.news_4=l),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_4]])])])],64)}const vs=m(is,[["render",fs],["__scopeId","data-v-bf751e54"]]);const ks={setup(){const s=j(),e=U(),d=V(),a=b(),n=A();return{usersStore:e,skillsStore:d,assessmentsStore:s,userDetailsStore:a,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let e=0;e<this.studentIds.length;e++)this.assessmentsStore.assessments[s].student_id==this.studentIds[e]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let e=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=e}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let e=0;e<this.usersStore.users.length;e++)this.assessments[s].student_id==this.usersStore.users[e].id&&(this.assessments[s].studentUsername=this.usersStore.users[e].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let e=0;e<this.skillsStore.skillsList.length;e++)this.assessments[s].skill_id==this.skillsStore.skillsList[e].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[e].name)},computed:{},methods:{}},gs=s=>(k("data-v-cd24d2bd"),s=s(),g(),s),ws={class:"container-fluid"},ys=gs(()=>o("h2",{class:"heading"},"Mark Assessments",-1)),$s={id:"list-body"},bs={class:"assessment"},Ds={id:"student-name"},Is={id:"skill-name"},xs={id:"date"};function Ls(s,e,d,a,n,c){const l=_("RouterLink");return t(),i("div",ws,[ys,o("div",$s,[(t(!0),i(h,null,y(this.assessments,r=>(t(),i("div",bs,[v(l,{class:"assessment-link",to:"/mark-assessment/"+r.id},{default:$(()=>[o("span",Ds,u(r.studentUsername)+", ",1),o("span",Is,u(r.skillName)+", ",1),o("span",xs,u(r.date),1)]),_:2},1032,["to"])]))),256))])])}const Ns=m(ks,[["render",Ls],["__scopeId","data-v-cd24d2bd"]]);const Cs={setup(){return{}},data(){return{questions:null}},components:{},async created(){await this.getStudentMCQuestions()},methods:{formatDate(s){var e=s.replace("T"," ");e=e.replace("Z"," ");let d=e.split(/[- :]/);var a=new Date(Date.UTC(d[0],d[1]-1,d[2],d[3],d[4],d[5])),n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return a=a.toLocaleDateString("en-US",n),a},async getStudentMCQuestions(){const e=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=e}}},Us=s=>(k("data-v-ae625571"),s=s(),g(),s),Vs={class:"container-fluid"},js=Us(()=>o("h2",{class:"heading"},"Check New Questions",-1)),As={class:"list-body"},Ms={class:"question"},Ts={class:"student-name"},qs={class:"skill-name"},Qs={class:"date"};function Hs(s,e,d,a,n,c){const l=_("RouterLink");return t(),i("div",Vs,[js,o("div",As,[(t(!0),i(h,null,y(n.questions,r=>(t(),i("div",Ms,[v(l,{class:"question-link",to:`/check-student-question/${r.id}`},{default:$(()=>[o("span",Ts,u(r.student)+", ",1),o("span",qs,u(r.skillname)+", ",1),o("span",Qs,u(c.formatDate(r.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Ps=m(Cs,[["render",Hs],["__scopeId","data-v-ae625571"]]);const Bs={setup(){const s=b();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:vs,Notifications:os,StudentProgress:B,MarkAssessment:Ns,LastVisitedSkills:Z,HubStudentQuestionList:Ps},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},Os={class:"container min-vh-100"},Rs={class:"row content-row"},zs={key:0,class:"col-lg-4 col-md-6 mb-4 pb-4"},Fs={class:"hub-component"},Js={key:1,class:"col-lg-4 col-md-6 mb-4 pb-4"},Es={class:"hub-component"},Zs={class:"col-lg-3 col-md-5 pb-4 column"},Gs={class:"hub-component"},Ks={id:"news-row",class:"row"},Ws={class:"col"},Xs={class:"hub-component"};function Ys(s,e,d,a,n,c){const l=_("StudentProgress"),r=_("MarkAssessment"),x=_("LastVisitedSkills"),L=_("HubStudentQuestionList"),N=_("Notifications"),C=_("News");return t(),i("div",Os,[o("div",Rs,[a.userDetailsStore.role!="editor"?(t(),i("div",zs,[o("div",Fs,[a.userDetailsStore.role=="student"?(t(),w(l,{key:0,userId:a.userDetailsStore.userId},null,8,["userId"])):a.userDetailsStore.role=="instructor"?(t(),w(r,{key:1})):p("",!0)])])):p("",!0),a.userDetailsStore.role!="editor"?(t(),i("div",Js,[o("div",Es,[a.userDetailsStore.role=="student"?(t(),w(x,{key:0,userId:a.userDetailsStore.userId},null,8,["userId"])):a.userDetailsStore.role=="instructor"?(t(),w(L,{key:1})):p("",!0)])])):p("",!0),o("div",Zs,[o("div",Gs,[v(N)])])]),o("div",Ks,[o("div",Ws,[o("div",Xs,[v(C)])])])])}const ne=m(Bs,[["render",Ys]]);export{ne as default};
