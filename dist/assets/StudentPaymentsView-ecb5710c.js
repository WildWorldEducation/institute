import{_ as h,o as d,c,F as f,z as g,a as e,t as l,s as m,w as p,R as _}from"./main-506f87fd.js";const y={setup(){},data(){return{studentId:this.$route.params.studentId,payments:[]}},async created(){this.getPayments()},methods:{getPayments(){fetch(`/referrals/get-receipts/${this.studentId}`).then(function(t){return t.json()}).then(async t=>{this.payments=t})},async toggleIsCompensated(t,o){try{const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_partner_compensated:o})};await fetch(`/referrals/${t}/update`,s)}catch(s){console.error("Error updating instructor:",s)}},formattedStripeReceiptAmount(t){return(t/100).toLocaleString("en-US",{style:"currency",currency:"USD"})},formattedStripeReceiptDate(t){let o=new Date(t);const s=o.getUTCMonth()+1,u=o.getUTCDate();return o.getUTCFullYear()+"/"+s+"/"+u}}},S={class:"container bg-light rounded"},C=e("h1",{class:"heading"},"Student Payments",-1),U={key:0},D={class:"h6"},k=e("strong",null,"total:",-1),v=e("strong",null,"commission:",-1),w=["onUpdate:modelValue","onClick"],R=e("label",{class:"me-4 ms-2",for:"one"},"Not paid",-1),V=["onClick","onUpdate:modelValue"],I=e("label",{class:"ms-2",for:"two"},"Paid",-1),P={key:1};function T(t,o,s,u,i,a){return d(),c("div",S,[C,i.payments.length>0?(d(),c("ul",U,[(d(!0),c(f,null,g(i.payments,n=>(d(),c("li",null,[e("h2",D,l(a.formattedStripeReceiptDate(n.date)),1),e("ul",null,[e("li",null,[k,m(" "+l(a.formattedStripeReceiptAmount(n.amount)),1)]),e("li",null,[v,m(" "+l(a.formattedStripeReceiptAmount(n.amount/3)),1)]),e("li",null,[p(e("input",{type:"radio",id:"one",value:"0","onUpdate:modelValue":r=>n.is_partner_compensated=r,onClick:r=>a.toggleIsCompensated(n.id,0)},null,8,w),[[_,n.is_partner_compensated]]),R,p(e("input",{type:"radio",id:"two",value:"1",onClick:r=>a.toggleIsCompensated(n.id,1),"onUpdate:modelValue":r=>n.is_partner_compensated=r},null,8,V),[[_,n.is_partner_compensated]]),I])])]))),256))])):(d(),c("p",P,"No payments found."))])}const A=h(y,[["render",T]]);export{A as default};
