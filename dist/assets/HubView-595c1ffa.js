import{_ as p,r as _,o as t,c as l,d as n,F as h,z as y,e as m,j as $,m as I,t as u,l as w,b as f,p as S,f as v,a as b,g as L,w as g,y as k,q,i as D}from"./main-6da700d5.js";import{u as j}from"./AssessmentsStore-c0468d16.js";import{u as A}from"./InstructorStudentsStore-28b1b16e.js";const M={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let e=0;e<this.userSkills.length;e++)this.userSkills[e].is_accessible==1&this.userSkills[e].is_mastered!=1&this.userSkills[e].type!="domain"&&s.push({name:this.userSkills[e].name,id:this.userSkills[e].id,url:this.userSkills[e].url,level:this.userSkills[e].level});return s.length>0&&(this.noSkills=!1),s}},methods:{}},T=s=>(S("data-v-09f96c5d"),s=s(),v(),s),G=T(()=>n("h2",{class:"secondary-heading h4"},"Available Skills",-1)),Q={id:"skill-list"},H={key:0,id:"no-skill-cell"};function P(s,e,c,r,o,d){const a=_("router-link");return t(),l(h,null,[G,n("div",Q,[(t(!0),l(h,null,y(d.availableSkills,i=>(t(),l("div",null,[m(a,{class:w([{"grade-school":i.level=="grade_school","middle-school":i.level=="middle_school","high-school":i.level=="high_school",college:i.level=="college",phd:i.level=="phd"},"skill-link btn"]),to:`/skills/${i.url}`,target:"_blank"},{default:$(()=>[I(u(i.name),1)]),_:2},1032,["class","to"])]))),256)),o.noSkills?(t(),l("div",H)):f("",!0)])],64)}const O=p(M,[["render",P],["__scopeId","data-v-09f96c5d"]]);const B={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},R=s=>(S("data-v-0ce1127d"),s=s(),v(),s),z=R(()=>n("h2",{class:"secondary-heading h4"},"Last visited Skills",-1)),F={id:"skill-list"},J={key:0,id:"no-skill-cell"};function E(s,e,c,r,o,d){const a=_("router-link");return t(),l(h,null,[z,n("div",F,[(t(!0),l(h,null,y(o.visitedSkills,i=>(t(),l("div",null,[m(a,{class:w([{"grade-school":i.level=="grade_school","middle-school":i.level=="middle_school","high-school":i.level=="high_school",college:i.level=="college",phd:i.level=="phd"},"skill-link btn"]),to:`/skills/${i.url}`,target:"_blank"},{default:$(()=>[I(u(i.name),1)]),_:2},1032,["class","to"])]))),256)),o.noSkills?(t(),l("div",J)):f("",!0)])],64)}const Z=p(B,[["render",E],["__scopeId","data-v-0ce1127d"]]);const K={setup(){const s=b(),e=L();return{userDetailsStore:s,skillsStore:e}},data(){return{goals:[]}},async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.goals.length;s++){let e=this.skillsStore.skillsList.find(c=>c.id===this.goals[s].skill_id);this.goals[s].name=e.name,this.goals[s].level=e.level}},methods:{async getGoals(){const s=await fetch("/goals/"+this.userDetailsStore.userId+"/list");this.goals=await s.json()}}},W=s=>(S("data-v-9637b5b4"),s=s(),v(),s),X=W(()=>n("h2",{class:"secondary-heading h4"},"Goals",-1)),Y={id:"goal-list"};function ss(s,e,c,r,o,d){const a=_("router-link");return t(),l(h,null,[X,n("div",Y,[(t(!0),l(h,null,y(o.goals,i=>(t(),l("div",null,[m(a,{class:w([{"grade-school":i.level=="grade_school","middle-school":i.level=="middle_school","high-school":i.level=="high_school",college:i.level=="college",phd:i.level=="phd"},"goal-link btn"]),to:`/goals/${i.id}`,target:"_blank"},{default:$(()=>[I(u(i.name),1)]),_:2},1032,["class","to"])]))),256))])],64)}const es=p(K,[["render",ss],["__scopeId","data-v-9637b5b4"]]);const ts={setup(){const s=b();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var e="/notifications/edit";fetch(e,s)}}},os=s=>(S("data-v-a441cf73"),s=s(),v(),s),ns=os(()=>n("h2",{class:"secondary-heading h4"},"Notifications",-1)),is={class:"table-div"},ls={key:0,class:"border-bottom p-2"},rs={key:1},as={key:2,class:"p-2"},cs={key:3};function ds(s,e,c,r,o,d){return t(),l(h,null,[ns,n("div",is,[r.userDetailsStore.role!="admin"?(t(),l("div",ls,u(o.notifications.notification_1),1)):(t(),l("div",rs,[g(n("textarea",{onChange:e[0]||(e[0]=a=>d.SaveChange()),"onUpdate:modelValue":e[1]||(e[1]=a=>o.notifications.notification_1=a),class:"form-control border-bottom p-2",rows:"3"},null,544),[[k,o.notifications.notification_1]])])),r.userDetailsStore.role!="admin"?(t(),l("div",as,u(o.notifications.notification_2),1)):(t(),l("div",cs,[g(n("textarea",{onChange:e[2]||(e[2]=a=>d.SaveChange()),"onUpdate:modelValue":e[3]||(e[3]=a=>o.notifications.notification_2=a),class:"form-control p-2",rows:"3"},null,544),[[k,o.notifications.notification_2]])]))])],64)}const us=p(ts,[["render",ds],["__scopeId","data-v-a441cf73"]]);const _s={setup(){const s=b();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var e="/news/edit";fetch(e,s)}}},hs=s=>(S("data-v-7cea90d3"),s=s(),v(),s),ms=hs(()=>n("h2",{class:"secondary-heading h4"},"News",-1)),ps={class:"table-div row rounded mb-3"},fs={class:"p-2 col-lg-3 col-md-6"},Ss={key:0},vs={class:"p-2 col-lg-3 col-md-6"},gs={key:0},ks={class:"p-2 col-lg-3 col-md-6"},ws={key:0},ys={class:"p-2 col-lg-3 col-md-6"},$s={key:0};function Ds(s,e,c,r,o,d){return t(),l(h,null,[ms,n("div",ps,[n("div",fs,[r.userDetailsStore.role!="admin"?(t(),l("p",Ss,u(o.news.news_1),1)):g((t(),l("textarea",{key:1,onChange:e[0]||(e[0]=a=>d.SaveChange()),"onUpdate:modelValue":e[1]||(e[1]=a=>o.news.news_1=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_1]])]),n("div",vs,[r.userDetailsStore.role!="admin"?(t(),l("p",gs,u(o.news.news_2),1)):g((t(),l("textarea",{key:1,onChange:e[2]||(e[2]=a=>d.SaveChange()),"onUpdate:modelValue":e[3]||(e[3]=a=>o.news.news_2=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_2]])]),n("div",ks,[r.userDetailsStore.role!="admin"?(t(),l("p",ws,u(o.news.news_3),1)):g((t(),l("textarea",{key:1,onChange:e[4]||(e[4]=a=>d.SaveChange()),"onUpdate:modelValue":e[5]||(e[5]=a=>o.news.news_3=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_3]])]),n("div",ys,[r.userDetailsStore.role!="admin"?(t(),l("p",$s,u(o.news.news_4),1)):g((t(),l("textarea",{key:1,onChange:e[6]||(e[6]=a=>d.SaveChange()),"onUpdate:modelValue":e[7]||(e[7]=a=>o.news.news_4=a),class:"form-control",rows:"3"},null,544)),[[k,o.news.news_4]])])])],64)}const bs=p(_s,[["render",Ds],["__scopeId","data-v-7cea90d3"]]);const Is={props:{assessments:{type:Array,required:!0}},setup(){return{}},data(){return{}},computed:{},methods:{}},Ls=s=>(S("data-v-410f668d"),s=s(),v(),s),xs={class:"container-fluid"},Ns=Ls(()=>n("h2",{class:"secondary-heading h4"},"Mark Assessments",-1)),Cs={id:"list-body"},Us={class:"assessment"},Vs={id:"student-name"},qs={id:"skill-name"},js={id:"date"};function As(s,e,c,r,o,d){const a=_("RouterLink");return t(),l("div",xs,[Ns,n("div",Cs,[(t(!0),l(h,null,y(this.assessments,i=>(t(),l("div",Us,[m(a,{class:"assessment-link",to:"/mark-assessment/"+i.id},{default:$(()=>[n("span",Vs,u(i.studentUsername)+", ",1),n("span",qs,u(i.skillName)+", ",1),n("span",js,u(i.date),1)]),_:2},1032,["to"])]))),256))])])}const Ms=p(Is,[["render",As],["__scopeId","data-v-410f668d"]]);const Ts={props:{questions:{type:Array,required:!0}},methods:{formatDate(s){var e=s.replace("T"," ");e=e.replace("Z"," ");let c=e.split(/[- :]/);var r=new Date(Date.UTC(c[0],c[1]-1,c[2],c[3],c[4],c[5])),o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return r=r.toLocaleDateString("en-US",o),r}}},Gs=s=>(S("data-v-1df3f680"),s=s(),v(),s),Qs={class:"container-fluid"},Hs=Gs(()=>n("h2",{class:"secondary-heading h4"},"Check New Questions",-1)),Ps={class:"list-body"},Os={class:"question"},Bs={class:"student-name"},Rs={class:"skill-name"},zs={class:"date"};function Fs(s,e,c,r,o,d){const a=_("RouterLink");return t(),l("div",Qs,[Hs,n("div",Ps,[(t(!0),l(h,null,y(c.questions,i=>(t(),l("div",Os,[m(a,{class:"question-link",to:`/check-student-question/${i.id}`},{default:$(()=>[n("span",Bs,u(i.student)+", ",1),n("span",Rs,u(i.skillname)+", ",1),n("span",zs,u(d.formatDate(i.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Js=p(Ts,[["render",Fs],["__scopeId","data-v-1df3f680"]]);const Es={setup(){const s=b(),e=j(),c=q(),r=L(),o=A();return s.getUserDetails(),{userDetailsStore:s,assessmentsStore:e,usersStore:c,skillsStore:r,instructorStudentsStore:o}},data(){return{assessments:[],questions:[],studentIds:[]}},components:{News:bs,Notifications:us,StudentProgress:O,MarkAssessment:Ms,LastVisitedSkills:Z,Goals:es,HubStudentQuestionList:Js},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},async created(){await this.fetchAssessments(),await this.getStudentMCQuestions()},methods:{async fetchAssessments(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let e=0;e<this.studentIds.length;e++)this.assessmentsStore.assessments[s].student_id==this.studentIds[e]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let e=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=e}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let e=0;e<this.usersStore.users.length;e++)this.assessments[s].student_id==this.usersStore.users[e].id&&(this.assessments[s].studentUsername=this.usersStore.users[e].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let e=0;e<this.skillsStore.skillsList.length;e++)this.assessments[s].skill_id==this.skillsStore.skillsList[e].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[e].name)},async getStudentMCQuestions(){const e=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=e}}},Zs={class:"container min-vh-100"},Ks={class:"row content-row"},Ws={class:"hub-component h-100"},Xs={class:"hub-component h-100"},Ys={key:2,class:"col-lg-4 col-md-6 mb-2"},se={class:"hub-component h-100"},ee={class:"row"},te={class:"col-lg-4 col-md-6 mb-2"},oe={class:"hub-component h-100"},ne={class:"row"},ie={class:"col"},le={class:"hub-component h-100"};function re(s,e,c,r,o,d){const a=_("StudentProgress"),i=_("MarkAssessment"),x=_("LastVisitedSkills"),N=_("HubStudentQuestionList"),C=_("Goals"),U=_("Notifications"),V=_("News");return t(),l("div",Zs,[n("div",Ks,[r.userDetailsStore.role!="editor"?(t(),l("div",{key:0,class:w(["col-lg-4 col-md-6 mb-2",{"d-none":r.userDetailsStore.role=="instructor"&&o.assessments.length===0}])},[n("div",Ws,[r.userDetailsStore.role=="student"?(t(),D(a,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(t(),D(i,{key:1,assessments:o.assessments},null,8,["assessments"])):f("",!0)])],2)):f("",!0),r.userDetailsStore.role!="editor"?(t(),l("div",{key:1,class:w(["col-lg-4 col-md-6 mb-2",{"d-none":r.userDetailsStore.role=="instructor"&&o.questions.length===0}])},[n("div",Xs,[r.userDetailsStore.role=="student"?(t(),D(x,{key:0,userId:r.userDetailsStore.userId},null,8,["userId"])):r.userDetailsStore.role=="instructor"?(t(),D(N,{key:1,questions:o.questions},null,8,["questions"])):f("",!0)])],2)):f("",!0),r.userDetailsStore.role=="student"?(t(),l("div",Ys,[n("div",se,[m(C)])])):f("",!0)]),n("div",ee,[n("div",te,[n("div",oe,[m(U)])])]),n("div",ne,[n("div",ie,[n("div",le,[m(V)])])])])}const ue=p(Es,[["render",re]]);export{ue as default};
