import{_ as v,a as y,o as r,c as d,e as a,j as u,d as o,l as f,t as g,b as _,T as M,F as E,p as k,f as R,r as m,m as T,q as P,g as O,N as $,a4 as q}from"./main-1f9e99c9.js";import{u as C}from"./SettingsStore-80598d67.js";import{u as U}from"./StudentMCQuestionsStore-25074330.js";import{u as W}from"./InstructorStudentsStore-bcf37740.js";import{D as Q,C as V}from"./ContentFlagsView-9d37ab30.js";import"./EssayQuestionsStore-fae83e39.js";const F={setup(){return{userDetailsStore:y()}},data(){return{showNavBar:!0,todoCount:null,contentEditCount:0,studentQuestionCount:0,contentFlagCount:0,newSkillApproveCount:0}},props:["activeContent"],methods:{changeActiveContent(t){this.$parent.activeContent=t,this.$router.push({query:{nav:t}})}},async mounted(){const e=await(await fetch("/todo-count/total")).json();this.todoCount=e,this.studentQuestionCount=this.todoCount.student_question_count,this.contentFlagCount=this.todoCount.content_flag_count,this.contentEditCount=parseInt(this.todoCount.skill_edit_count)+parseInt(this.todoCount.mc_question_edit_count)+parseInt(this.todoCount.essay_question_edit_count)+parseInt(this.todoCount.image_question_edit_count),this.todoCount.new_skill_add_count&&(this.newSkillApproveCount=this.todoCount.new_skill_add_count)}},S=t=>(k("data-v-1044ac73"),t=t(),R(),t),j={key:0,class:"nav-bar-container d-flex flex-column"},z={class:"d-flex justify-content-between pe-4"},B=S(()=>o("h1",{class:"todo-heading ms-2 pt-2"},"Todo List",-1)),H=S(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"20",height:"20",class:"primary-icon"},[o("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})],-1)),Z=[H],J=S(()=>o("hr",null,null,-1)),G={class:"d-flex flex-column gap-3 h-100"},K=S(()=>o("h2",{class:"nav-button-heading h5"},"Approve Content Edits",-1)),X={class:"badge bg-danger","b-on-hover":"",title:"number of content edits that needed to approved"},Y=S(()=>o("h2",{class:"nav-button-heading h5"}," Approve Student Added Questions ",-1)),tt={"b-on-hover":"",title:"number of student questions that needed to approved",class:"badge bg-danger"},et=S(()=>o("h2",{class:"nav-button-heading h5"},"Check Content Flags",-1)),st={class:"badge bg-danger","b-on-hover":"",title:"number of content flags that needed to checked"},it=S(()=>o("h2",{class:"nav-button-heading h5"},"Approve New Skills",-1)),ot={"b-on-hover":"",title:"number of student suggested questions that needed to approved",class:"badge bg-danger"},nt=S(()=>o("div",{class:"nav-col group"},null,-1)),at=S(()=>o("div",{class:"expand-icon-div group","b-on-hover":"",title:"Expand Nav Bar"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"12",heigh:"12",class:"icon"},[o("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})])],-1)),lt=[nt,at];function rt(t,e,s,l,i,n){return r(),d(E,null,[a(M,{name:"navbar"},{default:u(()=>{var h;return[i.showNavBar?(r(),d("div",j,[o("div",z,[B,o("button",{type:"button",class:"icon-div d-flex align-items-center px-3 py-2",onClick:e[0]||(e[0]=c=>i.showNavBar=!1),"b-on-hover":"",title:"Shrink Nav Bar"},Z)]),J,o("div",G,[o("button",{class:f([{"active-item":s.activeContent==="editList"},"nav-button p-2"]),onClick:e[1]||(e[1]=c=>n.changeActiveContent("editList"))},[K,o("span",X,g(i.contentEditCount),1)],2),o("button",{class:f([{"active-item":s.activeContent==="studentQuestionList"},"nav-button p-2"]),onClick:e[2]||(e[2]=c=>n.changeActiveContent("studentQuestionList"))},[Y,o("span",tt,g(i.studentQuestionCount),1)],2),o("button",{class:f([{"active-item":s.activeContent==="flagList"},"nav-button p-2"]),onClick:e[3]||(e[3]=c=>n.changeActiveContent("flagList"))},[et,o("span",st,g(i.contentFlagCount),1)],2),(l.userDetailsStore.userName==""||l.userDetailsStore.role=="admin")&&((h=i.todoCount)!=null&&h.new_skill_add_count)?(r(),d("button",{key:0,class:f([{"active-item":s.activeContent==="newSkillsList"},"nav-button p-2"]),onClick:e[4]||(e[4]=c=>n.changeActiveContent("newSkillsList"))},[it,o("span",ot,g(i.newSkillApproveCount),1)],2)):_("",!0)])])):_("",!0)]}),_:1}),a(M,{name:"navbarMini"},{default:u(()=>[i.showNavBar?_("",!0):(r(),d("button",{key:0,class:"position-relative minimize-navbar",onClick:e[5]||(e[5]=h=>i.showNavBar=!0)},lt))]),_:1})],64)}const dt=v(F,[["render",rt],["__scopeId","data-v-1044ac73"]]);const ut={setup(){return{settingStore:C()}},data(){return{headers:[{text:"Student",value:"studentName"},{text:"Question",value:"question"},{text:"Skill",value:"skillName"},{text:"Date",value:"date"}],mobileHeaders:[{text:"Student",value:"studentName"},{text:"Question",value:"question"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q},props:["studentQuestion","loadingQuestion"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoStudentQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoStudentQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoStudentQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/check-student-question/${t.id}`)},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var l=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={year:"numeric",month:"numeric",day:"numeric"};return l=l.toLocaleDateString("en-US",i),l}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoStudentQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoStudentQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoStudentQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoStudentQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},x=t=>(k("data-v-0d1121aa"),t=t(),R(),t),ct={class:"table-div h-100"},ht=x(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),gt=x(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),mt={class:"d-none"};function pt(t,e,s,l,i,n){const h=m("RouterLink"),c=m("Vue3EasyDataTable");return r(),d("div",ct,[a(c,{ref:"dataTable",headers:i.headers,items:s.studentQuestion,alternating:"",loading:s.loadingQuestion,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:u(()=>[ht]),"item-date":u(({create_date:w})=>[o("div",null,g(n.formatDate(w)),1)]),"item-question":u(({question:w,id:b})=>[a(h,{class:"cell-link",to:`/check-student-question/${b}`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(c,{ref:"dataTableM",headers:i.mobileHeaders,items:s.studentQuestion,alternating:"",loading:s.loadingQuestion,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:u(()=>[gt]),"item-date":u(({create_date:w})=>[o("div",null,g(n.formatDate(w)),1)]),_:1},8,["headers","items","loading","onClickRow"]),o("div",mt,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1)])}const wt=v(ut,[["render",pt],["__scopeId","data-v-0d1121aa"]]),_t={setup(){const t=U(),e=W(),s=P(),l=O(),i=y();return{studentMCQuestionsStore:t,instructorStudentsStore:e,usersStore:s,skillsStore:l,userDetailsStore:i}},data(){return{questions:[],loadingQuestion:!0}},components:{StudentQuestionList:wt},async created(){this.loadingQuestion=!0,await this.studentMCQuestionsStore.getStudentMCQuestions(),this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)for(let e=0;e<this.usersStore.users.length;e++)this.studentMCQuestionsStore.studentMCQuestions[t].student_id==this.usersStore.users[e].id&&(this.studentMCQuestionsStore.studentMCQuestions[t].studentName=this.usersStore.users[e].username);for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)typeof this.studentMCQuestionsStore.studentMCQuestions[t].studentName>"u"&&(this.studentMCQuestionsStore.studentMCQuestions[t].studentName="Deleted student");this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)for(let e=0;e<this.skillsStore.skillsList.length;e++)this.studentMCQuestionsStore.studentMCQuestions[t].skill_id==this.skillsStore.skillsList[e].id&&(this.studentMCQuestionsStore.studentMCQuestions[t].skillName=this.skillsStore.skillsList[e].name);this.questions=this.studentMCQuestionsStore.studentMCQuestions,this.$parent.studentQuestionCount=this.questions.length,this.loadingQuestion=!1},computed:{},methods:{}};function bt(t,e,s,l,i,n){const h=m("StudentQuestionList");return r(),d("div",null,[a(h,{studentQuestion:i.questions,loadingQuestion:i.loadingQuestion},null,8,["studentQuestion","loadingQuestion"])])}const vt=v(_t,[["render",bt]]);const ft={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Question",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Comment",value:"comment"},{text:"Skill",value:"skill_name"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q},props:["mcQuestionList","mcQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTableMC,this.dataTableRefM=this.$refs.dataTableMCM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoMcQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoMcQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.mc_question_id}/${t.user_id}/comparison?type=mcquestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoMcQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoMcQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoMcQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoMcQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},D=t=>(k("data-v-bc7a6fda"),t=t(),R(),t),St={class:"mt-1 table-div"},Tt=D(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),kt={class:"d-none"},Rt=D(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1));function Ct(t,e,s,l,i,n){const h=m("RouterLink"),c=m("Vue3EasyDataTable");return r(),d("div",St,[a(c,{ref:"dataTableMC",headers:i.headers,items:s.mcQuestionList,alternating:"",loading:s.mcQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:u(()=>[Tt]),"item-name":u(({name:w,mc_question_id:b,user_id:p})=>[a(h,{class:"cell-link",to:`/content-edit/${b}/${p}/comparison?type=mcquestion`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),o("div",kt,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1),a(c,{ref:"dataTableMCM",headers:i.mobileHeaders,items:s.mcQuestionList,alternating:"",loading:s.mcQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-md-none"},{loading:u(()=>[Rt]),"item-name":u(({name:w,mc_question_id:b,user_id:p})=>[a(h,{class:"cell-link",to:`/content-edit/${b}/${p}/comparison?type=mcquestion`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"])])}const Qt=v(ft,[["render",Ct],["__scopeId","data-v-bc7a6fda"]]);const yt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Level",value:"level"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Comment",value:"comment"}],dataTableRef:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q},props:["skillsEditList","skillEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoSkillTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoSkillTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoSkillTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoSkillTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoSkillTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoSkillTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.skill_id}/${t.user_id}/comparison?type=skill`)},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var l=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={year:"numeric",month:"numeric",day:"numeric"};return l=l.toLocaleDateString("en-US",i),l}}},I=t=>(k("data-v-5daba857"),t=t(),R(),t),Lt={class:"mt-1 table-div h-100"},Pt=I(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),Mt={class:"d-none"},Et=I(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1));function xt(t,e,s,l,i,n){const h=m("RouterLink"),c=m("Vue3EasyDataTable");return r(),d("div",Lt,[a(c,{ref:"dataTable",headers:i.headers,items:s.skillsEditList,alternating:"",loading:s.skillEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:u(()=>[Pt]),"item-name":u(({name:w,skill_id:b,user_id:p})=>[a(h,{class:"cell-link",to:`/content-edit/${b}/${p}/comparison?type=skill`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),o("div",Mt,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1),a(c,{ref:"dataTableM",headers:i.mobileHeaders,items:s.skillsEditList,alternating:"",loading:s.skillEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:u(()=>[Et]),_:1},8,["headers","items","loading","onClickRow"])])}const Dt=v(yt,[["render",xt],["__scopeId","data-v-5daba857"]]);const It={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Question",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q},props:["writtenEditsList","essayQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoEssayQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoEssayQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.essay_question_id}/${t.user_id}/comparison?type=essayquestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoEssayQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoEssayQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoEssayQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(console.log("MOBILE CALL"),console.log(this.settingStore.todoEssayQuestionTableRows),this.settingStore.todoEssayQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},A=t=>(k("data-v-2bf0b4b1"),t=t(),R(),t),At={class:"mt-1 table-div"},Nt=A(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),Ot=A(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),$t={class:"d-none"};function qt(t,e,s,l,i,n){const h=m("RouterLink"),c=m("Vue3EasyDataTable");return r(),d("div",At,[a(c,{ref:"dataTable",headers:i.headers,items:s.writtenEditsList,alternating:"",loading:s.essayQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:u(()=>[Nt]),"item-name":u(({name:w,essay_question_id:b,user_id:p})=>[a(h,{class:"cell-link",to:`/content-edit/${b}/${p}/comparison?type=essayquestion`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(c,{ref:"dataTableM",headers:i.mobileHeaders,items:s.writtenEditsList,alternating:"",loading:s.essayQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:u(()=>[Ot]),_:1},8,["headers","items","loading","onClickRow"]),o("div",$t,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1)])}const Ut=v(It,[["render",qt],["__scopeId","data-v-2bf0b4b1"]]);const Wt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Question",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q},props:["imageQuestionEditsList","imageQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoImageQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoImageQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.image_question_id}/${t.user_id}/comparison?type=imagequestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoImageQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoImageQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoImageQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoImageQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},N=t=>(k("data-v-f83a9af8"),t=t(),R(),t),Vt={class:"mt-1 table-div"},Ft=N(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),jt=N(()=>o("div",{class:"d-flex justify-content-center align-items-center mt-5"},[o("span",{class:"loader"})],-1)),zt={class:"d-none"};function Bt(t,e,s,l,i,n){const h=m("RouterLink"),c=m("Vue3EasyDataTable");return r(),d("div",Vt,[a(c,{ref:"dataTable",headers:i.headers,items:s.imageQuestionEditsList,alternating:"",loading:s.imageQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:u(()=>[Ft]),"item-name":u(({name:w,image_question_id:b,user_id:p})=>[a(h,{class:"cell-link",to:`/content-edit/${b}/${p}/comparison?type=imagequestion`},{default:u(()=>[T(g(w),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(c,{ref:"dataTableM",headers:i.mobileHeaders,items:s.imageQuestionEditsList,alternating:"",loading:s.imageQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:u(()=>[jt]),_:1},8,["headers","items","loading","onClickRow"]),o("div",zt,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1)])}const Ht=v(Wt,[["render",Bt],["__scopeId","data-v-f83a9af8"]]);const Zt={setup(){const t=P(),e=y();return{usersStore:t,userDetailsStore:e}},props:["settingStore"],data(){return{skillEdits:[],mcQuestionEdits:[],essayQuestionEdits:[],imageQuestionEdits:[],activeList:"skills",showDropDown:!1,skillEditsLoading:!0,mcQuestionEditsLoading:!0,essayQuestionEditsLoading:!0,imageQuestionEditsLoading:!0,mobileNavCurrentLabel:"skills"}},components:{McQuestionsEditList:Qt,SkillEditsList:Dt,WrittenQuestionEditsList:Ut,ImageQuestionEditsList:Ht},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers(),await this.getSkillEditsSubmittedForReview(),await this.getMCQuestionEditsSubmittedForReview(),await this.getEssayQuestionEditsSubmittedForReview(),await this.getImageQuestionsSubmittedForReview();const t=this.$route.query.list;t&&(this.activeList=t)},methods:{async getSkillEditsSubmittedForReview(){await fetch("/skills/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.skillEdits.push(t[e]);this.skillEditsLoading=!1})},async getMCQuestionEditsSubmittedForReview(){await fetch("/questions/mc/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.mcQuestionEdits.push(t[e]);this.mcQuestionEditsLoading=!1})},async getEssayQuestionEditsSubmittedForReview(){await fetch("/questions/essay/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.essayQuestionEdits.push(t[e]);this.essayQuestionEditsLoading=!1})},async getImageQuestionsSubmittedForReview(){await fetch("/questions/image-question/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.imageQuestionEdits.push(t[e]);this.imageQuestionEditsLoading=!1})},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var l=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={year:"numeric",month:"numeric",day:"numeric"};return l=l.toLocaleDateString("en-US",i),l},findUserName(t){var e="";for(let s=0;s<this.usersStore.users.length;s++)this.usersStore.users[s].id==t&&(e=this.usersStore.users[s].username);return e},handleDropDownNavChoose(t){const e=t.replace(/([A-Z])/g," $1"),s=e.charAt(0).toUpperCase()+e.slice(1);this.mobileNavCurrentLabel=s,this.activeList=t,this.showDropDown=!1,this.$router.push({query:{list:t,nav:"editList"}})}}},Jt=t=>(k("data-v-cb4572d3"),t=t(),R(),t),Gt={class:"w-100 bg-light"},Kt={class:"d-none d-lg-flex desktop-nav-bar gap-4 px-3"},Xt={class:"d-flex d-lg-none flex-column mobile-nav-bar"},Yt=Jt(()=>o("span",null,[o("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M14.2929 8.70711C14.9229 8.07714 14.4767 7 13.5858 7H6.41421C5.52331 7 5.07714 8.07714 5.70711 8.70711L9.29289 12.2929C9.68342 12.6834 10.3166 12.6834 10.7071 12.2929L14.2929 8.70711Z",fill:"#344054"})])],-1)),te={key:0,class:"custom-dropdown-base"},ee={class:"h-100"},se={key:0},ie={key:1},oe={key:2},ne={key:3};function ae(t,e,s,l,i,n){const h=m("SkillEditsList"),c=m("McQuestionsEditList"),w=m("WrittenQuestionEditsList"),b=m("ImageQuestionEditsList");return r(),d("div",Gt,[o("div",Kt,[o("button",{class:f(["btn",[i.activeList==="skills"?"primary-btn":"btn-dark"]]),onClick:e[0]||(e[0]=p=>n.handleDropDownNavChoose("skills"))}," Skills ",2),o("button",{class:f(["btn",[i.activeList==="mcQuestions"?"primary-btn":"btn-dark"]]),onClick:e[1]||(e[1]=p=>n.handleDropDownNavChoose("mcQuestions"))}," Multiple Choice Questions ",2),o("button",{class:f(["btn",[i.activeList==="writtenQuestions"?"primary-btn":"btn-dark"]]),onClick:e[2]||(e[2]=p=>n.handleDropDownNavChoose("writtenQuestions"))}," Essay Questions ",2),o("button",{class:f(["btn",[i.activeList==="imageQuestions"?"primary-btn":"btn-dark"]]),onClick:e[3]||(e[3]=p=>n.handleDropDownNavChoose("imageQuestions"))}," Image Questions ",2)]),o("div",Xt,[o("div",{class:f(["text-capitalize",i.showDropDown?"custom-select-button-focus":"custom-select-button"]),onClick:e[4]||(e[4]=p=>i.showDropDown=!i.showDropDown)},[T(g(i.mobileNavCurrentLabel)+" ",1),Yt],2),i.showDropDown?(r(),d("div",te,[o("div",{class:"custom-dropdown-option",onClick:e[5]||(e[5]=p=>n.handleDropDownNavChoose("skills"))}," Skills "),o("div",{class:"custom-dropdown-option",onClick:e[6]||(e[6]=p=>n.handleDropDownNavChoose("mcQuestions"))}," Multiple Choice Questions "),o("div",{class:"custom-dropdown-option",onClick:e[7]||(e[7]=p=>n.handleDropDownNavChoose("writtenQuestions"))}," Essay Questions "),o("div",{class:"custom-dropdown-option",onClick:e[8]||(e[8]=p=>n.handleDropDownNavChoose("imageQuestions"))}," Image Questions ")])):_("",!0)]),o("div",ee,[i.activeList==="skills"?(r(),d("div",se,[a(h,{skillsEditList:i.skillEdits,skillEditsLoading:i.skillEditsLoading,settingStore:s.settingStore},null,8,["skillsEditList","skillEditsLoading","settingStore"])])):_("",!0),i.activeList==="mcQuestions"?(r(),d("div",ie,[a(c,{mcQuestionList:i.mcQuestionEdits,mcQuestionEditsLoading:i.mcQuestionEditsLoading,settingStore:s.settingStore},null,8,["mcQuestionList","mcQuestionEditsLoading","settingStore"])])):_("",!0),i.activeList==="writtenQuestions"?(r(),d("div",oe,[a(w,{writtenEditsList:i.essayQuestionEdits,essayQuestionEditsLoading:i.essayQuestionEditsLoading,settingStore:s.settingStore},null,8,["writtenEditsList","essayQuestionEditsLoading","settingStore"])])):_("",!0),i.activeList==="imageQuestions"?(r(),d("div",ne,[a(b,{imageQuestionEditsList:i.imageQuestionEdits,imageQuestionEditsLoading:i.imageQuestionEditsLoading,settingStore:s.settingStore},null,8,["imageQuestionEditsList","imageQuestionEditsLoading","settingStore"])])):_("",!0)])])}const le=v(Zt,[["render",ae],["__scopeId","data-v-cb4572d3"]]);const re={setup(){return{settingStore:C()}},data(){return{headers:[{text:"Skill Name",value:"name"},{text:"Level",value:"level"},{text:"Type",value:"type"},{text:"Author",value:"username"}],mobileHeaders:[{text:"Skill Name",value:"name"},{text:"Author",value:"username"},{text:"Level",value:"level"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:Q,LoadingSpinner:$},props:["newSkillArray","loadingSkill"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoStudentQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0||this.settingStore.todoNewSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoNewSkillTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoNewSkillTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(){},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var l=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return l=l.toLocaleDateString("en-US",i),l},goToSkillDetail(t){this.$router.push(`/new-skill-awaiting-approval/${t.id}`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoNewSkillTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoNewSkillTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoNewSkillTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoNewSkillTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},de={class:"mt-3 table-div h-100"},ue={class:"d-none"};function ce(t,e,s,l,i,n){const h=m("LoadingSpinner"),c=m("Vue3EasyDataTable");return r(),d("div",de,[a(c,{ref:"dataTable",headers:i.headers,items:s.newSkillArray,alternating:"",loading:s.loadingSkill,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToSkillDetail,class:"d-none d-md-block"},q({_:2},[t.$parent.loadingSkill?{name:"loading",fn:u(()=>[a(h)]),key:"0"}:void 0]),1032,["headers","items","loading","onClickRow"]),a(c,{ref:"dataTableM",headers:i.mobileHeaders,items:s.newSkillArray,alternating:"",loading:s.loadingSkill,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToSkillDetail,class:"d-md-none d-block"},{loading:u(()=>[a(h)]),_:1},8,["headers","items","loading","onClickRow"]),o("div",ue,g(n.rowsPerPage)+" "+g(n.rowsPerPageM),1)])}const he=v(re,[["render",ce],["__scopeId","data-v-ea24760a"]]);const ge={setup(){const t=P(),e=y();return{usersStore:t,userDetailsStore:e}},data(){return{newSkillsAwaitingApproval:[],loadingSkill:!0}},components:{NewSkillTable:he},async mounted(){await this.getNewSkillsAwaitingApproval(),this.usersStore.users.length<1&&await this.usersStore.getUsers(),await this.addUserNameToSkillArray(),this.loadingSkill=!1},methods:{async getNewSkillsAwaitingApproval(){await fetch("/new-skills-awaiting-approval/list").then(function(t){return t.json()}).then(t=>{this.newSkillsAwaitingApproval=t})},async addUserNameToSkillArray(){for(let t=0;t<this.newSkillsAwaitingApproval.length;t++)for(let e=0;e<this.usersStore.users.length;e++)this.newSkillsAwaitingApproval[t].user_id==this.usersStore.users[e].id&&(this.newSkillsAwaitingApproval[t].username=this.usersStore.users[e].username)}}},me={class:"mt-3 table-div h-100"};function pe(t,e,s,l,i,n){const h=m("NewSkillTable");return r(),d("div",me,[a(h,{newSkillArray:i.newSkillsAwaitingApproval,loadingSkill:i.loadingSkill},null,8,["newSkillArray","loadingSkill"])])}const we=v(ge,[["render",pe],["__scopeId","data-v-3e05d5a3"]]);const _e={setup(){const t=C(),e=y();return{settingStore:t,userDetailsStore:e}},data(){return{activeContent:"editList",isTutorialComplete:!1,showTutorialTip1:!1,showTutorialTip2:!1,showTutorialTip3:!1,showTutorialTip4:!1}},components:{CheckStudentQuestions:vt,ContentEditsList:le,PageNav:dt,ContentFlagsView:V,NewSkillsAwaitingApprovalList:we},computed:{},created(){this.checkIfTutorialComplete()},async mounted(){(this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0)&&await this.settingStore.getSettings();const t=this.$route.query.nav;t&&(this.activeContent=t)},methods:{hideNavBar(){this.showNavBar=!1},async checkIfTutorialComplete(){const e=await(await fetch("/users/check-tutorial-progress/todo/"+this.userDetailsStore.userId)).json();e==0?(this.isTutorialComplete=!1,this.showTutorialTip1=!0):e==1&&(this.isTutorialComplete=!0)},progressTutorial(t){t==1?(this.showTutorialTip1=!1,this.showTutorialTip2=!0):t==2?(this.showTutorialTip2=!1,this.showTutorialTip3=!0):t==3?(this.showTutorialTip3=!1,this.showTutorialTip4=!0):t==4&&(this.showTutorialTip4=!1,this.markTutorialComplete())},markTutorialComplete(){let t="/users/mark-tutorial-complete/todo/"+this.userDetailsStore.userId;fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"}})}}},be={id:"todo-page",class:"bg-light d-flex h-100"},ve={class:"d-flex flex-column w-100"},fe={key:0},Se={key:1},Te={key:2},ke={key:3},Re={key:0,class:"modal"},Ce={class:"modal-content"},Qe={key:0},ye=o("p",null,"This is the Todo List page.",-1),Le=o("p",null,"There are 3 tabs on the left.",-1),Pe={key:1},Me=o("p",null,' The "Approve Content Edits" tab shows edits to skill pages and quiz questions, made by students or instructors, that need to be approved, edited, or dismissed. ',-1),Ee={key:2},xe=o("p",null,' The "Approve Student Added Questions" tab shows questions that students or instructors have submitted, that need to be approved, edited, or dismissed. ',-1),De={key:3},Ie=o("p",null,' The "Check Content Flags" tab shows all the things that users have flagged as problematic. This could include mistakes, bugs and incorrect information. ',-1),Ae=o("p",null," These need to be checked up on, and if a problem is found, it should be fixed. Otherwise, the flag should be dismissed. ",-1);function Ne(t,e,s,l,i,n){const h=m("PageNav"),c=m("ContentEditsList"),w=m("CheckStudentQuestions"),b=m("ContentFlagsView"),p=m("NewSkillsAwaitingApprovalList");return r(),d(E,null,[o("div",be,[a(h,{activeContent:i.activeContent},null,8,["activeContent"]),o("div",ve,[i.activeContent==="editList"?(r(),d("div",fe,[a(c)])):_("",!0),i.activeContent==="studentQuestionList"?(r(),d("div",Se,[a(w)])):_("",!0),i.activeContent==="flagList"?(r(),d("div",Te,[a(b)])):_("",!0),i.activeContent==="newSkillsList"?(r(),d("div",ke,[a(p)])):_("",!0)])]),i.showTutorialTip1||i.showTutorialTip2||i.showTutorialTip3||i.showTutorialTip4?(r(),d("div",Re,[o("div",Ce,[i.showTutorialTip1?(r(),d("div",Qe,[ye,Le,o("button",{class:"btn primary-btn",onClick:e[0]||(e[0]=L=>n.progressTutorial(1))}," next ")])):_("",!0),i.showTutorialTip2?(r(),d("div",Pe,[Me,o("button",{class:"btn primary-btn",onClick:e[1]||(e[1]=L=>n.progressTutorial(2))}," next ")])):_("",!0),i.showTutorialTip3?(r(),d("div",Ee,[xe,o("button",{class:"btn primary-btn",onClick:e[2]||(e[2]=L=>n.progressTutorial(3))}," next ")])):_("",!0),i.showTutorialTip4?(r(),d("div",De,[Ie,Ae,o("button",{class:"btn primary-btn",onClick:e[3]||(e[3]=L=>n.progressTutorial(4))}," close ")])):_("",!0)])])):_("",!0)],64)}const Fe=v(_e,[["render",Ne]]);export{Fe as default};
