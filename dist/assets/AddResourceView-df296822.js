import{_ as d,f as h,o as c,c as u,a as o,r as a,g as l,F as p}from"./main-2476cd24.js";import{S as b}from"./SkillTimeTracker-14dcc108.js";const k={data(){return{skillId:this.$route.params.skillId}},setup(){return{userDetailsStore:h()}},mounted:function(){let e=window.innerHeight-100;window.innerWidth<481?e=e-310:window.innerWidth>=481&&window.innerWidth<1024?e=e-300:e=e-450,$("#summernote").summernote({placeholder:"Share a link to a video, website or any other useful info on learning this skill.",height:e,tabsize:2,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],maximumImageFileSize:2048*1024,callbacks:{onImageUploadError:function(t){alert("Max image size is 2MB.")}}}),$(".note-editor .note-editable").css("background-color","#ffffff")},methods:{Submit(){var e="/resources/add/"+this.skillId,t=$("#summernote").summernote("code");const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.userDetailsStore.userId,editordata:t})};fetch(e,r).then(function(s){return s.json()}).then(s=>{s=="blocked"&&alert("Unfortunately, that source cannot be added.")}).then(()=>{this.$router.back()})}}},_={class:"container p-2 bg-light rounded"},v={class:"d-flex flex-column"},g=o("div",{class:"mb-3 mt-3 text-area-div"},[o("textarea",{id:"summernote",name:"editordata"})],-1),S={"b-on-hover":"",title:"add this resource to it associated skill",class:"d-flex justify-content-end"};function w(e,t,r,s,m,i){return c(),u("div",_,[o("div",v,[g,o("div",S,[o("button",{class:"btn red-btn me-2",onClick:t[0]||(t[0]=n=>e.$router.go(-1))}," Cancel "),o("button",{class:"btn primary-btn",onClick:t[1]||(t[1]=n=>i.Submit())}," Submit ")])])])}const T=d(k,[["render",w]]),x={data(){return{}},components:{AddResource:T,SkillTimeTracker:b},beforeRouteLeave(e,t,r){this.$refs.skillTimeTracker.saveDuration(),r()}};function y(e,t,r,s,m,i){const n=a("AddResource"),f=a("SkillTimeTracker");return c(),u(p,null,[l(n),l(f,{ref:"skillTimeTracker"},null,512)],64)}const C=d(x,[["render",y]]);export{C as default};
