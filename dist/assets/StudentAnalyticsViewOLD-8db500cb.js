import{_ as g,o as e,c as r,f,K as T,r as c,a,k as h,p as v,d as x}from"./main-29f80110.js";import{u as C}from"./TeacherAnalyticsStore-b3a80dad.js";import{u as D}from"./AnalyticsStore-86a2ab77.js";import{S as P}from"./StudentDurationPerDayLineChart-549399fe.js";import{T as w}from"./TimePerSkillHorizontalBarChart-306d0a8f.js";import{s as k}from"./transform-35b9fb9e.js";import{l as B,m as b,a as I,b as z}from"./linear-c968f95f.js";import{b as H}from"./band-039a8264.js";import{s as M}from"./sort-855cf5d1.js";import{P as F,A as L}from"./AttemptedAssessmentsTimelineChart-907116f4.js";import{F as q}from"./FailedAssessmentsHorizontalBarChart-9a60977a.js";import"./line-8aa3dac8.js";import"./time-962c8065.js";import"./point-ea70dc51.js";import"./ordinal-451cde74.js";const N={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){k("#tenant-avg-tokens-to-master-skills-chart-container");const o=25,i=0,_=0,s=10,y=200,u=1e3,p=Math.ceil((this.data.length+.1)*o)+i+s,n=B().domain([0,b(this.data,t=>t.quantity)]).range([y,u-_]),l=H().domain(M(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([i,p-s]).padding(.1),S=n.tickFormat(20),d=k("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",u).attr("height",p).attr("viewBox",[0,0,u,p]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");d.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",n(0)).attr("y",t=>l(t.name)).attr("width",t=>n(t.quantity)-n(0)).attr("height",l.bandwidth()),d.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>n(t.quantity)).attr("y",t=>l(t.name)+l.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>S(t.quantity)).call(t=>t.filter(A=>n(A.quantity)-n(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),d.append("g").attr("transform",`translate(0,${i})`).call(I(n).ticks(0)).call(t=>t.select(".domain").remove()),d.append("g").attr("transform",`translate(${y},0)`).call(z(l).tickSizeOuter(0))},computed:{}},O={id:"tenant-avg-tokens-to-master-skills-chart-container"};function V(o,i,_,s,y,u){return e(),r("div",O)}const j=g(N,[["render",V],["__scopeId","data-v-a76a3e32"]]);const R={setup(){const o=f(),i=C(),_=T(),s=D();return{userDetailsStore:o,teacherAnalyticsStore:i,userSkillsStore:_,analyticsStore:s}},components:{StudentDurationPerDayLineChart:P,TimePerSkillHorizontalBarChart:w,StudentAvgTokensToMasterSkillsHorizontalBarChart:j,PassedAssessmentsTimelineChart:F,AttemptedAssessmentsTimelineChart:L,FailedAssessmentsHorizontalBarChart:q},data(){return{studentId:this.userDetailsStore.userId}},async created(){await this.analyticsStore.getStudentDurationPerDay(this.studentId),await this.analyticsStore.getStudentSkillDurations(this.studentId),await this.analyticsStore.getAvgTokensToMasterSkills(this.studentId),await this.analyticsStore.getStudentAssessmentPasses(this.studentId),await this.analyticsStore.getStudentAssessmentAttempts(this.studentId),await this.teacherAnalyticsStore.getStudentMultipleFails(this.studentId)},methods:{}},m=o=>(v("data-v-3bb451fd"),o=o(),x(),o),U={class:"container-fluid"},E={class:"charts-grid"},K={class:"chart"},$=m(()=>a("h2",{class:"h6"},"Time per day",-1)),G={key:1},J={class:"chart"},Q=m(()=>a("h2",{class:"h6"},"Time per skill",-1)),W={key:1},X={class:"chart"},Y=m(()=>a("h2",{class:"h6"},"Tokens per skill",-1)),Z={key:1},tt={class:"chart"},st=m(()=>a("h2",{class:"h6"},"Passed",-1)),et={key:1},at={class:"chart"},nt=m(()=>a("h2",{class:"h6"},"Attempted",-1)),ot={key:1},rt={class:"chart"},it=m(()=>a("h2",{class:"h6"},"Failed multiple times",-1)),lt={key:1};function dt(o,i,_,s,y,u){const p=c("StudentDurationPerDayLineChart"),n=c("TimePerSkillHorizontalBarChart"),l=c("StudentAvgTokensToMasterSkillsHorizontalBarChart"),S=c("PassedAssessmentsTimelineChart"),d=c("AttemptedAssessmentsTimelineChart"),t=c("FailedAssessmentsHorizontalBarChart");return e(),r("div",U,[a("div",E,[a("div",K,[$,s.analyticsStore.studentDurationsPerDay.length>0?(e(),h(p,{key:0,data:s.analyticsStore.studentDurationsPerDay,colour:"black"},null,8,["data"])):(e(),r("p",G,"No data yet"))]),a("div",J,[Q,s.analyticsStore.studentSkillDurations.length>0?(e(),h(n,{key:0,data:s.analyticsStore.studentSkillDurations,colour:"purple"},null,8,["data"])):(e(),r("p",W,"No data yet"))]),a("div",X,[Y,s.analyticsStore.studentTokensPerSkills.length>0?(e(),h(l,{key:0,class:"",data:s.analyticsStore.studentTokensPerSkills,colour:"darkgreen"},null,8,["data"])):(e(),r("p",Z,"No data yet"))]),a("div",tt,[st,s.analyticsStore.studentAssessmentPasses.length>0?(e(),h(S,{key:0,class:"",data:s.analyticsStore.studentAssessmentPasses},null,8,["data"])):(e(),r("p",et," This student has not completed any assessments yet. "))]),a("div",at,[nt,s.analyticsStore.studentAssessmentAttempts.length>0?(e(),h(d,{key:0,class:"",data:s.analyticsStore.studentAssessmentAttempts},null,8,["data"])):(e(),r("p",ot,"This student has attempted any assessments yet."))]),a("div",rt,[it,s.teacherAnalyticsStore.studentMultipleFails.length>0?(e(),h(t,{key:0,data:s.teacherAnalyticsStore.studentMultipleFails,colour:"darkred",class:""},null,8,["data"])):(e(),r("p",lt," This student has not failed any assessments more than once yet. "))])])])}const Ct=g(R,[["render",dt],["__scopeId","data-v-3bb451fd"]]);export{Ct as default};
