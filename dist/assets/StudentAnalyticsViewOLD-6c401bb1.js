import{_ as k,o as e,c as r,e as A,I as f,r as d,a as n,k as c}from"./main-ba22c42c.js";import{u as T}from"./TeacherAnalyticsStore-29f69bc2.js";import{u as v}from"./AnalyticsStore-b5577166.js";import{S as x}from"./StudentDurationPerDayLineChart-5235e53c.js";import{T as C}from"./TimePerSkillHorizontalBarChart-89e459ae.js";import{s as S}from"./transform-35b9fb9e.js";import{l as D,m as P,a as B,b as w}from"./linear-c968f95f.js";import{b}from"./band-18e9f0c1.js";import{s as z}from"./sort-855cf5d1.js";import{P as H,A as I}from"./AttemptedAssessmentsTimelineChart-de153fe1.js";import{F as M}from"./FailedAssessmentsHorizontalBarChart-98c54a72.js";import"./line-8aa3dac8.js";import"./time-962c8065.js";import"./point-ea70dc51.js";const F={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){S("#tenant-avg-tokens-to-master-skills-chart-container");const h=25,s=0,m=0,a=10,y=200,u=1e3,p=Math.ceil((this.data.length+.1)*h)+s+a,o=D().domain([0,P(this.data,t=>t.quantity)]).range([y,u-m]),i=b().domain(z(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([s,p-a]).padding(.1),_=o.tickFormat(20),l=S("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",u).attr("height",p).attr("viewBox",[0,0,u,p]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");l.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",o(0)).attr("y",t=>i(t.name)).attr("width",t=>o(t.quantity)-o(0)).attr("height",i.bandwidth()),l.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>o(t.quantity)).attr("y",t=>i(t.name)+i.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>_(t.quantity)).call(t=>t.filter(g=>o(g.quantity)-o(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),l.append("g").attr("transform",`translate(0,${s})`).call(B(o).ticks(0)).call(t=>t.select(".domain").remove()),l.append("g").attr("transform",`translate(${y},0)`).call(w(i).tickSizeOuter(0))},computed:{}},L={id:"tenant-avg-tokens-to-master-skills-chart-container"};function q(h,s,m,a,y,u){return e(),r("div",L)}const N=k(F,[["render",q],["__scopeId","data-v-a76a3e32"]]);const O={setup(){const h=A(),s=T(),m=f(),a=v();return{userDetailsStore:h,teacherAnalyticsStore:s,userSkillsStore:m,analyticsStore:a}},components:{StudentDurationPerDayLineChart:x,TimePerSkillHorizontalBarChart:C,StudentAvgTokensToMasterSkillsHorizontalBarChart:N,PassedAssessmentsTimelineChart:H,AttemptedAssessmentsTimelineChart:I,FailedAssessmentsHorizontalBarChart:M},data(){return{studentId:this.userDetailsStore.userId}},async created(){await this.analyticsStore.getStudentDurationPerDay(this.studentId),await this.analyticsStore.getStudentSkillDurations(this.studentId),await this.analyticsStore.getAvgTokensToMasterSkills(this.studentId),await this.analyticsStore.getStudentAssessmentPasses(this.studentId),await this.analyticsStore.getStudentAssessmentAttempts(this.studentId),await this.teacherAnalyticsStore.getStudentMultipleFails(this.studentId)},methods:{}},V={class:"container-fluid"},j={class:"charts-grid"},R={class:"chart"},U={key:1},E={class:"chart"},$={key:1},G={class:"chart"},J={key:1},K={class:"chart"},Q={key:1},W={class:"chart"},X={key:1},Y={class:"chart"},Z={key:1};function tt(h,s,m,a,y,u){const p=d("StudentDurationPerDayLineChart"),o=d("TimePerSkillHorizontalBarChart"),i=d("StudentAvgTokensToMasterSkillsHorizontalBarChart"),_=d("PassedAssessmentsTimelineChart"),l=d("AttemptedAssessmentsTimelineChart"),t=d("FailedAssessmentsHorizontalBarChart");return e(),r("div",V,[n("div",j,[n("div",R,[s[0]||(s[0]=n("h2",{class:"h6"},"Time per day",-1)),a.analyticsStore.studentDurationsPerDay.length>0?(e(),c(p,{key:0,data:a.analyticsStore.studentDurationsPerDay,colour:"black"},null,8,["data"])):(e(),r("p",U,"No data yet"))]),n("div",E,[s[1]||(s[1]=n("h2",{class:"h6"},"Time per skill",-1)),a.analyticsStore.studentSkillDurations.length>0?(e(),c(o,{key:0,data:a.analyticsStore.studentSkillDurations,colour:"purple"},null,8,["data"])):(e(),r("p",$,"No data yet"))]),n("div",G,[s[2]||(s[2]=n("h2",{class:"h6"},"Tokens per skill",-1)),a.analyticsStore.studentTokensPerSkills.length>0?(e(),c(i,{key:0,class:"",data:a.analyticsStore.studentTokensPerSkills,colour:"darkgreen"},null,8,["data"])):(e(),r("p",J,"No data yet"))]),n("div",K,[s[3]||(s[3]=n("h2",{class:"h6"},"Passed",-1)),a.analyticsStore.studentAssessmentPasses.length>0?(e(),c(_,{key:0,class:"",data:a.analyticsStore.studentAssessmentPasses},null,8,["data"])):(e(),r("p",Q," This student has not completed any assessments yet. "))]),n("div",W,[s[4]||(s[4]=n("h2",{class:"h6"},"Attempted",-1)),a.analyticsStore.studentAssessmentAttempts.length>0?(e(),c(l,{key:0,class:"",data:a.analyticsStore.studentAssessmentAttempts},null,8,["data"])):(e(),r("p",X,"This student has attempted any assessments yet."))]),n("div",Y,[s[5]||(s[5]=n("h2",{class:"h6"},"Failed multiple times",-1)),a.teacherAnalyticsStore.studentMultipleFails.length>0?(e(),c(t,{key:0,data:a.teacherAnalyticsStore.studentMultipleFails,colour:"darkred",class:""},null,8,["data"])):(e(),r("p",Z," This student has not failed any assessments more than once yet. "))])])])}const yt=k(O,[["render",tt],["__scopeId","data-v-3bb451fd"]]);export{yt as default};
