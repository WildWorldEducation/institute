import{_ as f,f as g,o as n,c as i,a as e,w as y,y as S,p as D,d as I,i as b,A as w,r as x,b as h,F as m,z as k,g as C,s as p,t as v}from"./main-8f135046.js";const E={setup(){return{userDetailsStore:g()}},data(){return{theme:this.userDetailsStore.theme}},created(){},async mounted(){await this.userDetailsStore.getUserDetails()},methods:{chooseTheme(){this.userDetailsStore.updateTheme(this.theme)}}},u=s=>(D("data-v-af51cfe5"),s=s(),I(),s),T=u(()=>e("h2",{class:"secondary-heading white-heading h4"},"Theme",-1)),N={class:"mb-3 text-start themes"},V=u(()=>e("option",{value:"original"},"Original",-1)),U=u(()=>e("option",{value:"instructor"},"Instructor",-1)),M=u(()=>e("option",{value:"editor"},"Editor",-1)),W=[V,U,M];function z(s,t,c,l,r,a){return n(),i("div",null,[T,e("div",N,[y(e("select",{class:"form-select",onChange:t[0]||(t[0]=d=>a.chooseTheme()),"onUpdate:modelValue":t[1]||(t[1]=d=>r.theme=d)},W,544),[[S,r.theme]])])])}const A=f(E,[["render",z],["__scopeId","data-v-af51cfe5"]]),B={setup(){const s=g(),t=b(),c=w();return s.getUserDetails(),c.getInstructors(),{userDetailsStore:s,sessionDetailsStore:t,userStore:c}},data(){return{instructorID:this.userDetailsStore.instructorId,selectedInstructorName:"",showWarnModal:!1,isEditing:!1}},components:{ThemeDetails:A},methods:{isInstructorLocked(){return this.userDetailsStore.role==="student"&&this.userDetailsStore.instructorId&&this.userDetailsStore.instructorId.trim()!==""},async updateInstructor(s){if(!this.isInstructorLocked())try{const t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({instructor_id:s})};await fetch(`/users/${this.userDetailsStore.userId}/edit/instructor`,t),this.userDetailsStore.getUserDetails(),this.isEditing=!1,this.showWarnModal=!1}catch(t){console.error("Error updating instructor:",t)}},cancelEdit(){this.isEditing=!1},handleInstructorChange(s){this.instructorID=s.target.value,this.selectedInstructorName=s.target.options[s.target.selectedIndex].text}}};const _=s=>(D("data-v-fb2ad2ba"),s=s(),I(),s),L={class:"container legend-div"},O={class:"mt-2 d-flex row gap-4 justify-content-between"},j={key:0,class:"form"},F={class:"profile-input"},P=_(()=>e("h2",{class:"secondary-heading h4"},"Instructor",-1)),Y={key:0},$=["value"],q={key:0,class:"mt-2"},H={key:1},J={class:"profile-input"},G=_(()=>e("option",{value:"",selected:"",disabled:""}," Please choose an instructor ",-1)),K=["value"],Q={class:"mt-2 d-flex gap-2"},R={key:0},X={id:"myModal",class:"modal"},Z={class:"warn-content d-flex flex-column"},ee={class:"d-flex flex-row"},te=_(()=>e("div",{class:"me-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"35",height:"35",fill:"#eed888"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})])],-1)),se={id:"instructor-name-text"},oe={class:"d-flex flex-row-reverse gap-2"};function re(s,t,c,l,r,a){const d=x("ThemeDetails");return n(),i(m,null,[e("div",L,[e("div",O,[l.userDetailsStore.role==="student"?(n(),i("div",j,[e("div",F,[e("div",null,[P,r.isEditing?(n(),i("div",H,[e("div",J,[y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.instructorID=o),class:"form-select",onChange:t[2]||(t[2]=(...o)=>a.handleInstructorChange&&a.handleInstructorChange(...o))},[G,(n(!0),i(m,null,k(l.userStore.instructors,o=>(n(),i("option",{key:o.id,value:o.id},v(o.username),9,K))),128))],544),[[S,r.instructorID]])]),e("div",Q,[e("button",{class:"btn red-btn",onClick:t[3]||(t[3]=(...o)=>a.cancelEdit&&a.cancelEdit(...o))}," Cancel "),e("button",{class:"btn primary-btn",onClick:t[4]||(t[4]=o=>r.showWarnModal=!0)}," Submit ")])])):(n(),i("div",Y,[e("input",{type:"text",class:"form-control",readonly:"",value:l.userDetailsStore.instructorUsername||"No instructor chosen"},null,8,$),a.isInstructorLocked()?h("",!0):(n(),i("div",q,[e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=o=>r.isEditing=!0)}," Edit ")]))]))])])])):h("",!0),C(d)])]),r.showWarnModal?(n(),i("div",R,[e("div",X,[e("div",Z,[e("div",ee,[te,e("div",null,[p(" You can only choose your instructor once. Are you sure you want   "),e("span",se,v(r.selectedInstructorName),1),p("   to be your instructor. ")])]),e("div",oe,[e("button",{class:"btn primary-btn",onClick:t[5]||(t[5]=o=>a.updateInstructor(r.instructorID))}," Yes "),e("button",{class:"btn red-btn",onClick:t[6]||(t[6]=o=>r.showWarnModal=!1)}," No ")])])])])):h("",!0)],64)}const ie=f(B,[["render",re],["__scopeId","data-v-fb2ad2ba"]]);export{ie as default};
