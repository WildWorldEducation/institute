import{_ as u,y as h,r,o,c,a as s,f as m,j as S,t as y,k as p}from"./main-c88d736d.js";import{u as f}from"./TeacherAnalyticsStore-3914186d.js";import{S as A}from"./StudentSkillActivityChart-196988db.js";import{D as k}from"./downloadCSVBtn-21d059b9.js";import"./transform-4d0f7c8f.js";import"./string-c67ea49d.js";import"./band-2263c9e7.js";import"./continuous-93813e6c.js";import"./linear-d9b6cbf2.js";const v={setup(){const e=h(),t=f();return{usersStore:e,teacherAnalyticsStore:t}},data(){return{studentId:this.$route.params.studentId,studentName:null,visitedSkills:[],downloadData:[]}},components:{StudentSkillActivityChart:A,DownloadCSVBtn:k},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const e=this.usersStore.users.find(t=>t.id===this.studentId);e&&(this.studentName=e.username),this.teacherAnalyticsStore.skillActivities.length==0&&await this.teacherAnalyticsStore.getSkillActivityReport(this.studentId),this.teacherAnalyticsStore.skillActivities=this.teacherAnalyticsStore.skillActivities.map(t=>({...t,formattedQuantity:this.millisToMinutesAndSeconds(t.quantity)})),this.downloadData=this.teacherAnalyticsStore.skillActivities.map(t=>({skill:t.name,minutes:t.formattedQuantity}))},methods:{visitedDate(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return t+":"+(i<10?"0":"")+i}}},_={class:"container"},g={class:"d-flex flex-column"},w={class:"d-flex justify-content-between w-100"},D={class:"secondary-heading h3 d-flex justify-content-end align-items-center"},N={key:1};function x(e,t,i,a,n,B){const l=r("DownloadCSVBtn"),d=r("StudentSkillActivityChart");return o(),c("div",_,[s("div",g,[s("span",w,[t[0]||(t[0]=s("h1",{class:"heading"},"Skill Activity Report",-1)),s("h2",D,[m(l,{data:n.downloadData,fileName:`Skill Activity Report - ${n.studentName}`},null,8,["data","fileName"]),S(" "+y(n.studentName),1)])])]),a.teacherAnalyticsStore.skillActivities.length>0?(o(),p(d,{key:0,data:a.teacherAnalyticsStore.skillActivities,colour:"darkred"},null,8,["data"])):(o(),c("p",N,"No skills visited by this student."))])}const Q=u(v,[["render",x]]);export{Q as default};
