import{_ as l,o as t,c as o,w as p,j as c,d as n,t as u}from"./main-87f9ced0.js";const h={data(){return{token:this.$route.params.token,password:"",isValid:!1,isComplete:!1,message:""}},async created(){await this.CheckToken()},methods:{async CheckToken(){var r="/password-reset/reset-password/"+this.token;fetch(r).then(function(s){return s.json()}).then(s=>{s.status=="valid"?this.isValid=!0:console.log("Expired or invalid token.")})},Submit(){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token,password:this.password})};var s="/password-reset/reset-password";fetch(s,r).then(function(e){return e.json()}).then(e=>{e.status=="Password updated successfully"?this.message="Password updated successfully":e.status=="Invalid or expired token"?this.message="Invalid or expired token":this.message="Problem updating password. Please try again later.",this.isComplete=!0})}}},m={class:"container"},w={key:0},_=n("h1",{class:"header-title mb-2"},"Choose new password",-1),f={key:0,class:"form-group"},k={key:1},y={key:1};function v(r,s,e,g,a,d){return t(),o("div",m,[a.isComplete?(t(),o("div",y,u(this.message),1)):(t(),o("div",w,[_,a.isValid?(t(),o("div",f,[p(n("input",{type:"password",class:"form-control password-input",placeholder:"Password","onUpdate:modelValue":s[0]||(s[0]=i=>a.password=i)},null,512),[[c,a.password]]),n("button",{class:"btn btn-primary mt-2 purple-btn",onClick:s[1]||(s[1]=(...i)=>d.Submit&&d.Submit(...i))}," Submit ")])):(t(),o("p",k,"Token expired or not valid. Please try again."))]))])}const x=l(h,[["render",v]]);export{x as default};
