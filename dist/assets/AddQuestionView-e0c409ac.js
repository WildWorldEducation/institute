import{_ as H,a as V,r as f,o as i,c as n,d as t,n as M,m as g,F as u,z as _,b as d,t as r,e as y,j as x,p as F,f as z}from"./main-d0f9b532.js";import{T as C}from"./TooltipBtn-3cd602ed.js";const S={setup(){return{userDetailsStore:V()}},components:{TooltipBtn:C},data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[],isDragging:!1,files:[],duplicates:[],missingFields:[],showModal:!1,modalClick:!1}},async created(){},mounted:function(){},methods:{OnFileChange(o){var l=o.target.files||o.dataTransfer.files;l.length},ReadFile(o){var l=new FileReader;l.onload=async h=>{var a=h.target.result,s=a.split(/\r?\n|\r|\n/g);for(let c=s.length-1;c>=0;c--)if(s[c]=="")s.splice(c,1);else{const m=s[c].split("|");if(m.length!=8){const p=c+1,e=m.length-8>0?"more":"less",v=Math.abs(8-m.length),k={fileName:o.name,line:p,missingType:e,numberOfMissingField:v};this.missingFields.push(k)}else this.questionsArray.push(m)}},l.readAsText(o)},async Submit(){const o=[];if((this.missingFields.length||this.duplicates.length)&&!this.modalClick){this.showModal=!0;return}for(let a=0;a<this.questionsArray.length;a++){const s={};s.name=this.questionsArray[a][0],s.question=this.questionsArray[a][1],s.correct_answer=this.questionsArray[a][2],s.incorrect_answer_1=this.questionsArray[a][3],s.incorrect_answer_2=this.questionsArray[a][4],s.incorrect_answer_3=this.questionsArray[a][5],s.incorrect_answer_4=this.questionsArray[a][6],s.explanation=this.questionsArray[a][7],o.push(s)}const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:o})};var h="/skills/"+this.skillId+"/mc-questions/add";fetch(h,l).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})},onChange(){const o=[];o.push(...this.$refs.file.files),this.files.push(...this.$refs.file.files);const l=this.files.map(h=>h.name);this.duplicates=l.filter((h,a)=>l.indexOf(h)!==a),!this.duplicates.length&&o.forEach(h=>{this.ReadFile(h)})},dragover(o){o.preventDefault(),this.isDragging=!0},dragleave(){this.isDragging=!1},drop(o){o.preventDefault(),this.$refs.file.files=o.dataTransfer.files,this.onChange(),this.isDragging=!1},remove(o,l){this.files.splice(o,1),this.duplicates=[],this.missingFields=[],this.questionsArray=[],this.files.forEach(h=>this.ReadFile(h))}}},w=o=>(F("data-v-cc675a58"),o=o(),z(),o),q={class:"container mt-3"},T={key:0},A={class:"row mt-5"},D={for:"fileInput",class:"file-label"},O={key:0},L={key:1},I=w(()=>t("span",{id:"click-here-label"},"click here",-1)),B={key:0,class:"preview-container mt-4 row gap-2 d-none d-lg-flex"},N={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},R=w(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),P=[R],j={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},$=w(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),Q=[$],E={class:""},Y=["onClick"],J=w(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"16",height:"16"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),U=[J],X={key:0,class:"validate-line mt-3"},G={key:1,class:"validate-line mt-3"},K={key:1,class:"preview-container mt-4 row gap-2 d-lg-none"},W={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},Z=w(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),ee=[Z],se={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},te=w(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),ie=[te],ne={class:""},le=["onClick"],oe=w(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"12",height:"12"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),ce=[oe],re={key:0,class:"validate-line mt-3"},ae={class:"mt-3"},de={class:"row mt-4"},he={class:"col-sm-4 d-flex flex-md-row flex-column gap-2 align-items-start align-items-md-end"},ue={key:0},me={id:"myModal",class:"modal"},ge={class:"modal-content"},_e={key:0,class:"mb-3"},pe=w(()=>t("span",{class:"text-warning"},"If you still wish to submit them, the lines below will not be created: ",-1)),ve={key:1},fe={class:"mt-4",style:{display:"flex",gap:"10px","justify-content":"end"}};function ye(o,l,h,a,s,c){const m=f("router-link"),p=f("TooltipBtn");return i(),n(u,null,[t("div",q,[a.userDetailsStore.role=="admin"?(i(),n("div",T,[t("div",null,[t("div",A,[t("div",{class:"dropzone-container mx-lg-3 my-2",onDragover:l[1]||(l[1]=(...e)=>c.dragover&&c.dragover(...e)),onDragleave:l[2]||(l[2]=(...e)=>c.dragleave&&c.dragleave(...e)),onDrop:l[3]||(l[3]=(...e)=>c.drop&&c.drop(...e)),style:M(s.isDragging&&"border-color: #8f7bd6;")},[t("input",{type:"file",multiple:"",name:"file",id:"fileInput",class:"hidden-input",onChange:l[0]||(l[0]=(...e)=>c.onChange&&c.onChange(...e)),ref:"file",accept:".csv, .txt"},null,544),t("label",D,[s.isDragging?(i(),n("div",O," Release to drop files here. ")):(i(),n("div",L,[g(" Drop files here or "),I,g(" to upload CSV and TXT file. ")]))]),s.files.length?(i(),n("div",B,[(i(!0),n(u,null,_(s.files,e=>(i(),n("div",{key:e.name,class:"preview-card col-3 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",N,P)):d("",!0),e.type=="text/plain"?(i(),n("svg",j,Q)):d("",!0),t("p",E,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files.indexOf(e),e.name),title:"Remove file"},U,8,Y)])]))),128)),s.duplicates.length?(i(),n("div",X,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,_(s.duplicates,e=>(i(),n("span",{key:e},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",G,[g(" Please check your CSVs files: "),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0),s.files.length?(i(),n("div",K,[(i(!0),n(u,null,_(s.files,e=>(i(),n("div",{key:e.name,class:"preview-card col-10 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",W,ee)):d("",!0),e.type=="text/plain"?(i(),n("svg",se,ie)):d("",!0),t("p",ne,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"btn btn-danger",onClick:v=>c.remove(s.files.indexOf(e),e.name),title:"Remove file"},ce,8,le)])]))),128)),s.missingFields.length?(i(),n("div",re,[g(" Please check your CSVs files: "),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0)],36)]),t("div",ae,[t("div",{class:"btn primary-btn",onClick:l[4]||(l[4]=e=>c.Submit())},"Submit")])])])):d("",!0),t("div",de,[t("div",he,[y(m,{class:"btn green-btn",to:"/mc-questions/"+s.skillId+"/add"},{default:x(()=>[g("Multiple Choice ")]),_:1},8,["to"]),y(p,{trianglePosition:"left",absoluteTop:"37px",toolTipText:"Multiple Choice Question (MCQ): A question with a list of options where only one is correct. Students have to select the best answer from the choices provided. Distractors (incorrect options) are included to challenge the student's understanding."})])])]),s.showModal?(i(),n("div",ue,[t("div",me,[t("div",ge,[s.missingFields.length?(i(),n("p",_e,[g(" Your files contain questions with incorrect formatting. "),pe])):d("",!0),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default. ",1))),128)),s.duplicates.length?(i(),n("p",ve," Please remove any duplicate files that are submitted below: ")):d("",!0),(i(!0),n(u,null,_(s.duplicates,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e)+". ",1))),128)),t("div",fe,[t("button",{type:"button",class:"btn green-btn",onClick:l[5]||(l[5]=e=>{s.modalClick=!0,c.Submit()})}," Still Submit "),t("button",{type:"button",class:"btn red-btn",onClick:l[6]||(l[6]=e=>s.showModal=!1)}," Cancel ")])])])])):d("",!0)],64)}const we=H(S,[["render",ye],["__scopeId","data-v-cc675a58"]]);const be={setup(){return{userDetailsStore:V()}},data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[],isDragging:!1,files_essay:[],duplicates:[],missingFields:[],showModal:!1,clickModal:!1}},components:{TooltipBtn:C},mounted:function(){},methods:{OnFileChange(o){var l=o.target.files||o.dataTransfer.files;l.length&&this.ReadFile(l[0])},ReadFile(o){var l=new FileReader;l.onload=h=>{var a=h.target.result,s=a.split(/\r?\n|\r|\n/g);for(let c=s.length-1;c>=0;c--){s[c]===""&&s.splice(c,1);let m;if(s[c]!==void 0)m=s[c].split("|");else break;if(m.length!=2){const p=c+1,e=m.length-2>0?"more":"less",v=Math.abs(2-m.length),k={fileName:o.name,line:p,missingType:e,numberOfMissingField:v};this.missingFields.push(k)}else this.questionsArray.push(m)}},l.readAsText(o)},async Submit(){const o=[];if((this.missingFields.length||this.duplicates.length)&&!this.clickModal){this.showModal=!0;return}for(let a=0;a<this.questionsArray.length;a++){const s={};s.name=this.questionsArray[a][0],s.question=this.questionsArray[a][1],o.push(s)}const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:o})};var h="/skills/"+this.skillId+"/essay-questions/add";fetch(h,l).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})},onChange(){const o=[];o.push(...this.$refs.file_essay.files),this.files_essay.push(...this.$refs.file_essay.files);const l=this.files_essay.map(h=>h.name);this.duplicates=l.filter((h,a)=>l.indexOf(h)!==a),!this.duplicates.length&&o.forEach(h=>{this.ReadFile(h)})},dragover(o){o.preventDefault(),this.isDragging=!0},dragleave(){this.isDragging=!1},drop(o){o.preventDefault(),this.$refs.file_essay.files=o.dataTransfer.files,this.onChange(),this.isDragging=!1},remove(o,l){this.files_essay.splice(o,1),this.duplicates=[],this.missingFields=[],this.questionsArray=[],this.files_essay.forEach(h=>this.ReadFile(h))}}},b=o=>(F("data-v-295a0eac"),o=o(),z(),o),ke={class:"container mt-3"},He={key:0},xe={class:"row mt-5"},Ce={for:"fileInput_essay",class:"file-label"},Ve={key:0},Me={key:1},Fe=b(()=>t("span",{id:"click-here-label"},"click here",-1)),ze={key:0,class:"preview-container mt-4 row gap-2 d-none d-lg-flex"},Se={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},qe=b(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),Te=[qe],Ae={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},De=b(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),Oe=[De],Le={class:"input-file-name"},Ie=["onClick"],Be=b(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"16",height:"16"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),Ne=[Be],Re={key:0,class:"validate-line mt-3"},Pe={key:1,class:"validate-line mt-3"},je={key:1,class:"preview-container mt-4 row gap-2 d-lg-none"},$e={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},Qe=b(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),Ee=[Qe],Ye={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},Je=b(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),Ue=[Je],Xe={class:"input-file-name"},Ge=["onClick"],Ke=b(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"12",height:"12"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),We=[Ke],Ze={key:0,class:"validate-line mt-3"},es={key:1,class:"validate-line mt-3"},ss={class:"row mt-3"},ts={class:"col"},is={class:"row mt-4"},ns={class:"col-sm-4 d-flex flex-md-row flex-column gap-2 align-items-start align-items-md-end"},ls={key:0},os={id:"myModal",class:"modal"},cs={class:"modal-content"},rs={key:0,class:"mb-3"},as=b(()=>t("span",{class:"text-warning"},"If you still wish to submit them, the lines below will not be created: ",-1)),ds={key:1},hs={class:"mt-4",style:{display:"flex",gap:"10px","justify-content":"end"}};function us(o,l,h,a,s,c){const m=f("router-link"),p=f("TooltipBtn");return i(),n(u,null,[t("div",ke,[a.userDetailsStore.role=="admin"?(i(),n("div",He,[t("div",xe,[t("div",{class:"dropzone-container",onDragover:l[1]||(l[1]=(...e)=>c.dragover&&c.dragover(...e)),onDragleave:l[2]||(l[2]=(...e)=>c.dragleave&&c.dragleave(...e)),onDrop:l[3]||(l[3]=(...e)=>c.drop&&c.drop(...e)),style:M(s.isDragging&&"border-color: #8f7bd6;")},[t("input",{type:"file",multiple:"",name:"file_essay",id:"fileInput_essay",class:"hidden-input",onChange:l[0]||(l[0]=(...e)=>c.onChange&&c.onChange(...e)),ref:"file_essay",accept:".csv,.txt"},null,544),t("label",Ce,[s.isDragging?(i(),n("div",Ve,"Release to drop files here.")):(i(),n("div",Me,[g(" Drop files here or "),Fe,g(" to upload CSV and TXT file. ")]))]),s.files_essay.length?(i(),n("div",ze,[(i(!0),n(u,null,_(s.files_essay,e=>(i(),n("div",{key:e.name,class:"preview-card col-3 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",Se,Te)):d("",!0),e.type=="text/plain"?(i(),n("svg",Ae,Oe)):d("",!0),t("p",Le,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files_essay.indexOf(e),e.name),title:"Remove file"},Ne,8,Ie)])]))),128)),s.duplicates.length?(i(),n("div",Re,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,_(s.duplicates,e=>(i(),n("span",{key:e.name},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",Pe,[g(" Please check your CSVs files: "),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0),s.files_essay.length?(i(),n("div",je,[(i(!0),n(u,null,_(s.files_essay,e=>(i(),n("div",{key:e.name,class:"preview-card col-10 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",$e,Ee)):d("",!0),e.type=="text/plain"?(i(),n("svg",Ye,Ue)):d("",!0),t("p",Xe,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files_essay.indexOf(e),e.name),title:"Remove file"},We,8,Ge)])]))),128)),s.duplicates.length?(i(),n("div",Ze,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,_(s.duplicates,e=>(i(),n("span",{key:e.name},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",es,[g(" Please check your CSVs files: "),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0)],36)]),t("div",ss,[t("div",ts,[t("div",{class:"btn primary-btn",onClick:l[4]||(l[4]=(...e)=>c.Submit&&c.Submit(...e))},"Submit")])])])):d("",!0),t("div",is,[t("div",ns,[y(m,{class:"btn green-btn",to:"/essay-questions/"+s.skillId+"/add"},{default:x(()=>[g("Essay ")]),_:1},8,["to"]),y(p,{absoluteTop:"37px",trianglePosition:"left",toolTipText:"A question that requires a detailed, written response. Use complete sentences to explain, analyze, or provide your perspective on the given topic. Answers are graded on content, clarity, and depth of understanding."})])])]),s.showModal?(i(),n("div",ls,[t("div",os,[t("div",cs,[s.missingFields.length?(i(),n("p",rs,[g(" Your files contain questions with incorrect formatting. "),as])):d("",!0),(i(!0),n(u,null,_(s.missingFields,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default. ",1))),128)),s.duplicates.length?(i(),n("p",ds," Please remove any duplicate files that are submitted below: ")):d("",!0),(i(!0),n(u,null,_(s.duplicates,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e)+". ",1))),128)),t("div",hs,[t("button",{type:"button",class:"btn green-btn",onClick:l[5]||(l[5]=e=>{s.clickModal=!0,c.Submit()})}," Still Submit "),t("button",{type:"button",class:"btn red-btn",onClick:l[6]||(l[6]=e=>s.showModal=!1)}," Cancel ")])])])])):d("",!0)],64)}const ms=H(be,[["render",us],["__scopeId","data-v-295a0eac"]]);const gs={data(){return{skillId:this.$route.params.id}},components:{AddMCQuestion:we,AddEssayQuestion:ms,TooltipBtn:C}},_s={class:"container bg-light rounded p-3"},ps={class:"container mt-3"},vs={class:"row mt-4"},fs={class:"col-sm-4 d-flex flex-md-row flex-column gap-2 align-items-start align-items-md-end"},ys={class:"container mt-3 pb-3 pe-0"},ws={class:"d-flex flex-row-reverse pe-0 me-lg-0 me-2"};function bs(o,l,h,a,s,c){const m=f("AddMCQuestion"),p=f("AddEssayQuestion"),e=f("router-link"),v=f("TooltipBtn");return i(),n("div",_s,[y(m),y(p),t("div",ps,[t("div",vs,[t("div",fs,[y(e,{class:"btn green-btn",to:"/image-questions/"+s.skillId+"/add"},{default:x(()=>[g("Image ")]),_:1},8,["to"]),y(v,{trianglePosition:"left",absoluteTop:"37px",toolTipText:"A question that requires uploading an image for the answer, often to prove that a task in the real world has been completed."})])])]),t("div",ys,[t("div",ws,[t("a",{class:"btn red-btn",onClick:l[0]||(l[0]=k=>o.$router.go(-1))},"Cancel")])])])}const xs=H(gs,[["render",bs]]);export{xs as default};
