import{_ as u,A as h,r as _,o as e,c as n,a as s,t as l,F as k,z as m,b as S,g as f,l as g,s as p}from"./main-79d130b5.js";const y={setup(){return{usersStore:h()}},data(){return{studentId:this.$route.params.studentId,studentName:null,skillDurations:[],allSkillsDuration:0,isDataLoaded:!1}},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const t=this.usersStore.users.find(i=>i.id===this.studentId);t&&(this.studentName=t.username),await this.getSkillDuration(),await this.getAllSkillsDuration(),this.isDataLoaded=!0},methods:{async getSkillDuration(){fetch(`/student-analytics/skill-durations/${this.studentId}`).then(t=>t.json()).then(t=>{this.skillDurations=t}).catch(t=>{console.error("Error fetching last visited skills:",t)})},async getAllSkillsDuration(){fetch(`/student-analytics/all-skills-duration/${this.studentId}`).then(t=>t.json()).then(t=>{this.allSkillsDuration=t.duration,console.log(this.allSkillsDuration)}).catch(t=>{console.error("Error fetching last visited skills:",t)})},millisToMinutesAndSeconds(t){var i=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(0);return i+":"+(a<10?"0":"")+a}}},D={class:"container"},v={class:"heading"},b=s("h2",{class:"secondary-heading"},"Total time on platform",-1),N={key:0},A=s("h2",{class:"secondary-heading"},"All skills",-1),T=s("h2",{class:"secondary-heading"},"Per skill",-1),w={key:0,class:"mb-4"},x={class:"table"},I=s("tr",null,[s("th",null,"Skill"),s("th",null,"Duration")],-1),V={key:1},L=s("p",null,"No skills visited by this student.",-1),M=[L];function j(t,i,a,B,r,d){const c=_("router-link");return e(),n("div",D,[s("h1",v,"Time Report: "+l(r.studentName),1),b,r.isDataLoaded?(e(),n("div",N,[A,s("p",null,l(d.millisToMinutesAndSeconds(this.allSkillsDuration)),1),T,this.skillDurations.length>0?(e(),n("div",w,[s("table",x,[I,(e(!0),n(k,null,m(r.skillDurations,o=>(e(),n("tr",{key:o.id,class:"table-rows"},[s("td",null,[f(c,{target:"_blank",to:"/skills/"+o.url},{default:g(()=>[p(l(o.name),1)]),_:2},1032,["to"])]),s("td",null,l(d.millisToMinutesAndSeconds(o.duration)),1)]))),128))])])):(e(),n("div",V,M))])):S("",!0)])}const E=u(y,[["render",j]]);export{E as default};
