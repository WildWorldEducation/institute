import{f as J,g as $,h as O,j as P,k as K}from"./transform-872dd6ab.js";import{a as F}from"./ascending-3ff63084.js";function Q(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function X(n){let t,r,i;n.length!==2?(t=F,r=(f,o)=>F(n(f),o),i=(f,o)=>n(f)-o):(t=n===F||n===Q?n:U,r=n,i=n);function a(f,o,e=0,g=f.length){if(e<g){if(t(o,o)!==0)return g;do{const m=e+g>>>1;r(f[m],o)<0?e=m+1:g=m}while(e<g)}return e}function l(f,o,e=0,g=f.length){if(e<g){if(t(o,o)!==0)return g;do{const m=e+g>>>1;r(f[m],o)<=0?e=m+1:g=m}while(e<g)}return e}function u(f,o,e=0,g=f.length){const m=a(f,o,e,g-1);return m>e&&i(f[m-1],o)>-i(f[m],o)?m-1:m}return{left:a,center:u,right:l}}function U(){return 0}function W(n){return n===null?NaN:+n}const Z=X(F),b=Z.right;X(W).center;const nn=b,tn=Math.sqrt(50),rn=Math.sqrt(10),en=Math.sqrt(2);function R(n,t,r){const i=(t-n)/Math.max(0,r),a=Math.floor(Math.log10(i)),l=i/Math.pow(10,a),u=l>=tn?10:l>=rn?5:l>=en?2:1;let f,o,e;return a<0?(e=Math.pow(10,-a)/u,f=Math.round(n*e),o=Math.round(t*e),f/e<n&&++f,o/e>t&&--o,e=-e):(e=Math.pow(10,a)*u,f=Math.round(n/e),o=Math.round(t/e),f*e<n&&++f,o*e>t&&--o),o<f&&.5<=r&&r<2?R(n,t,r*2):[f,o,e]}function zn(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const i=t<n,[a,l,u]=i?R(t,n,r):R(n,t,r);if(!(l>=a))return[];const f=l-a+1,o=new Array(f);if(i)if(u<0)for(let e=0;e<f;++e)o[e]=(l-e)/-u;else for(let e=0;e<f;++e)o[e]=(l-e)*u;else if(u<0)for(let e=0;e<f;++e)o[e]=(a+e)/-u;else for(let e=0;e<f;++e)o[e]=(a+e)*u;return o}function E(n,t,r){return t=+t,n=+n,r=+r,R(n,t,r)[2]}function Vn(n,t,r){t=+t,n=+n,r=+r;const i=t<n,a=i?E(t,n,r):E(n,t,r);return(i?-1:1)*(a<0?1/-a:a)}function un(n){return n}var j=1,_=2,q=3,v=4,T=1e-6;function an(n){return"translate("+n+",0)"}function on(n){return"translate(0,"+n+")"}function cn(n){return t=>+n(t)}function fn(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function ln(){return!this.__axis}function C(n,t){var r=[],i=null,a=null,l=6,u=6,f=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,e=n===j||n===v?-1:1,g=n===v||n===_?"x":"y",m=n===j||n===q?an:on;function c(s){var Y=i??(t.ticks?t.ticks.apply(t,r):t.domain()),G=a??(t.tickFormat?t.tickFormat.apply(t,r):un),I=Math.max(l,0)+f,x=t.range(),A=+x[0]+o,N=+x[x.length-1]+o,S=(t.bandwidth?fn:cn)(t.copy(),o),y=s.selection?s.selection():s,p=y.selectAll(".domain").data([null]),h=y.selectAll(".tick").data(Y,t).order(),H=h.exit(),z=h.enter().append("g").attr("class","tick"),M=h.select("line"),w=h.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(z),M=M.merge(z.append("line").attr("stroke","currentColor").attr(g+"2",e*l)),w=w.merge(z.append("text").attr("fill","currentColor").attr(g,e*I).attr("dy",n===j?"0em":n===q?"0.71em":"0.32em")),s!==y&&(p=p.transition(s),h=h.transition(s),M=M.transition(s),w=w.transition(s),H=H.transition(s).attr("opacity",T).attr("transform",function(d){return isFinite(d=S(d))?m(d+o):this.getAttribute("transform")}),z.attr("opacity",T).attr("transform",function(d){var V=this.parentNode.__axis;return m((V&&isFinite(V=V(d))?V:S(d))+o)})),H.remove(),p.attr("d",n===v||n===_?u?"M"+e*u+","+A+"H"+o+"V"+N+"H"+e*u:"M"+o+","+A+"V"+N:u?"M"+A+","+e*u+"V"+o+"H"+N+"V"+e*u:"M"+A+","+o+"H"+N),h.attr("opacity",1).attr("transform",function(d){return m(S(d)+o)}),M.attr(g+"2",e*l),w.attr(g,e*I).text(G),y.filter(ln).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===_?"start":n===v?"end":"middle"),y.each(function(){this.__axis=S})}return c.scale=function(s){return arguments.length?(t=s,c):t},c.ticks=function(){return r=Array.from(arguments),c},c.tickArguments=function(s){return arguments.length?(r=s==null?[]:Array.from(s),c):r.slice()},c.tickValues=function(s){return arguments.length?(i=s==null?null:Array.from(s),c):i&&i.slice()},c.tickFormat=function(s){return arguments.length?(a=s,c):a},c.tickSize=function(s){return arguments.length?(l=u=+s,c):l},c.tickSizeInner=function(s){return arguments.length?(l=+s,c):l},c.tickSizeOuter=function(s){return arguments.length?(u=+s,c):u},c.tickPadding=function(s){return arguments.length?(f=+s,c):f},c.offset=function(s){return arguments.length?(o=+s,c):o},c}function Fn(n){return C(j,n)}function jn(n){return C(q,n)}function Rn(n){return C(v,n)}function sn(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,i=t.slice(),a;return function(l){for(a=0;a<r;++a)i[a]=n[a]*(1-l)+t[a]*l;return i}}function mn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gn(n,t){var r=t?t.length:0,i=n?Math.min(r,n.length):0,a=new Array(i),l=new Array(r),u;for(u=0;u<i;++u)a[u]=D(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(f){for(u=0;u<i;++u)l[u]=a[u](f);return l}}function hn(n,t){var r=new Date;return n=+n,t=+t,function(i){return r.setTime(n*(1-i)+t*i),r}}function dn(n,t){var r={},i={},a;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in n?r[a]=D(n[a],t[a]):i[a]=t[a];return function(l){for(a in r)i[a]=r[a](l);return i}}function D(n,t){var r=typeof t,i;return t==null||r==="boolean"?J(t):(r==="number"?$:r==="string"?(i=O(t))?(t=i,P):K:t instanceof O?P:t instanceof Date?hn:mn(t)?sn:Array.isArray(t)?gn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dn:$)(n,t)}function pn(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function kn(n){return function(){return n}}function yn(n){return+n}var L=[0,1];function k(n){return n}function B(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:kn(isNaN(t)?NaN:.5)}function Mn(n,t){var r;return n>t&&(r=n,n=t,t=r),function(i){return Math.max(n,Math.min(t,i))}}function wn(n,t,r){var i=n[0],a=n[1],l=t[0],u=t[1];return a<i?(i=B(a,i),l=r(u,l)):(i=B(i,a),l=r(l,u)),function(f){return l(i(f))}}function vn(n,t,r){var i=Math.min(n.length,t.length)-1,a=new Array(i),l=new Array(i),u=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<i;)a[u]=B(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(f){var o=nn(n,f,1,i)-1;return l[o](a[o](f))}}function xn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function An(){var n=L,t=L,r=D,i,a,l,u=k,f,o,e;function g(){var c=Math.min(n.length,t.length);return u!==k&&(u=Mn(n[0],n[c-1])),f=c>2?vn:wn,o=e=null,m}function m(c){return c==null||isNaN(c=+c)?l:(o||(o=f(n.map(i),t,r)))(i(u(c)))}return m.invert=function(c){return u(a((e||(e=f(t,n.map(i),$)))(c)))},m.domain=function(c){return arguments.length?(n=Array.from(c,yn),g()):n.slice()},m.range=function(c){return arguments.length?(t=Array.from(c),g()):t.slice()},m.rangeRound=function(c){return t=Array.from(c),r=pn,g()},m.clamp=function(c){return arguments.length?(u=c?!0:k,g()):u!==k},m.interpolate=function(c){return arguments.length?(r=c,g()):r},m.unknown=function(c){return arguments.length?(l=c,m):l},function(c,s){return i=c,a=s,g()}}function Hn(){return An()(k,k)}export{Fn as a,Rn as b,Hn as c,xn as d,zn as e,E as f,X as g,jn as h,Vn as t};
