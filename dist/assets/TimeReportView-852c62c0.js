import{_ as u,A as h,r as _,o as e,c as n,a as s,t as i,F as k,z as m,b as g,g as S,l as f,s as p}from"./main-5f1b3e3e.js";const y={setup(){return{usersStore:h()}},data(){return{studentId:this.$route.params.studentId,studentName:null,skillDurations:[],allSkillsDuration:0,isDataLoaded:!1}},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const t=this.usersStore.users.find(l=>l.id===this.studentId);t&&(this.studentName=t.username),await this.getSkillDuration(),await this.getAllSkillsDuration(),this.isDataLoaded=!0},methods:{async getSkillDuration(){fetch(`/student-analytics/skill-durations/${this.studentId}`).then(t=>t.json()).then(t=>{this.skillDurations=t}).catch(t=>{console.error("Error fetching last visited skills:",t)})},async getAllSkillsDuration(){fetch(`/student-analytics/all-skills-duration/${this.studentId}`).then(t=>t.json()).then(t=>{this.allSkillsDuration=t.duration,console.log(this.allSkillsDuration)}).catch(t=>{console.error("Error fetching last visited skills:",t)})},millisToMinutesAndSeconds(t){var l=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(0);return l+":"+(a<10?"0":"")+a}}},D={class:"container"},v={class:"heading"},b=s("p",null,[s("em",null," Please note that time spent on external sources (e.g. websites) related to skills is not measured.")],-1),N=s("h2",{class:"secondary-heading"},"Total time on platform",-1),w={key:0},x=s("h2",{class:"secondary-heading"},"All skills",-1),A=s("h2",{class:"secondary-heading"},"Per skill",-1),T={key:0,class:"mb-4"},I={class:"table"},V=s("tr",null,[s("th",null,"Skill"),s("th",null,"Duration")],-1),L={key:1},M=s("p",null,"No skills visited by this student.",-1),j=[M];function B(t,l,a,C,r,d){const c=_("router-link");return e(),n("div",D,[s("h1",v,"Time Report: "+i(r.studentName),1),b,N,r.isDataLoaded?(e(),n("div",w,[x,s("p",null,i(d.millisToMinutesAndSeconds(this.allSkillsDuration)),1),A,this.skillDurations.length>0?(e(),n("div",T,[s("table",I,[V,(e(!0),n(k,null,m(r.skillDurations,o=>(e(),n("tr",{key:o.id,class:"table-rows"},[s("td",null,[S(c,{target:"_blank",to:"/skills/"+o.url},{default:f(()=>[p(i(o.name),1)]),_:2},1032,["to"])]),s("td",null,i(d.millisToMinutesAndSeconds(o.duration)),1)]))),128))])])):(e(),n("div",L,j))])):g("",!0)])}const F=u(y,[["render",B]]);export{F as default};
