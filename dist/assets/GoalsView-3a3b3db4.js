import{_ as d,e as p,h as m,r as _,o as r,c as a,a as e,b as g,F as T,z as w,k as f,l as k,s as v,t as S,q as y,p as b,g as x,i as C,f as D}from"./main-b6eaac72.js";const I={setup(){const s=p(),t=m();return{userDetailsStore:s,skillsStore:t}},data(){return{goals:[]}},props:{showTutorialTip:Boolean},emits:["progressTutorial"],async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.goals.length;s++){let t=this.skillsStore.skillsList.find(i=>i.id===this.goals[s].skill_id);this.goals[s].name=t.name,this.goals[s].level=t.level}},methods:{async getGoals(){const s=await fetch("/user-skills/goals/"+this.userDetailsStore.userId+"/list");this.goals=await s.json()},handleProgressTutorial(s){this.$emit("progressTutorial",s)}}},c=s=>(b("data-v-fe532a7d"),s=s(),x(),s),z={class:"row"},G=c(()=>e("h2",{class:"tertiary-heading h5"},"Goals",-1)),P={key:0,class:"tool-tip-base"},$={class:"explain-tool-tip hovering-info-panel triangle-top-left"},B={class:"tool-tip-text"},L=c(()=>e("p",null,"This section shows any goals you might have made.",-1)),j=c(()=>e("p",null," You can make a goal when there is a skill you want to master but it is not unlocked yet. ",-1)),M={id:"goal-list"},V=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"black",width:"20",heigth:"20"},[e("path",{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})],-1));function N(s,t,i,n,h,l){const u=_("router-link");return r(),a("div",z,[G,i.showTutorialTip&&n.userDetailsStore.role=="student"?(r(),a("div",P,[e("div",$,[e("div",B,[L,j,e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=o=>l.handleProgressTutorial(1))}," close ")])])])):g("",!0),e("div",M,[(r(!0),a(T,null,w(h.goals,o=>(r(),f(u,{class:y([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"goal-link btn m-2 d-flex"]),to:`/goals/${n.userDetailsStore.userId}/`+o.skill_id,target:"_blank"},{default:k(()=>[V,v(" Â  "+S(o.name),1)]),_:2},1032,["class","to"]))),256))])])}const q=d(I,[["render",N],["__scopeId","data-v-fe532a7d"]]),A={setup(){const s=p(),t=C();return{userDetailsStore:s,sessionDetailsStore:t}},data(){return{showTutorialTip1:!1,isTutorialComplete:!1}},components:{Goals:q},async created(){this.sessionDetailsStore.isLoggedIn&&await this.checkIfTutorialComplete()},methods:{async startTutorial(){this.showTutorialTip1=!0,this.isTutorialComplete=!1,this.showWelcomeModal=!1,await this.resetTutorialProgress()},async resetTutorialProgress(){try{await fetch(`/users/reset-all-tutorials/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})}catch(s){console.error("Error resetting tutorials:",s)}},async checkIfTutorialComplete(){try{const t=await(await fetch("/users/check-tutorial-progress/hub/"+this.userDetailsStore.userId)).json();t===0&&this.userDetailsStore.role=="student"?this.showTutorialTip1=!0:t===1&&(this.isTutorialComplete=!0)}catch(s){console.error("Error checking tutorial progress:",s)}},progressTutorial(s){s==1&&(this.showTutorialTip1=!1,this.markTutorialComplete())},markTutorialComplete(){let s="/users/mark-tutorial-complete/hub/"+this.userDetailsStore.userId;fetch(s,{method:"PUT",headers:{"Content-Type":"application/json"}})},restartTutorial(){this.startTutorial()}}},E={class:"container"},O={class:"d-flex justify-content-between align-items-start"},U=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",width:"20",height:"20",class:"primary-icon"},[e("path",{d:"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"})],-1),F=[U];function W(s,t,i,n,h,l){const u=_("Goals");return r(),a("div",E,[e("div",O,[D(u,{showTutorialTip:h.showTutorialTip1,onProgressTutorial:l.progressTutorial},null,8,["showTutorialTip","onProgressTutorial"]),n.sessionDetailsStore.isLoggedIn?(r(),a("button",{key:0,class:"btn",onClick:t[0]||(t[0]=(...o)=>l.restartTutorial&&l.restartTutorial(...o))},F)):g("",!0)])])}const H=d(A,[["render",W]]);export{H as default};
