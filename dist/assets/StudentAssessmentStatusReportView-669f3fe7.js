import{_ as g,A as b,J as f,r as p,o as s,c as n,a as t,t as l,F as d,z as c,k as A,b as F,g as u,l as h,s as _}from"./main-8311122e.js";import{u as w}from"./TeacherAnalyticsStore-b54c22aa.js";import{F as D}from"./FailedAssessmentsHorizontalBarChart-e70c30a8.js";import"./transform-7263f110.js";import"./linear-78f05e13.js";import"./continuous-5681c0ba.js";const B={setup(){const a=b(),r=f(),m=w();return{usersStore:a,userSkillsStore:r,teacherAnalyticsStore:m}},components:{FailedAssessmentsHorizontalBarChart:D},data(){return{studentId:this.$route.params.studentId,studentName:null,assessmentAttempts:[],multipleFails:[]}},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const a=this.usersStore.users.find(r=>r.id===this.studentId);a&&(this.studentName=a.username),await this.userSkillsStore.getMasteredSkills(this.studentId),await this.getAssessmentAttempts(),this.teacherAnalyticsStore.studentMultipleFails.length==0&&await this.teacherAnalyticsStore.getStudentMultipleFails(this.studentId)},methods:{async getAssessmentAttempts(){fetch(`/student-analytics/started-unmastered-assessments/${this.studentId}`).then(a=>a.json()).then(a=>{this.assessmentAttempts=a}).catch(a=>{console.error("Error fetching last visited skills:",a)})},assessmentDate(a){return new Date(a).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}}},M={class:"container"},N={class:"d-flex justify-content-between w-100"},v=t("h1",{class:"heading"},"Assessment Status Report",-1),x={class:"secondary-heading h3"},C=t("h2",{class:"secondary-heading"},"Passed",-1),I={key:0,class:"mb-4"},T={class:"table"},j=t("tr",null,[t("th",null,"Skill"),t("th",null,"Date")],-1),V={key:1},z=t("h2",{class:"secondary-heading"},"Attempted",-1),U={key:2,class:"mb-4"},H={class:"table"},E=t("tr",null,[t("th",null,"Skill"),t("th",null,"Date")],-1),L={key:3},R=t("p",null,null,-1),q=t("h2",{class:"secondary-heading"},"Failed multiple times",-1),J={key:5,class:"mb-4"},O={class:"table"},P=t("tr",null,[t("th",null,"Skill"),t("th",null,"Times")],-1),G={key:6};function K(a,r,m,o,y,S){const i=p("router-link"),k=p("FailedAssessmentsHorizontalBarChart");return s(),n("div",M,[t("span",N,[v,t("h2",x,l(y.studentName),1)]),C,this.userSkillsStore.masteredSkills.length>0?(s(),n("div",I,[t("table",T,[j,(s(!0),n(d,null,c(o.userSkillsStore.masteredSkills,e=>(s(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[u(i,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(l(e.name),1)]),_:2},1032,["to"])]),t("td",null,l(S.assessmentDate(e.date)),1)]))),128))])])):(s(),n("p",V,"This student has not completed any assessments yet.")),z,this.assessmentAttempts.length>0?(s(),n("div",U,[t("table",H,[E,(s(!0),n(d,null,c(y.assessmentAttempts,e=>(s(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[u(i,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(l(e.name),1)]),_:2},1032,["to"])]),t("td",null,l(S.assessmentDate(e.date)),1)]))),128))])])):(s(),n("p",L,"This student has attempted any assessments yet.")),R,q,o.teacherAnalyticsStore.studentMultipleFails.length>0?(s(),A(k,{key:4,data:o.teacherAnalyticsStore.studentMultipleFails,colour:"darkred"},null,8,["data"])):F("",!0),this.teacherAnalyticsStore.studentMultipleFails.length>0?(s(),n("div",J,[t("table",O,[P,(s(!0),n(d,null,c(o.teacherAnalyticsStore.studentMultipleFails,e=>(s(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[u(i,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(l(e.name),1)]),_:2},1032,["to"])]),t("td",null,l(e.quantity),1)]))),128))])])):(s(),n("p",G," This student has not failed any assessments more than once yet. "))])}const tt=g(B,[["render",K]]);export{tt as default};
