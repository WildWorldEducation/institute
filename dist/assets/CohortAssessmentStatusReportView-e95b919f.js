import{s as p}from"./transform-7263f110.js";import{_ as u,o as m,c as g,r as y,a as h,t as x,k,b as C}from"./main-2d2372e8.js";import{l as $,m as A,b as w,s as B}from"./linear-78f05e13.js";import{a as S,b}from"./continuous-5681c0ba.js";const v={name:"CohortPassedAssessmentsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){p("#cohort-passed-assessments-chart-container");const s=25,e=0,l=0,c=10,o=200,r=1e3,n=Math.ceil((this.data.length+.1)*s)+e+c,a=$().domain([0,A(this.data,t=>t.quantity)]).range([o,r-l]),i=w().domain(B(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([e,n-c]).padding(.1),_=a.tickFormat(20),d=p("#cohort-passed-assessments-chart-container").append("svg").attr("width",r).attr("height",n).attr("viewBox",[0,0,r,n]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");d.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",a(0)).attr("y",t=>i(t.name)).attr("width",t=>a(t.quantity)-a(0)).attr("height",i.bandwidth()),d.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>a(t.quantity)).attr("y",t=>i(t.name)+i.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>_(t.quantity)).call(t=>t.filter(f=>a(f.quantity)-a(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),d.append("g").attr("transform",`translate(0,${e})`).call(S(a).ticks(0)).call(t=>t.select(".domain").remove()),d.append("g").attr("transform",`translate(${o},0)`).call(b(i).tickSizeOuter(0))},computed:{}},q={id:"cohort-passed-assessments-chart-container"};function j(s,e,l,c,o,r){return m(),g("div",q)}const z=u(v,[["render",j]]),D={setup(){return{}},components:{CohortPassedAssessmentsHorizontalBarChart:z},data(){return{cohortId:this.$route.params.cohortId,masteredSkillQuantities:[]}},async created(){this.getCohortMasteredAssessments()},methods:{async getCohortMasteredAssessments(){fetch(`/student-analytics/mastered-skills/cohort/${this.cohortId}`).then(s=>s.json()).then(s=>{this.masteredSkillQuantities=s}).catch(s=>{console.error("Error fetching last visited skills:",s)})},assessmentDate(s){return new Date(s).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}}},H={class:"container"},P={class:"heading"},Q=h("h2",{class:"secondary-heading"},"Passed",-1),R=h("h2",{class:"secondary-heading"},"Attempted",-1),I=h("h2",{class:"secondary-heading"},"Failed multiple times",-1);function L(s,e,l,c,o,r){const n=y("CohortPassedAssessmentsHorizontalBarChart");return m(),g("div",H,[h("h1",P,"Assessment Status Report: "+x(s.cohortName),1),Q,o.masteredSkillQuantities.length>0?(m(),k(n,{key:0,data:o.masteredSkillQuantities,colour:"darkgreen"},null,8,["data"])):C("",!0),R,I])}const F=u(D,[["render",L]]);export{F as default};
