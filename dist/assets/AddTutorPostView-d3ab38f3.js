import{S as u}from"./SkillTimeTracker-cb038d1c.js";import{_ as p,r as f,o as i,c as n,a as e,b as l,f as v,F as b}from"./main-785d9de4.js";const h={data(){return{skillId:this.$route.params.skillId,description:null,validateDescription:!0,validateContact:!0}},components:{SkillTimeTracker:u},mounted(){let o;window.innerWidth<481?o=200:window.innerWidth>=481&&window.innerWidth<1024?o=100:o=75,$("#summernote-description").summernote({disableDragAndDrop:!0,placeholder:"Describe your tutoring style and experience with the subject.",height:o,tabsize:2,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["para",["ul"]],["view",["fullscreen","codeview"]]]}),$("#summernote-contact-preference").summernote({disableDragAndDrop:!0,placeholder:"How would you like to be contacted (eg: an email address, mobile number or calendar booking link)?",height:o,tabsize:2,toolbar:[["font",["bold","underline","clear"]],["para",["ul"]],["insert",["link"]],["view",["fullscreen","codeview"]]]}),$(".note-editor .note-editable").css("background-color","#ffffff")},beforeRouteLeave(o,t,s){this.$refs.skillTimeTracker.saveDuration(),s()},methods:{async Submit(){const o="/tutor-posts/add/"+this.skillId,t=$("#summernote-description").summernote("code"),s=$("#summernote-contact-preference").summernote("code");if(t.length<25?this.validateDescription=!1:this.validateDescription=!0,s.length<25?this.validateContact=!1:this.validateContact=!0,!this.validateContact||!this.validateDescription)return;const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,contactPreference:s})};await fetch(o,r).then(()=>{this.$router.back()})}}},_={class:"container p-2 bg-light rounded"},k={class:"main-content-container container-fluid p-2"},g={class:"row"},w={class:"col"},y={class:"mb-4"},T={key:0,class:"form-validate"},C={class:"mb-3"},D={key:0,class:"form-validate"},x={class:"d-flex justify-content-end"};function S(o,t,s,r,a,d){const c=f("SkillTimeTracker");return i(),n(b,null,[e("div",_,[e("div",k,[e("div",g,[e("div",w,[e("div",y,[t[2]||(t[2]=e("div",{class:"mb-3 mt-1 text-area-div"},[e("textarea",{id:"summernote-description",name:"editordata"})],-1)),a.validateDescription==!1?(i(),n("div",T," Please provide at least 25 characters. ")):l("",!0)]),e("div",C,[t[3]||(t[3]=e("div",{class:"mb-3 mt-3 text-area-div"},[e("textarea",{id:"summernote-contact-preference",name:"editordata2"})],-1)),a.validateContact==!1?(i(),n("div",D," Please provide at least 25 characters. ")):l("",!0)]),e("div",x,[e("button",{class:"btn red-btn me-2",onClick:t[0]||(t[0]=m=>o.$router.go(-1))}," Cancel "),e("button",{class:"btn primary-btn",onClick:t[1]||(t[1]=m=>d.Submit())}," Submit ")])])])])]),v(c,{ref:"skillTimeTracker"},null,512)],64)}const A=p(h,[["render",S]]);export{A as default};
