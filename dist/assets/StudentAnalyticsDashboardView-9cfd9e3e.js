import{u as C}from"./AnalyticsStore-86a2ab77.js";import{_ as S,f as w,r as I,o as u,c as g,q as V,a as t,w as n,O as i,s as l,b as _,k as A,E as H,p as P,d as L}from"./main-29f80110.js";import{s as m}from"./transform-35b9fb9e.js";import{u as U,l as B}from"./line-8aa3dac8.js";import{e as M}from"./time-962c8065.js";import{l as T,m as q,c as N,b as E}from"./linear-c968f95f.js";import{o as W}from"./ordinal-451cde74.js";import{c as j}from"./colors-98f238a0.js";import"./point-ea70dc51.js";const O=j("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Y={name:"ProgressChart",props:[],data(){return{axisData:[]}},mounted(){},methods:{createChart(o){m("svg").remove(),o.student.length>0?this.axisData=o.student:o.average.length>0?this.axisData=o.average:this.axisData=[];const e=Object.entries(o).map(([r,k])=>({name:r,values:k}));m("#progress-chart-container");const d=document.getElementById("progress-chart-container").clientWidth,h=document.getElementById("progress-chart-container").clientHeight,s=0,c=0,p=0,a=0,v=U(M(this.axisData,r=>r.date),[a,d-c]),f=T([0,q(this.axisData,r=>r.quantity)],[h-p,s]),y=W().domain(e.map(r=>r.name)).range(O),x=B().x(r=>v(r.date)).y(r=>f(r.quantity)),b=m("#progress-chart-container").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",[0,0,+Math.min(d,h),+Math.min(d,h)]).attr("preserveAspectRatio","xMinYMin");b.append("g").attr("transform",`translate(0,${h-p})`).call(N(v).ticks(this.axisData.length).tickSizeOuter(0)),b.append("g").attr("transform",`translate(${a},0)`).call(E(f).ticks(h/80)).call(r=>r.selectAll(".tick line").clone().attr("x2",d-a-c).attr("stroke-opacity",.1)),b.selectAll(".line").data(e).join("path").attr("fill","none").attr("stroke",r=>y(r.name)).attr("stroke-width",3).attr("d",r=>x(r.values))},updateChart(o){}}};function z(o,e,d,h,s,c){return null}const R=S(Y,[["render",z]]);const F={name:"Student-Dashboard",setup(){const o=w(),e=C();return{userDetailsStore:o,analyticsStore:e}},data(){return{showSidebar:!0,screenWidth:screen.width,isStudentData:!0,isSchoolData:!1,isLanguageData:!1,isMathData:!1,isHistoryData:!1,isLifeData:!1,isCSData:!1,isSAndIData:!1,isDIData:!1,progressData:{student:[],average:[]},isAboveTheCurve:!1}},components:{ProgressChart:R},async created(){await this.analyticsStore.getStudentProgress(this.userDetailsStore.userId,this.userDetailsStore.tenantId),this.analyticsStore.progress.student[this.analyticsStore.progress.student.length-1].quantity>this.analyticsStore.progress.tenant[this.analyticsStore.progress.tenant.length-1].quantity&&(this.isAboveTheCurve=!0),await this.HandleProgressData()},methods:{async HandleProgressData(){if(this.isStudentData){this.progressData.student=[];for(let o=0;o<this.analyticsStore.progress.student.length;o++)this.progressData.student.push(this.analyticsStore.progress.student[o])}else this.progressData.student=[];if(this.isSchoolData){this.progressData.average=[];for(let o=0;o<this.analyticsStore.progress.tenant.length;o++)this.progressData.average.push(this.analyticsStore.progress.tenant[o])}else this.progressData.average=[];this.$nextTick(()=>{this.$refs.progressChart&&this.$refs.progressChart.createChart(this.progressData)})},toggleSidebar(){this.showSidebar=!this.showSidebar}}},D=o=>(P("data-v-3bcaac4b"),o=o(),L(),o),G={class:"dashboard"},J=D(()=>t("h1",{class:"h2"},"Who",-1)),K={class:"control control-checkbox"},Q={class:"control control-checkbox"},X=D(()=>t("h1",{class:"h2"},"Subjects",-1)),Z={class:"control control-checkbox"},$={class:"control control-checkbox"},tt={class:"control control-checkbox"},et={class:"control control-checkbox"},st={class:"control control-checkbox"},at={class:"control control-checkbox"},ot={class:"control control-checkbox"},rt={class:"main"},nt={class:"content container-fluid"},it={class:"dash-row row"},lt={id:"progress-chart-container",class:"col-md chart-container p-0 position-relative"},ct=D(()=>t("h2",{class:"position-absolute chart-heading h5"}," Skills mastered ",-1)),ht={class:"col-md chart-container p-0"},dt={key:0,class:"alert alert-success",role:"alert"},ut={key:1,class:"alert alert-warning",role:"alert"},pt=H('<div class="dash-row row" data-v-3bcaac4b><div class="col-md chart-container p-0 position-relative" data-v-3bcaac4b><h2 class="position-absolute chart-heading h5" data-v-3bcaac4b> Time spent </h2></div><div class="col-md chart-container p-0 position-relative" data-v-3bcaac4b><h2 class="position-absolute chart-heading h5" data-v-3bcaac4b> Tokens used </h2></div></div>',1);function gt(o,e,d,h,s,c){const p=I("ProgressChart");return u(),g("div",G,[s.screenWidth>768?(u(),g("div",{key:0,class:V(["sidebar",{hidden:!s.showSidebar}])},[J,t("p",null,[t("label",K,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=a=>s.isStudentData=a),onChange:e[1]||(e[1]=(...a)=>c.HandleProgressData&&c.HandleProgressData(...a))},null,544),[[i,s.isStudentData]]),l(" You ")])]),t("p",null,[t("label",Q,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=a=>s.isSchoolData=a),onChange:e[3]||(e[3]=(...a)=>c.HandleProgressData&&c.HandleProgressData(...a))},null,544),[[i,s.isSchoolData]]),l(" School average ")])]),X,t("ul",null,[t("li",null,[t("label",Z,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[4]||(e[4]=a=>s.isLanguageData=a)},null,512),[[i,s.isLanguageData]]),l(" Language ")])]),t("li",null,[t("label",$,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[5]||(e[5]=a=>s.isMathData=a)},null,512),[[i,s.isMathData]]),l(" Math ")])]),t("li",null,[t("label",tt,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[6]||(e[6]=a=>s.isHistoryData=a)},null,512),[[i,s.isHistoryData]]),l(" History ")])]),t("li",null,[t("label",et,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[7]||(e[7]=a=>s.isLifeData=a)},null,512),[[i,s.isLifeData]]),l(" Life ")])]),t("li",null,[t("label",st,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[8]||(e[8]=a=>s.isCSData=a)},null,512),[[i,s.isCSData]]),l(" Computer Science ")])]),t("li",null,[t("label",at,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[9]||(e[9]=a=>s.isSAndIData=a)},null,512),[[i,s.isSAndIData]]),l(" Science & Invention ")])]),t("li",null,[t("label",ot,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[10]||(e[10]=a=>s.isDIData=a)},null,512),[[i,s.isDIData]]),l(" Dangerous Ideas ")])])])],2)):_("",!0),t("div",rt,[t("div",nt,[t("div",it,[t("div",lt,[ct,s.progressData.student.length>0||s.progressData.average.length>0?(u(),A(p,{key:0,ref:"progressChart"},null,512)):_("",!0)]),t("div",ht,[s.isAboveTheCurve?(u(),g("div",dt," Nice going, you're above the curve! ")):(u(),g("div",ut," You're below the curve, keep trying! "))])]),pt])])])}const kt=S(F,[["render",gt],["__scopeId","data-v-3bcaac4b"]]);export{kt as default};
