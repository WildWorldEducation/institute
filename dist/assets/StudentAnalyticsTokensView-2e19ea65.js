import{_ as u,o as h,c as m,f,K as S,r as y,a as k,k as v}from"./main-eea2ebf6.js";import{u as x}from"./AnalyticsStore-f23797b5.js";import"./transform-4d0f7c8f.js";import{l as T,a as w,b as B}from"./linear-d9b6cbf2.js";import{m as $}from"./continuous-93813e6c.js";import{b as A}from"./band-cf12560e.js";import{s as b}from"./sort-fcaf8f38.js";import{s as p}from"./string-c67ea49d.js";import"./ordinal-c7f57ebc.js";const M={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){p("#tenant-avg-tokens-to-master-skills-chart-container");const n=25,e=0,o=0,s=10,c=200,r=1e3,i=Math.ceil((this.data.length+.1)*n)+e+s,a=T().domain([0,$(this.data,t=>t.quantity)]).range([c,r-o]),l=A().domain(b(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([e,i-s]).padding(.1),_=a.tickFormat(20),d=p("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",r).attr("height",i).attr("viewBox",[0,0,r,i]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");d.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",a(0)).attr("y",t=>l(t.name)).attr("width",t=>a(t.quantity)-a(0)).attr("height",l.bandwidth()),d.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>a(t.quantity)).attr("y",t=>l(t.name)+l.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>_(t.quantity)).call(t=>t.filter(g=>a(g.quantity)-a(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),d.append("g").attr("transform",`translate(0,${e})`).call(w(a).ticks(0)).call(t=>t.select(".domain").remove()),d.append("g").attr("transform",`translate(${c},0)`).call(B(l).tickSizeOuter(0))},computed:{}},q={id:"tenant-avg-tokens-to-master-skills-chart-container"};function z(n,e,o,s,c,r){return h(),m("div",q)}const C=u(M,[["render",z],["__scopeId","data-v-a76a3e32"]]),H={setup(){const n=f(),e=S(),o=x();return{userDetailsStore:n,userSkillsStore:e,analyticsStore:o}},components:{StudentAvgTokensToMasterSkillsHorizontalBarChart:C},data(){return{studentId:this.userDetailsStore.userId}},async created(){await this.analyticsStore.getAvgTokensToMasterSkills(this.studentId)},methods:{}},I={class:"container"},D={class:"row"},j=k("h2",{class:"h4 heading"},"Tokens per skill",-1),L={key:1};function N(n,e,o,s,c,r){const i=y("StudentAvgTokensToMasterSkillsHorizontalBarChart");return h(),m("div",I,[k("div",D,[j,s.analyticsStore.studentTokensPerSkills.length>0?(h(),v(i,{key:0,class:"",data:s.analyticsStore.studentTokensPerSkills,colour:"darkgreen"},null,8,["data"])):(h(),m("p",L,"No data yet"))])])}const J=u(H,[["render",N]]);export{J as default};
