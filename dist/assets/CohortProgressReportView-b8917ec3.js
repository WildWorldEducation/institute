import{u as i}from"./CohortsStore-8311e9c4.js";import{_ as a,e as l,r as d,o as r,c as h,a as n,t as g,k as p}from"./main-0ec27460.js";import{C as u}from"./CohortProgressLineChart-2075bbd1.js";import"./transform-35b9fb9e.js";import"./line-79d35016.js";import"./time-1a8fa5b0.js";import"./linear-d780bd52.js";import"./point-ea70dc51.js";const f={setup(){const t=i(),o=l();return{cohortsStore:t,userDetailsStore:o}},components:{CohortProgressLineChart:u},data(){return{cohortId:this.$route.params.cohortId,cohortName:"",cohortProgress:[]}},async created(){this.cohortsStore.cohorts.length<1&&await this.cohortsStore.getCohorts(this.userDetailsStore.userId);const t=this.cohortsStore.cohorts.find(o=>o.id==this.cohortId);t&&(this.cohortName=t.name),this.cohortId!="all-students"?await this.getCohortProgress():await this.getAllStudentsProgress()},methods:{async getCohortProgress(){fetch(`/student-analytics/cohort-progress/${this.cohortId}`).then(t=>t.json()).then(t=>{for(let o=0;o<t.length;o++)t[o].date=new Date(t[o].date);t.sort((o,e)=>o.date-e.date),this.cohortProgress=t}).catch(t=>{console.error("Error fetching student progress:",t)})},async getAllStudentsProgress(){fetch(`/student-analytics/all-students-progress/${this.userDetailsStore.userId}`).then(t=>t.json()).then(t=>{for(let o=0;o<t.length;o++)t[o].date=new Date(t[o].date);t.sort((o,e)=>o.date-e.date),this.cohortProgress=t}).catch(t=>{console.error("Error fetching student progress:",t)})}}},m={class:"container"},_={class:"d-flex justify-content-between w-100"},P={class:"secondary-heading h3"},C={key:1};function S(t,o,e,y,s,w){const c=d("CohortProgressLineChart");return r(),h("div",m,[n("span",_,[o[0]||(o[0]=n("h1",{class:"heading"},"Progress Report",-1)),n("h2",P,g(s.cohortName),1)]),s.cohortProgress.length>0?(r(),p(c,{key:0,data:s.cohortProgress,colour:"#5f31dd"},null,8,["data"])):(r(),h("p",C,"There is no data to show yet."))])}const E=a(f,[["render",S]]);export{E as default};
