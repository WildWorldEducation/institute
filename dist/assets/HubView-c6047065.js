import{_ as k,r as p,o as l,c as a,d as t,F as m,t as T,i as f,j as S,m as b,x,l as C,p as g,f as v,a as I,g as B,w as R,A as M,e as w,b as d}from"./main-2efe69b9.js";const O={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const e=await fetch("/skills/last-visited/");this.visitedSkills=await e.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},$=e=>(g("data-v-d8f98d20"),e=e(),v(),e),j=$(()=>t("h2",{class:"tertiary-heading h5"},"Last Visited Skills",-1)),z={id:"skill-list"},V=["src"];function q(e,s,h,r,n,i){const _=p("router-link");return l(),a(m,null,[j,t("div",z,[(l(!0),a(m,null,T(n.visitedSkills,o=>(l(),f(_,{class:C([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"skill-link btn m-2 d-flex"]),to:`/skills/${o.url}`,target:"_blank"},{default:S(()=>[t("img",{class:"icons",src:o.icon},null,8,V),b("  "+x(o.name),1)]),_:2},1032,["class","to"]))),256))])],64)}const G=k(O,[["render",q],["__scopeId","data-v-d8f98d20"]]);const N={setup(){const e=I(),s=B();return{userDetailsStore:e,skillsStore:s}},data(){return{goals:[]}},async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let e=0;e<this.goals.length;e++){let s=this.skillsStore.skillsList.find(h=>h.id===this.goals[e].skill_id);this.goals[e].name=s.name,this.goals[e].level=s.level}},methods:{async getGoals(){const e=await fetch("/user-skills/goals/"+this.userDetailsStore.userId+"/list");this.goals=await e.json()}}},L=e=>(g("data-v-e018bd50"),e=e(),v(),e),W=L(()=>t("h2",{class:"tertiary-heading h5"},"Goals",-1)),E={id:"goal-list"},P=L(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"black",width:"20",heigth:"20"},[t("path",{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})],-1));function A(e,s,h,r,n,i){const _=p("router-link");return l(),a(m,null,[W,t("div",E,[(l(!0),a(m,null,T(n.goals,o=>(l(),f(_,{class:C([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"goal-link btn m-2 d-flex"]),to:`/goals/${r.userDetailsStore.userId}/`+o.skill_id,target:"_blank"},{default:S(()=>[P,b("   "+x(o.name),1)]),_:2},1032,["class","to"]))),256))])],64)}const U=k(N,[["render",A],["__scopeId","data-v-e018bd50"]]);const Y={setup(){const e=I();return e.getUserDetails(),{userDetailsStore:e}},data(){return{query:"",recommendedSkillsOrderedByRelevance:[],showRecommendedSkills:!1}},mounted(){var e=document.getElementById("searchBar");e.addEventListener("keypress",function(s){s.key==="Enter"&&(s.preventDefault(),document.getElementById("searchButton").click())})},methods:{async getRecommendedSkills(){let e="/skills/get-recommended-skills";const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.userDetailsStore.userId,cohortId:this.userDetailsStore.cohortId,query:this.query})},r=await(await fetch(e,s)).json();this.recommendedSkillsOrderedByRelevance=r,this.showRecommendedSkills=!0},removeRecommendedSkill(e){this.recommendedSkillsOrderedByRelevance.splice(e,1)},async createLearningTrack(){let e="/learning-tracks/"+this.userDetailsStore.userId+"/create",s=this.recommendedSkillsOrderedByRelevance.map(r=>r.id);const h={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.query,skills:s})};await fetch(e,h),alert("Learning track created. You can view it on the 'Learning Tracks' tab.")}}},D=e=>(g("data-v-b7655445"),e=e(),v(),e),F={class:"search-bar"},H={class:"d-flex align-items-center p-1"},J=D(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",class:"tertiary-icon"},[t("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1)),K=[J],Q={key:0},X=D(()=>t("h2",{class:"secondary-heading h5 bg-white rounded p-2 mt-2"}," Recommended Skills ",-1)),Z=["onClick"],ee=D(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:"18",class:"tertiary-icon"},[t("path",{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),te=[ee];function se(e,s,h,r,n,i){const _=p("router-link");return l(),a(m,null,[t("div",F,[t("div",H,[R(t("input",{id:"searchBar",type:"text",class:"recommended-skills-input",placeholder:"What skill or profession do you want to learn?","onUpdate:modelValue":s[0]||(s[0]=o=>n.query=o)},null,512),[[M,n.query]]),t("button",{id:"searchButton",onClick:s[1]||(s[1]=(...o)=>i.getRecommendedSkills&&i.getRecommendedSkills(...o)),class:"btn primary-btn rounded p-2"},K)])]),n.showRecommendedSkills?(l(),a("div",Q,[X,(l(!0),a(m,null,T(n.recommendedSkillsOrderedByRelevance,(o,y)=>(l(),a("div",null,[w(_,{class:C([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"skill-link btn m-1"]),to:`/skills/${o.url}`,target:"_blank"},{default:S(()=>[b(x(o.name),1)]),_:2},1032,["class","to"]),t("button",{class:"btn red-btn",onClick:c=>i.removeRecommendedSkill(y)},te,8,Z)]))),256)),t("button",{class:"btn primary-btn mt-3",onClick:s[2]||(s[2]=(...o)=>i.createLearningTrack&&i.createLearningTrack(...o))}," Create learning track ")])):d("",!0)],64)}const oe=k(Y,[["render",se],["__scopeId","data-v-b7655445"]]);const le={setup(){const e=I();return e.getUserDetails(),{userDetailsStore:e}},data(){return{showWelcomeModal:!1,isTutorialComplete:!1,showTutorialTip1:!1,showTutorialTip2:!1,showTutorialTip3:!1,showTutorialTip4:!1}},components:{LastVisitedSkills:G,Goals:U,RecommendedSkillsGenerator:oe},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},async created(){this.checkIfTutorialComplete()},methods:{async checkIfTutorialComplete(){try{const s=await(await fetch("/users/check-tutorial-progress/hub/"+this.userDetailsStore.userId)).json();s===0&&this.userDetailsStore.role!="student"?this.showWelcomeModal=!0:s===0&&this.userDetailsStore.role=="student"?this.showTutorialTip1=!0:s===1&&(this.isTutorialComplete=!0)}catch(e){console.error("Error checking tutorial progress:",e)}},progressTutorial(e){e==1?(this.showTutorialTip1=!1,this.showTutorialTip2=!0):e==2?(this.showTutorialTip2=!1,this.showTutorialTip3=!0):e==3?(this.showTutorialTip3=!1,this.showTutorialTip4=!0):e==4&&(this.showTutorialTip4=!1,this.markTutorialComplete())},markTutorialComplete(){let e="/users/mark-tutorial-complete/hub/"+this.userDetailsStore.userId;fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"}})},async startTutorial(){this.showTutorialTip1=!0,this.isTutorialComplete=!1,this.showWelcomeModal=!1,await this.resetTutorialProgress()},async resetTutorialProgress(){try{await fetch(`/users/reset-all-tutorials/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})}catch(e){console.error("Error resetting tutorials:",e)}},async closeTutorial(){this.showWelcomeModal=!1,await this.markAllTutorialsComplete()},restartTutorial(){this.startTutorial()},async markAllTutorialsComplete(){try{(await fetch(`/users/mark-all-tutorials-complete/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?this.isTutorialComplete=!0:console.error("Error marking tutorials as complete.")}catch(e){console.error("API request failed:",e)}}}},u=e=>(g("data-v-5a5ed30a"),e=e(),v(),e),ie={class:"container-fluid d-flex justify-content-end my-1"},re=u(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",width:"20",height:"20",class:"primary-icon"},[t("path",{d:"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"})],-1)),ae=[re],ne={class:"container min-vh-100"},ce={class:"row mb-5"},de={class:"col"},ue={key:0,class:"tool-tip-base",style:{maxWidth:"300px"}},he={class:"explain-tool-tip triangle-top-left"},_e={class:"tool-tip-text"},me=u(()=>t("p",null," Type a career or skill here to get recommendations. ",-1)),pe={class:"row"},ke={class:"col-md-6 mb-2"},ge={class:"h-100"},ve={key:0,class:"tool-tip-base mb-3"},ye={class:"explain-tool-tip triangle-bottom-left"},we={class:"tool-tip-text"},Te=u(()=>t("p",null," This section shows your the last 5 skill pages you visited. ",-1)),fe={key:0,class:"col-md-6 mb-2"},Se={class:"h-100"},be={key:0,class:"tool-tip-base mb-3"},xe={class:"explain-tool-tip triangle-bottom-left"},Ce={class:"tool-tip-text"},Ie=u(()=>t("p",null," This section shows any goals you might have made. ",-1)),De=u(()=>t("p",null," You can make a goal when there is a skill you want to master but it is not unlocked yet. ",-1)),Le={key:0,class:"modal"},Be={class:"modal-content"},Re=u(()=>t("h1",{class:"heading h3"},"Welcome to the Collins Institute",-1)),Me=u(()=>t("p",null,"Would you like to go through the tutorial?",-1)),Oe=u(()=>t("p",null,' You can start or restart it anytime by clicking the "i" button on any page. ',-1)),$e={class:"d-flex justify-content-between"},je={key:1,class:"modal"},ze={key:0,class:"modal-content"},Ve=u(()=>t("p",null,"This is your hub page.",-1));function qe(e,s,h,r,n,i){const _=p("RecommendedSkillsGenerator"),o=p("LastVisitedSkills"),y=p("Goals");return l(),a(m,null,[t("div",ie,[t("button",{class:"btn",onClick:s[0]||(s[0]=(...c)=>i.restartTutorial&&i.restartTutorial(...c))},ae)]),t("div",ne,[t("div",ce,[t("div",de,[w(_),n.showTutorialTip2&&r.userDetailsStore.role=="student"?(l(),a("div",ue,[t("div",he,[t("div",_e,[me,t("button",{class:"btn primary-btn",onClick:s[1]||(s[1]=c=>i.progressTutorial(2))}," next ")])])])):d("",!0)])]),t("div",pe,[t("div",ke,[t("div",ge,[n.showTutorialTip3&&r.userDetailsStore.role=="student"?(l(),a("div",ve,[t("div",ye,[t("div",we,[Te,t("button",{class:"btn primary-btn",onClick:s[2]||(s[2]=c=>i.progressTutorial(3))}," next ")])])])):d("",!0),r.userDetailsStore.role=="student"?(l(),f(o,{key:1,userId:r.userDetailsStore.userId},null,8,["userId"])):d("",!0)])]),r.userDetailsStore.role=="student"?(l(),a("div",fe,[t("div",Se,[n.showTutorialTip4&&r.userDetailsStore.role=="student"?(l(),a("div",be,[t("div",xe,[t("div",Ce,[Ie,De,t("button",{class:"btn primary-btn",onClick:s[3]||(s[3]=c=>i.progressTutorial(4))}," close ")])])])):d("",!0),w(y)])])):d("",!0)])]),n.showWelcomeModal?(l(),a("div",Le,[t("div",Be,[Re,Me,Oe,t("div",$e,[t("button",{class:"btn red-btn mx-0",onClick:s[4]||(s[4]=(...c)=>i.closeTutorial&&i.closeTutorial(...c))}," No "),t("button",{class:"btn primary-btn mx-0",onClick:s[5]||(s[5]=(...c)=>i.startTutorial&&i.startTutorial(...c))}," Yes ")])])])):d("",!0),r.userDetailsStore.role=="student"&&n.showTutorialTip1?(l(),a("div",je,[n.showTutorialTip1&&r.userDetailsStore.role=="student"?(l(),a("div",ze,[t("div",null,[Ve,t("button",{class:"btn primary-btn",onClick:s[6]||(s[6]=c=>i.progressTutorial(1))}," next ")])])):d("",!0)])):d("",!0)],64)}const Ne=k(le,[["render",qe],["__scopeId","data-v-5a5ed30a"]]);export{Ne as default};
