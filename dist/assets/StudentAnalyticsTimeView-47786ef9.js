import{_ as g,o as d,c as u,e as f,J as k,r as p,a as c,j as S,b as x}from"./main-323bd1ce.js";import{u as b}from"./AnalyticsStore-b394ec96.js";import{S as T,T as w}from"./TimePerSubjectHorizontalBarChart-afddd137.js";import"./transform-af9a74a2.js";import{l as B,c as v,b as j}from"./linear-5b188edc.js";import{m as C,b as D}from"./continuous-7328829e.js";import{s as P}from"./sort-ed61f96d.js";import{s as y}from"./string-dd82ab4a.js";import"./line-85f04100.js";import"./time-0457d93b.js";import"./point-ea70dc51.js";const $={name:"TimePerSkillHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){y("#time-per-skill-chart-container");const i=25,a=0,n=0,r=10,m=200,s=1e3,o=Math.ceil((this.data.length+.1)*i)+a+r,e=B().domain([0,C(this.data,t=>t.quantity)]).range([m,s-n]),l=D().domain(P(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([a,o-r]).padding(.1);e.tickFormat(20);const h=y("#time-per-skill-chart-container").append("svg").attr("width",s).attr("height",o).attr("viewBox",[0,0,s,o]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");h.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",e(0)).attr("y",t=>l(t.name)).attr("width",t=>e(t.quantity)-e(0)).attr("height",l.bandwidth()),h.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>e(t.quantity)).attr("y",t=>l(t.name)+l.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>t.formattedQuantity).call(t=>t.filter(_=>e(_.quantity)-e(0)<40).attr("dx",4).attr("fill","black").attr("text-anchor","start")),h.append("g").attr("transform",`translate(0,${a})`).call(v(e).ticks(0)).call(t=>t.select(".domain").remove()),h.append("g").attr("transform",`translate(${m},0)`).call(j(l).tickSizeOuter(0))},computed:{}},z={id:"time-per-skill-chart-container"};function H(i,a,n,r,m,s){return d(),u("div",z)}const q=g($,[["render",H]]),I={setup(){const i=f(),a=k(),n=b();return{userDetailsStore:i,userSkillsStore:a,analyticsStore:n}},components:{StudentDurationPerDayLineChart:T,TimePerSkillHorizontalBarChart:q,TimePerSubjectHorizontalBarChart:w},data(){return{studentId:this.userDetailsStore.userId}},async created(){await this.analyticsStore.getStudentDurationPerDay(this.studentId),await this.analyticsStore.getStudentSkillDurations(this.studentId),await this.analyticsStore.getStudentSubjectTimeSpent(this.studentId)},methods:{}},A={class:"container"},L={class:"row"},V={id:"subject-activity-chart-container"},N={class:"row"},R={key:1};function U(i,a,n,r,m,s){const o=p("TimePerSubjectHorizontalBarChart"),e=p("TimePerSkillHorizontalBarChart");return d(),u("div",A,[c("div",L,[a[0]||(a[0]=c("h2",{class:"h4 heading"},"Time per subject",-1)),c("div",V,[r.analyticsStore.subjectTimeSpent.length>0?(d(),S(o,{key:0,data:r.analyticsStore.subjectTimeSpent,colour:"purple"},null,8,["data"])):x("",!0)])]),c("div",N,[a[1]||(a[1]=c("h2",{class:"h4 heading"},"Time per skill",-1)),r.analyticsStore.studentSkillDurations.length>0?(d(),S(e,{key:0,data:r.analyticsStore.studentSkillDurations,colour:"purple"},null,8,["data"])):(d(),u("p",R,"You haven't spent any time on skills yet."))])])}const Z=g(I,[["render",U]]);export{Z as default};
