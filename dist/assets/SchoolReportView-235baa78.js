import"./transform-23c7b39f.js";import{_ as k,o as m,c as p,r as _,k as f,a as g,E as M}from"./main-20d71ce8.js";import{l as y,m as S,b as T,s as w}from"./linear-5b5f98b2.js";import{s as u}from"./select-03d56b88.js";import{a as x,b as A}from"./continuous-dd31f971.js";import{o as b}from"./ordinal-ba9b4969.js";import{q as O,S as P,p as B,a as v}from"./pie-a712f9d2.js";import"./ascending-3ff63084.js";import"./init-77b53fdd.js";import"./array-4492e866.js";const C={name:"TenantAvgTokensToMasterSkillsHorizontalBarChart",props:["data","colour"],data(){return{padding:60}},mounted(){u("#tenant-avg-tokens-to-master-skills-chart-container"),console.log("Data received for TenantAvgTokensToMasterSkillsHorizontalBarChart:",this.data);const t=25,a=0,i=0,d=10,o=200,c=1e3,h=Math.ceil((this.data.length+.1)*t)+a+d,s=y().domain([0,S(this.data,r=>r.quantity)]).range([o,c-i]),l=T().domain(w(this.data,r=>-r.quantity).map(r=>r.name)).rangeRound([a,h-d]).padding(.1),n=s.tickFormat(20),e=u("#tenant-avg-tokens-to-master-skills-chart-container").append("svg").attr("width",c).attr("height",h).attr("viewBox",[0,0,c,h]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");e.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",s(0)).attr("y",r=>l(r.name)).attr("width",r=>s(r.quantity)-s(0)).attr("height",l.bandwidth()),e.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",r=>s(r.quantity)).attr("y",r=>l(r.name)+l.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(r=>n(r.quantity)).call(r=>r.filter($=>s($.quantity)-s(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),e.append("g").attr("transform",`translate(0,${a})`).call(x(s).ticks(0)).call(r=>r.select(".domain").remove()),e.append("g").attr("transform",`translate(${o},0)`).call(A(l).tickSizeOuter(0))},computed:{}},H={id:"tenant-avg-tokens-to-master-skills-chart-container"};function q(t,a,i,d,o,c){return m(),p("div",H)}const z=k(C,[["render",q],["__scopeId","data-v-aee57a46"]]);const R={name:"TenantAvgInteractionTimePerSkill",props:["data","colour"],data(){return{padding:60}},mounted(){u("#tenant-avg-interaction-time-per-skill-chart-container");const t=25,a=0,i=0,d=10,o=200,c=1e3,h=Math.ceil((this.data.length+.1)*t)+a+d,s=y().domain([0,S(this.data,e=>e.quantity)]).range([o,c-i]),l=T().domain(w(this.data,e=>-e.quantity).map(e=>e.name)).rangeRound([a,h-d]).padding(.1);s.tickFormat(20);const n=u("#tenant-avg-interaction-time-per-skill-chart-container").append("svg").attr("width",c).attr("height",h).attr("viewBox",[0,0,c,h]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");n.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",s(0)).attr("y",e=>l(e.name)).attr("width",e=>s(e.quantity)-s(0)).attr("height",l.bandwidth()),n.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",e=>s(e.quantity)).attr("y",e=>l(e.name)+l.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(e=>e.formattedQuantity).call(e=>e.filter(r=>s(r.quantity)-s(0)<30).attr("dx",4).attr("fill","black").attr("text-anchor","start")),n.append("g").attr("transform",`translate(0,${a})`).call(x(s).ticks(0)).call(e=>e.select(".domain").remove()),n.append("g").attr("transform",`translate(${o},0)`).call(A(l).tickSizeOuter(0))},computed:{}},I={id:"tenant-avg-interaction-time-per-skill-chart-container"};function j(t,a,i,d,o,c){return m(),p("div",I)}const L=k(R,[["render",j],["__scopeId","data-v-158e7ab6"]]),E={name:"TenantPercentageStudentsMasteredAtLeastOneSkillPieChart",props:["data"],data(){return{padding:60}},mounted(){u("#tenant-percentage-students-mastered-one-skill-chart-container");let t=this.data;const a=928,i=Math.min(a,500);b().domain(t.map(n=>n.name)).range(O(n=>P(n*.8+.1),t.length).reverse());const d=B().sort(null).value(n=>n.value),o=v().innerRadius(0).outerRadius(Math.min(a,i)/2-1),c=o.outerRadius()()*.8,h=v().innerRadius(c).outerRadius(c),s=d(t),l=u("#tenant-percentage-students-mastered-one-skill-chart-container").append("svg").attr("width",a).attr("height",i).attr("viewBox",[-a/2,-i/2,a,i]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");l.append("g").attr("stroke","white").selectAll().data(s).join("path").attr("fill",n=>{if(n.data.name==="Mastered one skill")return"darkgreen";if(n.data.name==="Mastered no skills")return"darkred"}).attr("d",o).append("title").text(n=>`${n.data.name}: ${n.data.value.toLocaleString("en-US")}`),l.append("g").attr("text-anchor","middle").selectAll().data(s).join("text").attr("transform",n=>`translate(${h.centroid(n)})`).call(n=>n.append("tspan").attr("y","-0.4em").attr("fill","white").attr("font-weight","bold").text(e=>e.data.name)).call(n=>n.filter(e=>e.endAngle-e.startAngle>.25).append("tspan").attr("x",0).attr("fill","white").attr("y","1em").attr("fill-opacity",1).text(e=>e.data.value.toLocaleString("en-US")))},computed:{}},N={id:"tenant-percentage-students-mastered-one-skill-chart-container"};function F(t,a,i,d,o,c){return m(),p("div",N)}const U=k(E,[["render",F]]),V={setup(){return{}},components:{TenantAvgTokensToMasterSkillsHorizontalBarChart:z,TenantAvgInteractionTimePerSkillHorizontalBarChart:L,TenantPercentageStudentsMasteredAtLeastOneSkillPieChart:U},data(){return{tenantId:this.$route.params.tenantId,avgTokensToMasterSkills:[],avgTimeOnSkills:[],percentageStudentsMasteredOneSkill:[]}},async created(){await this.getAvgTokensToMasterSkills(),await this.getAvgTimeOnSkills(),await this.getPercentageStudentsMasteredOneSkill()},methods:{async getAvgTokensToMasterSkills(){try{const t=await fetch(`/student-analytics/avg-tokens-to-master-skills/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();this.avgTokensToMasterSkills=Array.isArray(a)?a:[]}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.avgTokensToMasterSkills=[]}},async getAvgTimeOnSkills(){try{const t=await fetch(`/student-analytics/avg-times-on-skills/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();this.avgTimeOnSkills=Array.isArray(a)?a:[];for(let i=0;i<this.avgTimeOnSkills.length;i++)this.avgTimeOnSkills[i].formattedQuantity=this.millisToMinutesAndSeconds(this.avgTimeOnSkills[i].quantity)}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.avgTimeOnSkills=[]}},async getPercentageStudentsMasteredOneSkill(){try{const t=await fetch(`/student-analytics/percentage-students-mastered-one-skill/tenant/${this.tenantId}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.percentageStudentsMasteredOneSkill=await t.json()}catch(t){console.error("Error fetching cohort mastered assessments:",t),this.percentageStudentsMasteredOneSkill=[]}},millisToMinutesAndSeconds(t){var a=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return a+":"+(i<10?"0":"")+i}}},Q={class:"container"},D=g("span",{class:"d-flex justify-content-between w-100"},[g("h1",{class:"heading"},"School Admin Report")],-1),G=g("h2",{class:"secondary-heading"},"Skill Engagement & Resource Usage",-1),J=g("h4",null,"Average interaction time per skill (minutes)",-1),K={key:1},W=g("h4",{class:"mt-5"},"Average number of tokens to master a skill",-1),X={key:3},Y=g("h2",{class:"secondary-heading mt-5"},"Student Progress & Attendance",-1),Z=g("h3",null,"Usage and Fidelity Reports",-1),tt=g("h4",null," Percentage of students who completed at least one skill (cumulative) ",-1),et={key:5},at=M('<ul class="mt-5"><li> percentage of students who completed at least one skill <ul><li><em>task made</em></li><li><em>percentage of students who completed at least one skill </em></li><li><em>pie chart </em></li><li><em>add weekly version</em></li></ul></li><li class="mt-3"> total tutoring time <ul><li><em>weekly and cumulative usage</em></li></ul></li><li class="mt-3"> engagement <ul><li><em>task made</em></li><li><em>starting date is when first student started on</em></li><li><em>total time on platform </em></li><li><em>line chart </em></li><li><em>weekly and cumulative usage</em></li></ul></li><li class="mt-3">any others?</li></ul><h2 class="secondary-heading mt-5">Academic Performance Overview</h2><h3>Growth Analytics</h3><p> (Jonathan, you may be able to determine what would be both easiest and most compelling for us to share at this levelâ€”e.g. Skills mastered, Key Skills mastered by student grade, progress made, % progress made within cohorts, etc.) </p><ul><li>number of skills mastered</li><li>% progress made within cohorts</li></ul><h3>Assessment Completion Tracking</h3><p> Visualizes the percentage of students who have completed, are in progress, or have not started skills&#39; assessments, with daily and weekly updates. </p><h3>Performance by Skill Category</h3><p> Allows drill-down into skill categories to view where extra help might be needed (e.g. with math, science, history, etc.) </p><p><em>What skills / categories are students failing the most?</em></p>',10);function nt(t,a,i,d,o,c){const h=_("TenantAvgInteractionTimePerSkillHorizontalBarChart"),s=_("TenantAvgTokensToMasterSkillsHorizontalBarChart"),l=_("TenantPercentageStudentsMasteredAtLeastOneSkillPieChart");return m(),p("div",Q,[D,G,J,o.avgTimeOnSkills.length>0?(m(),f(h,{key:0,data:o.avgTimeOnSkills,colour:"purple"},null,8,["data"])):(m(),p("p",K,"No data yet")),W,o.avgTokensToMasterSkills.length>0?(m(),f(s,{key:2,data:o.avgTokensToMasterSkills,colour:"darkgreen"},null,8,["data"])):(m(),p("p",X,"No data yet")),Y,Z,tt,o.percentageStudentsMasteredOneSkill.length>0?(m(),f(l,{key:4,data:o.percentageStudentsMasteredOneSkill},null,8,["data"])):(m(),p("p",et,"No data yet")),at])}const pt=k(V,[["render",nt]]);export{pt as default};
