import{_ as f,r as h,o as i,c as n,d as e,F as _,s as w,i as g,j as T,m as D,t as k,l as v,p as S,f as y,a as I,g as x,e as b,w as A,x as P,b as d,q as j}from"./main-8f829f0f.js";import{u as B}from"./AssessmentsStore-907e320f.js";import{u as U}from"./InstructorStudentsStore-8f755f49.js";const V={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&&s.push({name:this.userSkills[t].name,id:this.userSkills[t].id,url:this.userSkills[t].url,level:this.userSkills[t].level});return s.length>0&&(this.noSkills=!1),s}},methods:{}},z=s=>(S("data-v-03ed8920"),s=s(),y(),s),G=z(()=>e("h2",{class:"secondary-heading h5 bg-white rounded p-2"},"Available Skills",-1)),N={id:"skill-list"};function R(s,t,u,l,r,a){const c=h("router-link");return i(),n(_,null,[G,e("div",N,[(i(!0),n(_,null,w(a.availableSkills,o=>(i(),g(c,{class:v([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"skill-link btn m-2 d-flex"]),to:`/skills/${o.url}`,target:"_blank"},{default:T(()=>[D(k(o.name),1)]),_:2},1032,["class","to"]))),256))])],64)}const E=f(V,[["render",R],["__scopeId","data-v-03ed8920"]]);const W={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},O=s=>(S("data-v-9d553872"),s=s(),y(),s),Q=O(()=>e("h2",{class:"secondary-heading h5 bg-white rounded p-2"}," Last Visited Skills ",-1)),H={id:"skill-list"};function Y(s,t,u,l,r,a){const c=h("router-link");return i(),n(_,null,[Q,e("div",H,[(i(!0),n(_,null,w(r.visitedSkills,o=>(i(),g(c,{class:v([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"skill-link btn m-2 d-flex"]),to:`/skills/${o.url}`,target:"_blank"},{default:T(()=>[D(k(o.name),1)]),_:2},1032,["class","to"]))),256))])],64)}const F=f(W,[["render",Y],["__scopeId","data-v-9d553872"]]);const J={setup(){const s=I(),t=x();return{userDetailsStore:s,skillsStore:t}},data(){return{goals:[]}},async created(){await this.getGoals(),this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.goals.length;s++){let t=this.skillsStore.skillsList.find(u=>u.id===this.goals[s].skill_id);this.goals[s].name=t.name,this.goals[s].level=t.level}},methods:{async getGoals(){const s=await fetch("/goals/"+this.userDetailsStore.userId+"/list");this.goals=await s.json()}}},$=s=>(S("data-v-e69f95e5"),s=s(),y(),s),Z=$(()=>e("h2",{class:"secondary-heading h5 bg-white rounded p-2"},"Goals",-1)),K={id:"goal-list"},X=$(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"black",width:"20",heigth:"20"},[e("path",{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})],-1));function ss(s,t,u,l,r,a){const c=h("router-link");return i(),n(_,null,[Z,e("div",K,[(i(!0),n(_,null,w(r.goals,o=>(i(),g(c,{class:v([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"goal-link btn m-2 d-flex"]),to:`/goals/${o.id}`,target:"_blank"},{default:T(()=>[X,D(" Â  "+k(o.name),1)]),_:2},1032,["class","to"]))),256))])],64)}const ts=f(J,[["render",ss],["__scopeId","data-v-e69f95e5"]]);const es={props:{assessments:{type:Array,required:!0}},setup(){return{}},data(){return{}},computed:{},methods:{}},os=s=>(S("data-v-5dc9288a"),s=s(),y(),s),is={class:"container-fluid"},ls=os(()=>e("h2",{class:"secondary-heading h4"},"Mark Assessments",-1)),rs={id:"list-body"},ns={class:"assessment"},as={id:"student-name"},us={id:"skill-name"},ds={id:"date"};function cs(s,t,u,l,r,a){const c=h("RouterLink");return i(),n("div",is,[ls,e("div",rs,[(i(!0),n(_,null,w(this.assessments,o=>(i(),n("div",ns,[b(c,{class:"assessment-link",to:"/mark-assessment/"+o.id},{default:T(()=>[e("span",as,k(o.studentUsername)+", ",1),e("span",us,k(o.skillName)+", ",1),e("span",ds,k(o.date),1)]),_:2},1032,["to"])]))),256))])])}const hs=f(es,[["render",cs],["__scopeId","data-v-5dc9288a"]]);const _s={props:{questions:{type:Array,required:!0}},methods:{formatDate(s){var t=s.replace("T"," ");t=t.replace("Z"," ");let u=t.split(/[- :]/);var l=new Date(Date.UTC(u[0],u[1]-1,u[2],u[3],u[4],u[5])),r={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return l=l.toLocaleDateString("en-US",r),l}}},ms=s=>(S("data-v-1df3f680"),s=s(),y(),s),ps={class:"container-fluid"},ks=ms(()=>e("h2",{class:"secondary-heading h4"},"Check New Questions",-1)),gs={class:"list-body"},fs={class:"question"},Ss={class:"student-name"},ys={class:"skill-name"},vs={class:"date"};function ws(s,t,u,l,r,a){const c=h("RouterLink");return i(),n("div",ps,[ks,e("div",gs,[(i(!0),n(_,null,w(u.questions,o=>(i(),n("div",fs,[b(c,{class:"question-link",to:`/check-student-question/${o.id}`},{default:T(()=>[e("span",Ss,k(o.student)+", ",1),e("span",ys,k(o.skillname)+", ",1),e("span",vs,k(a.formatDate(o.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Ts=f(_s,[["render",ws],["__scopeId","data-v-1df3f680"]]);const bs={setup(){const s=I();return s.getUserDetails(),{userDetailsStore:s}},data(){return{query:"",recommendedSkills:[],showRecommendedSkills:!1}},async created(){},mounted(){var s=document.getElementById("searchBar");s.addEventListener("keypress",function(t){t.key==="Enter"&&(t.preventDefault(),document.getElementById("searchButton").click())})},methods:{async createPathway(){let s="/skills/find-skills-for-pathway";const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.userDetailsStore.userId,query:this.query})},l=await(await fetch(s,t)).json();this.recommendedSkills=l,this.showRecommendedSkills=!0}}},Ds=s=>(S("data-v-3ae689a7"),s=s(),y(),s),Is={class:"search-bar"},xs={class:"d-flex align-items-center p-1"},$s=Ds(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",class:"secondary-icon"},[e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1)),Cs=[$s],Ls={key:0,class:"secondary-heading h5 bg-white rounded p-2 mt-2"},qs={key:1};function Ms(s,t,u,l,r,a){const c=h("router-link");return i(),n(_,null,[e("div",Is,[e("div",xs,[A(e("input",{id:"searchBar",type:"text",class:"pathways-input",placeholder:"What skill or profession do you want to learn?","onUpdate:modelValue":t[0]||(t[0]=o=>r.query=o)},null,512),[[P,r.query]]),e("button",{id:"searchButton",onClick:t[1]||(t[1]=(...o)=>a.createPathway&&a.createPathway(...o)),class:"btn primary-btn rounded p-2"},Cs)])]),r.showRecommendedSkills?(i(),n("h2",Ls," Recommended Skills ")):d("",!0),r.showRecommendedSkills?(i(),n("div",qs,[(i(!0),n(_,null,w(r.recommendedSkills,o=>(i(),g(c,{class:v([{"grade-school":o.level=="grade_school","middle-school":o.level=="middle_school","high-school":o.level=="high_school",college:o.level=="college",phd:o.level=="phd"},"skill-link btn m-1"]),to:`/skills/${o.url}`,target:"_blank"},{default:T(()=>[D(k(o.name),1)]),_:2},1032,["class","to"]))),256))])):d("",!0)],64)}const As=f(bs,[["render",Ms],["__scopeId","data-v-3ae689a7"]]);const Ps={setup(){const s=I(),t=B(),u=j(),l=x(),r=U();return s.getUserDetails(),{userDetailsStore:s,assessmentsStore:t,usersStore:u,skillsStore:l,instructorStudentsStore:r}},data(){return{showWelcomeModal:!1,assessments:[],questions:[],studentIds:[],isTutorialComplete:!1,showTutorialTip1:!1,showTutorialTip2:!1,showTutorialTip3:!1,showTutorialTip4:!1,showTutorialTip5:!1}},components:{StudentProgress:E,MarkAssessment:hs,LastVisitedSkills:F,Goals:ts,HubStudentQuestionList:Ts,PathwayGenerator:As},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},async created(){this.checkIfTutorialComplete(),this.userDetailsStore.role=="instructor"&&(await this.fetchAssessments(),await this.getStudentMCQuestions())},methods:{async fetchAssessments(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},async getStudentMCQuestions(){const t=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=t},async checkIfTutorialComplete(){try{const t=await(await fetch("/users/check-tutorial-progress/hub/"+this.userDetailsStore.userId)).json();t===0&&this.userDetailsStore.role!="student"?this.showWelcomeModal=!0:t===0&&this.userDetailsStore.role=="student"?this.showTutorialTip1=!0:t===1&&(this.isTutorialComplete=!0)}catch(s){console.error("Error checking tutorial progress:",s)}},progressTutorial(s){s==1?(this.showTutorialTip1=!1,this.showTutorialTip3=!0):s==2?(this.showTutorialTip2=!1,this.showTutorialTip3=!0):s==3?(this.showTutorialTip3=!1,this.showTutorialTip4=!0):s==4?(this.showTutorialTip4=!1,this.showTutorialTip5=!0):s==5&&(this.showTutorialTip5=!1,this.markTutorialComplete())},markTutorialComplete(){let s="/users/mark-tutorial-complete/hub/"+this.userDetailsStore.userId;fetch(s,{method:"PUT",headers:{"Content-Type":"application/json"}})},async startTutorial(){this.showTutorialTip1=!0,this.isTutorialComplete=!1,this.showWelcomeModal=!1,await this.resetTutorialProgress()},async resetTutorialProgress(){try{await fetch(`/users/reset-all-tutorials/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})}catch(s){console.error("Error resetting tutorials:",s)}},async closeTutorial(){this.showWelcomeModal=!1,await this.markAllTutorialsComplete()},restartTutorial(){this.startTutorial()},async markAllTutorialsComplete(){try{(await fetch(`/users/mark-all-tutorials-complete/${this.userDetailsStore.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?this.isTutorialComplete=!0:console.error("Error marking tutorials as complete.")}catch(s){console.error("API request failed:",s)}}}},m=s=>(S("data-v-667433d1"),s=s(),y(),s),js={class:"container-fluid d-flex justify-content-end my-1"},Bs=m(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",width:"20",height:"20",class:"primary-icon"},[e("path",{d:"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"})],-1)),Us=[Bs],Vs={class:"container min-vh-100"},zs={class:"row mb-3"},Gs={class:"col"},Ns={key:0,class:"info-panel bg-light rounded p-2 mt-2"},Rs=m(()=>e("p",null,"Type a career or skill here to get recommendations.",-1)),Es={class:"row"},Ws={class:"h-100"},Os={key:0,class:"info-panel bg-light rounded p-2 mb-2"},Qs=m(()=>e("p",null," This section shows your available skills. These are the skills that you can try to master by taking a quiz. ",-1)),Hs=m(()=>e("p",null," Once you master a skill, more skills will get unlocked. ",-1)),Ys={class:"h-100"},Fs={key:0,class:"info-panel bg-light rounded p-2 mb-2"},Js=m(()=>e("p",null," This section shows your the last 5 skill pages you visited. ",-1)),Zs={key:2,class:"col-lg-4 col-md-6 mb-2"},Ks={class:"h-100"},Xs={key:0,class:"info-panel bg-light rounded p-2 mb-2"},st=m(()=>e("p",null,"This section shows any goals you might have made.",-1)),tt=m(()=>e("p",null," You can make a goal when there is a skill you want to master but it is not unlocked yet. ",-1)),et={key:0,class:"modal"},ot={class:"modal-content"},it=m(()=>e("h1",{class:"heading h3"},"Welcome to the Collins Institute",-1)),lt=m(()=>e("p",null,"Would you like to go through the tutorial?",-1)),rt=m(()=>e("p",null,' You can start or restart it anytime by clicking the "i" button on any page. ',-1)),nt={class:"d-flex justify-content-between"},at={key:1,class:"modal"},ut={key:0,class:"modal-content"},dt=m(()=>e("p",null,"This is your hub page.",-1));function ct(s,t,u,l,r,a){const c=h("PathwayGenerator"),o=h("StudentProgress"),C=h("MarkAssessment"),L=h("LastVisitedSkills"),q=h("HubStudentQuestionList"),M=h("Goals");return i(),n(_,null,[e("div",js,[e("button",{class:"btn",onClick:t[0]||(t[0]=(...p)=>a.restartTutorial&&a.restartTutorial(...p))},Us)]),e("div",Vs,[e("div",zs,[e("div",Gs,[b(c),r.showTutorialTip2&&l.userDetailsStore.role=="student"?(i(),n("div",Ns,[Rs,e("button",{class:"btn primary-btn",onClick:t[1]||(t[1]=p=>a.progressTutorial(2))}," next ")])):d("",!0)])]),e("div",Es,[l.userDetailsStore.role!="editor"?(i(),n("div",{key:0,class:v(["col-lg-4 col-md-6 mb-2",{"d-none":l.userDetailsStore.role=="instructor"&&r.assessments.length===0}])},[e("div",Ws,[r.showTutorialTip3&&l.userDetailsStore.role=="student"?(i(),n("div",Os,[Qs,Hs,e("button",{class:"btn primary-btn",onClick:t[2]||(t[2]=p=>a.progressTutorial(3))}," next ")])):d("",!0),l.userDetailsStore.role=="student"?(i(),g(o,{key:1,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(i(),g(C,{key:2,assessments:r.assessments},null,8,["assessments"])):d("",!0)])],2)):d("",!0),l.userDetailsStore.role!="editor"?(i(),n("div",{key:1,class:v(["col-lg-4 col-md-6 mb-2",{"d-none":l.userDetailsStore.role=="instructor"&&r.questions.length===0}])},[e("div",Ys,[r.showTutorialTip4&&l.userDetailsStore.role=="student"?(i(),n("div",Fs,[Js,e("button",{class:"btn primary-btn",onClick:t[3]||(t[3]=p=>a.progressTutorial(4))}," next ")])):d("",!0),l.userDetailsStore.role=="student"?(i(),g(L,{key:1,userId:l.userDetailsStore.userId},null,8,["userId"])):l.userDetailsStore.role=="instructor"?(i(),g(q,{key:2,questions:r.questions},null,8,["questions"])):d("",!0)])],2)):d("",!0),l.userDetailsStore.role=="student"?(i(),n("div",Zs,[e("div",Ks,[r.showTutorialTip5&&l.userDetailsStore.role=="student"?(i(),n("div",Xs,[st,tt,e("button",{class:"btn primary-btn",onClick:t[4]||(t[4]=p=>a.progressTutorial(5))}," close ")])):d("",!0),b(M)])])):d("",!0)])]),r.showWelcomeModal?(i(),n("div",et,[e("div",ot,[it,lt,rt,e("div",nt,[e("button",{class:"btn red-btn mx-0",onClick:t[5]||(t[5]=(...p)=>a.closeTutorial&&a.closeTutorial(...p))}," No "),e("button",{class:"btn primary-btn mx-0",onClick:t[6]||(t[6]=(...p)=>a.startTutorial&&a.startTutorial(...p))}," Yes ")])])])):d("",!0),l.userDetailsStore.role=="student"&&r.showTutorialTip1?(i(),n("div",at,[r.showTutorialTip1&&l.userDetailsStore.role=="student"?(i(),n("div",ut,[e("div",null,[dt,e("button",{class:"btn primary-btn",onClick:t[7]||(t[7]=p=>a.progressTutorial(1))}," next ")])])):d("",!0)])):d("",!0)],64)}const pt=f(Ps,[["render",ct],["__scopeId","data-v-667433d1"]]);export{pt as default};
