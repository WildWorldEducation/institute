import"./transform-af9a74a2.js";import{_ as g}from"./main-3e053fd3.js";import{u as x,l as v}from"./line-85f04100.js";import{m as l}from"./continuous-7328829e.js";import{l as y,a as _,b as D}from"./linear-5b188edc.js";import{s as k}from"./string-dd82ab4a.js";function p(i,r){let a;if(r===void 0)for(const e of i)e!=null&&(a>e||a===void 0&&e>=e)&&(a=e);else{let e=-1;for(let n of i)(n=r(n,++e,i))!=null&&(a>n||a===void 0&&n>=n)&&(a=n)}return a}const $={name:"StudentDurationPerDayLineChart",props:["data","colour","averageDuration","userRole","studentName"],data(){return{}},mounted(){const i=this.data;this.userRole=="instructor"||this.userRole=="partner",this.userRole=="school_admin";const r=[{name:this.studentName,values:i},{name:"school average",values:this.averageDuration}],a=document.getElementById("time-chart-container").clientWidth,e=document.getElementById("time-chart-container").clientHeight,n=20,c=0,u=20,s=30,d=x([p(r,t=>p(t.values,o=>o.date)),l(r,t=>l(t.values,o=>o.date))],[s,a-c]),f=y([0,l(r,t=>l(t.values,o=>o.formattedQuantity))],[e-u,n]),h=v().x(t=>d(t.date)).y(t=>f(t.formattedQuantity)),m=k("#time-chart-container").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",[0,0,+Math.min(a,e),+Math.min(a,e)]).attr("preserveAspectRatio","xMinYMin");m.append("g").style("font-size","12px").attr("transform",`translate(0,${e-u})`).call(_(d).ticks(i.length/2).tickSizeOuter(0)),m.append("g").style("font-size","12px").attr("transform",`translate(${s},0)`).call(D(f).ticks(e/80)).call(t=>t.selectAll(".tick line").clone().attr("x2",a-s-c).attr("stroke-opacity",.1)).call(t=>t.append("text").attr("x",-s).attr("y",15).style("font-size","16px").attr("fill","currentColor").attr("text-anchor","start").text("â†‘ Duration in minutes")),m.append("g").selectAll("path").data(r).join("path").attr("fill","none").attr("stroke",t=>t.name=="school average"?"#ff7f0e":"purple").attr("stroke-width",2).attr("d",t=>h(t.values))}};function R(i,r,a,e,n,c){return null}const A=g($,[["render",R]]);export{A as S};
