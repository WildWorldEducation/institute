import{i as k}from"./linear-ebf0540e.js";class y extends Map{constructor(e,u=j){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:u}}),e!=null)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(M(this,e))}has(e){return super.has(M(this,e))}set(e,u){return super.set(I(this,e),u)}delete(e){return super.delete(R(this,e))}}function M({_intern:n,_key:e},u){const t=e(u);return n.has(t)?n.get(t):u}function I({_intern:n,_key:e},u){const t=e(u);return n.has(t)?n.get(t):(n.set(t,u),u)}function R({_intern:n,_key:e},u){const t=e(u);return n.has(t)&&(u=n.get(t),n.delete(t)),u}function j(n){return n!==null&&typeof n=="object"?n.valueOf():n}function A(n,e,u){n=+n,e=+e,u=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+u;for(var t=-1,r=Math.max(0,Math.ceil((e-n)/u))|0,i=new Array(r);++t<r;)i[t]=n+t*u;return i}const w=Symbol("implicit");function b(){var n=new y,e=[],u=[],t=w;function r(i){let o=n.get(i);if(o===void 0){if(t!==w)return t;n.set(i,o=e.push(i)-1)}return u[o%u.length]}return r.domain=function(i){if(!arguments.length)return e.slice();e=[],n=new y;for(const o of i)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(i){return arguments.length?(u=Array.from(i),r):u.slice()},r.unknown=function(i){return arguments.length?(t=i,r):t},r.copy=function(){return b(e,u).unknown(t)},k.apply(r,arguments),r}function O(){var n=b().unknown(void 0),e=n.domain,u=n.range,t=0,r=1,i,o,f=!1,d=0,c=0,h=.5;delete n.unknown;function g(){var a=e().length,l=r<t,s=l?r:t,p=l?t:r;i=(p-s)/Math.max(1,a-d+c*2),f&&(i=Math.floor(i)),s+=(p-s-i*(a-d))*h,o=i*(1-d),f&&(s=Math.round(s),o=Math.round(o));var m=A(a).map(function(x){return s+i*x});return u(l?m.reverse():m)}return n.domain=function(a){return arguments.length?(e(a),g()):e()},n.range=function(a){return arguments.length?([t,r]=a,t=+t,r=+r,g()):[t,r]},n.rangeRound=function(a){return[t,r]=a,t=+t,r=+r,f=!0,g()},n.bandwidth=function(){return o},n.step=function(){return i},n.round=function(a){return arguments.length?(f=!!a,g()):f},n.padding=function(a){return arguments.length?(d=Math.min(1,c=+a),g()):d},n.paddingInner=function(a){return arguments.length?(d=Math.min(1,a),g()):d},n.paddingOuter=function(a){return arguments.length?(c=+a,g()):c},n.align=function(a){return arguments.length?(h=Math.max(0,Math.min(1,a)),g()):h},n.copy=function(){return O(e(),[t,r]).round(f).paddingInner(d).paddingOuter(c).align(h)},k.apply(g(),arguments)}function v(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return v(e())},n}function S(){return v(O.apply(null,arguments).paddingInner(1))}export{O as b,b as o,S as p};
