import{_ as v,e as y,o as r,c as l,a as e,w as h,s as f,h as _,y as D,r as S,b as c,F as m,x as b,f as w,L as A,j as g,t as p}from"./main-4e7f690a.js";const x={setup(){return{userDetailsStore:y()}},data(){return{theme:this.userDetailsStore.theme}},created(){},async mounted(){await this.userDetailsStore.getUserDetails()},methods:{chooseTheme(){this.userDetailsStore.updateTheme(this.theme)}}},I={class:"mb-3 text-start themes"};function k(i,t,u,a,o,n){return r(),l("div",null,[t[3]||(t[3]=e("h2",{class:"secondary-heading white-heading h4"},"Theme",-1)),e("div",I,[h(e("select",{class:"form-select",onChange:t[0]||(t[0]=d=>n.chooseTheme()),"onUpdate:modelValue":t[1]||(t[1]=d=>o.theme=d)},t[2]||(t[2]=[e("option",{value:"original"},"Original",-1),e("option",{value:"instructor"},"Instructor",-1),e("option",{value:"editor"},"Editor",-1)]),544),[[f,o.theme]])])])}const C=v(x,[["render",k],["__scopeId","data-v-af51cfe5"]]),P={setup(){const i=y(),t=_(),u=D();return i.getUserDetails(),u.getInstructors(),{userDetailsStore:i,sessionDetailsStore:t,userStore:u}},data(){return{instructorID:this.userDetailsStore.instructorId,selectedInstructorName:"",showWarnModal:!1,isEditing:!1,isAudioAutoPlay:!!this.userDetailsStore.isAudioAutoPlay}},components:{ThemeDetails:C},methods:{isInstructorLocked(){return this.userDetailsStore.role==="student"&&this.userDetailsStore.instructorId&&this.userDetailsStore.instructorId.trim()!==""},async updateInstructor(i){if(!this.isInstructorLocked())try{const t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({instructor_id:i})};await fetch(`/users/${this.userDetailsStore.userId}/edit/instructor`,t),this.userDetailsStore.getUserDetails(),this.isEditing=!1,this.showWarnModal=!1}catch(t){console.error("Error updating instructor:",t)}},cancelEdit(){this.isEditing=!1},handleInstructorChange(i){this.instructorID=i.target.value,this.selectedInstructorName=i.target.options[i.target.selectedIndex].text},async toggleAutoPlay(){await this.userDetailsStore.updateAudioAutoPlay(this.isAudioAutoPlay)}},mounted(){this.isAudioAutoPlay=!!this.userDetailsStore.isAudioAutoPlay},watch:{"userDetailsStore.isAudioAutoPlay":function(i){this.isAudioAutoPlay=!!i}}};const E={class:"container legend-div"},T={class:"mt-2 d-flex row gap-4 justify-content-between"},V={key:0,class:"form"},N={class:"profile-input"},U={key:0},M=["value"],B={key:0,class:"mt-2"},L={key:1},W={class:"profile-input"},j=["value"],z={class:"mt-2 d-flex gap-2"},O={key:1,class:"profile-input"},F={class:"setting-container d-flex align-items-center"},Y={class:"toggle-switch-container me-3"},q={class:"toggle-switch"},H={key:0},J={id:"myModal",class:"modal"},G={class:"warn-content d-flex flex-column"},K={class:"d-flex flex-row"},Q={id:"instructor-name-text"},R={class:"d-flex flex-row-reverse gap-2"};function X(i,t,u,a,o,n){const d=S("ThemeDetails");return r(),l(m,null,[e("div",E,[e("div",T,[a.userDetailsStore.role==="student"?(r(),l("div",V,[e("div",N,[e("div",null,[t[10]||(t[10]=e("h2",{class:"secondary-heading h4 white-heading"}," Instructor ",-1)),o.isEditing?(r(),l("div",L,[e("div",W,[h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.instructorID=s),class:"form-select",onChange:t[2]||(t[2]=(...s)=>n.handleInstructorChange&&n.handleInstructorChange(...s))},[t[9]||(t[9]=e("option",{value:"",selected:"",disabled:""}," Please choose an instructor ",-1)),(r(!0),l(m,null,b(a.userStore.instructors,s=>(r(),l("option",{key:s.id,value:s.id},p(s.username),9,j))),128))],544),[[f,o.instructorID]])]),e("div",z,[e("button",{class:"btn red-btn",onClick:t[3]||(t[3]=(...s)=>n.cancelEdit&&n.cancelEdit(...s))}," Cancel "),e("button",{class:"btn primary-btn",onClick:t[4]||(t[4]=s=>o.showWarnModal=!0)}," Submit ")])])):(r(),l("div",U,[e("input",{type:"text",class:"form-control",readonly:"",value:a.userDetailsStore.instructorUsername||"No instructor chosen"},null,8,M),n.isInstructorLocked()?c("",!0):(r(),l("div",B,[e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=s=>o.isEditing=!0)}," Edit ")]))]))])])])):c("",!0),w(d),a.userDetailsStore.role==="student"?(r(),l("div",O,[t[13]||(t[13]=e("h2",{class:"secondary-heading h4 mb-3 white-heading"}," AI Assistant Settings ",-1)),e("div",F,[e("div",Y,[e("label",q,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>o.isAudioAutoPlay=s),onChange:t[6]||(t[6]=(...s)=>n.toggleAutoPlay&&n.toggleAutoPlay(...s)),class:"toggle-input"},null,544),[[A,o.isAudioAutoPlay]]),t[11]||(t[11]=e("span",{class:"toggle-slider"},null,-1))])]),t[12]||(t[12]=e("div",{class:"d-flex align-items-center"},[e("span",{class:"setting-label"}," Auto-play AI tutor speech ")],-1))])])):c("",!0)])]),o.showWarnModal?(r(),l("div",H,[e("div",J,[e("div",G,[e("div",K,[t[16]||(t[16]=e("div",{class:"me-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"35",height:"35",fill:"#eed888"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})])],-1)),e("div",null,[t[14]||(t[14]=g(" You can only choose your instructor once. Are you sure you want   ",-1)),e("span",Q,p(o.selectedInstructorName),1),t[15]||(t[15]=g("   to be your instructor. ",-1))])]),e("div",R,[e("button",{class:"btn primary-btn",onClick:t[7]||(t[7]=s=>n.updateInstructor(o.instructorID))}," Yes "),e("button",{class:"btn red-btn",onClick:t[8]||(t[8]=s=>o.showWarnModal=!1)}," No ")])])])])):c("",!0)],64)}const $=v(P,[["render",X],["__scopeId","data-v-c1bab57c"]]);export{$ as default};
