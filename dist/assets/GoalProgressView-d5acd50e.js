import{_ as p,e as h,J as m,r as w,o as e,c as l,a as r,F as S,x as k,p as i,t as u,f as _,k as f,b as v}from"./main-b1bef2a3.js";const x={setup(){const t=h(),s=m();return{userDetailsStore:t,userSkillsStore:s}},data(){return{skillId:this.$route.params.skillId,goalSteps:[]}},async created(){await this.getGoalSteps(),await this.userSkillsStore.getFilteredUnnestedList(this.userDetailsStore.userId);for(let t=0;t<this.goalSteps.length;t++){let s=this.userSkillsStore.filteredUnnestedList.find(a=>a.id==this.goalSteps[t].skill_id);this.goalSteps[t].name=s.name,this.goalSteps[t].url=s.url,this.goalSteps[t].isMastered=s.is_mastered}},methods:{async getGoalSteps(){const t=await fetch("/user-skills/"+this.userDetailsStore.userId+"/"+this.skillId+"/goal-steps/list");this.goalSteps=await t.json()},async deleteGoal(){if(confirm("Are you sure you want to delete this goal?")==!0){const s=await fetch("/user-skills/"+this.userDetailsStore.userId+"/"+this.skillId,{method:"DELETE"});s.error&&console.log(s.error),this.$router.push("/")}}}},y={class:"container p-3 bg-light rounded"},L={class:"mb-2"},z={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"primary-icon",width:"20",height:"20"},M={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"primary-icon",width:"20",height:"20"},b={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"primary-icon",width:"20",heigth:"20"};function D(t,s,a,G,n,c){const g=w("router-link");return e(),l("div",y,[s[6]||(s[6]=r("h1",{class:"heading"},"Goal Progress",-1)),(e(!0),l(S,null,k(n.goalSteps,(o,d)=>(e(),l("p",L,[i(u(d+1)+") ",1),o.isMastered!=1?(e(),l("svg",z,s[1]||(s[1]=[r("path",{d:"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"},null,-1)]))):(e(),l("svg",M,s[2]||(s[2]=[r("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},null,-1)]))),s[4]||(s[4]=i("   ",-1)),_(g,{class:"goals",to:`/skills/${o.url}`,target:"_blank"},{default:f(()=>[i(u(o.name),1)]),_:2},1032,["to"]),s[5]||(s[5]=i("   ",-1)),d+1==n.goalSteps.length?(e(),l("svg",b,s[3]||(s[3]=[r("path",{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"},null,-1)]))):v("",!0)]))),256)),r("button",{class:"btn red-btn mt-3",onClick:s[0]||(s[0]=o=>c.deleteGoal())},"Delete")])}const B=p(x,[["render",D]]);export{B as default};
