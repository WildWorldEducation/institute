import{_ as n,o as i,c as r}from"./main-5d815307.js";const a={data(){return{form:{name:"",email:"",phone:"",donation:0},message:"",stripe:null}},async mounted(){},methods:{submit(){fetch("http://localhost:3000/subscriptions/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:1,quantity:3},{id:2,quantity:1}]})}).then(e=>e.ok?e.json():e.json().then(t=>Promise.reject(t))).then(({url:e})=>{window.location=e}).catch(e=>{console.error(e.error)})},async handleSubmit(){try{const t=await(await fetch("/subscriptions/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({donation:this.form.donation})})).json(),{error:s}=await this.stripe.redirectToCheckout({sessionId:t.id});s&&(this.message=s.message)}catch(e){this.message=e.message}}},computed:{}};function c(e,t,s,d,p,o){return i(),r("button",{onClick:t[0]||(t[0]=u=>o.submit())},"Checkout")}const h=n(a,[["render",c],["__scopeId","data-v-01c28e26"]]);export{h as default};
