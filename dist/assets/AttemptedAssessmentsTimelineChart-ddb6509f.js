import{m as h}from"./main-fbe756c6.js";import{_ as d,f as u,K as g,o as p,c as D}from"./main-8fc0d95d.js";const _={setup(){const e=u(),t=g();return{userDetailsStore:e,userSkillsStore:t}},props:["data"],data(){return{chartOrientation:"horizontal"}},async mounted(){this.drawTimeLineChartWithMilesStone(),this.calculateChartLength(this.data)},methods:{drawTimeLineChartWithMilesStone(){h("#passed-assessments-timeline").mapping({timestamp:"mastered_date",text:"labelName"}).aggregateBy("week").labelFormat("%d-%m-%Y").optimize(!0).orientation(this.chartOrientation).renderCallback(()=>{if(this.changeLabelColor(),this.chartOrientation==="vertical"){const t=document.getElementsByClassName("milestones")[0];t.style.marginLeft="30%"}}).render(this.data),this.changeBulletColor(),this.changeLabelColor()},calculateChartLength(e){const t=e[0].date,s=e[e.length-1].date,n=this.getDaysBetweenDates(t,s),i=e.length;this.chartWidth=n*3+i*50+"px"},getDaysBetweenDates(e,t){const s=new Date(e),n=new Date(t),i=s.getTime(),a=n.getTime(),l=Math.abs(a-i),o=1e3*60*60*24;return Math.round(l/o)},changeBulletColor(){const t=document.getElementsByClassName("milestones")[0].getElementsByClassName("milestones__group");for(let s=0;s<t.length;s++){const n=t[s],a=n.getElementsByClassName("milestones-link-label")[0].id,l=this.data.find(m=>m.id===parseInt(a)),r=n.getElementsByClassName("milestones__group__bullet")[0],c=this.mapSkillLevelWithColor(l.level);r.style.backgroundColor=c}},changeLabelColor(){this.data.forEach(e=>{const t=document.getElementById(e.id),s=this.data.find(i=>parseInt(t.id)===i.id),n=this.mapSkillLevelWithColor(s.level);t.style.color=n})},mapSkillLevelWithColor(e){switch(e){case"grade_school":return"#116b62";case"middle_school":return"#168216";case"high_school":return"#7d6a02";case"college":return"#ffa500";case"phd":return"#9e0000"}},handleOrientationBtnClick(e){this.chartOrientation=e,this.drawTimeLineChartWithMilesStone()}}},C={id:"passed-assessments-timeline"};function f(e,t,s,n,i,a){return p(),D("div",C)}const L=d(_,[["render",f]]);const v={setup(){const e=u(),t=g();return{userDetailsStore:e,userSkillsStore:t}},props:["data"],data(){return{chartOrientation:"horizontal"}},async mounted(){this.drawTimeLineChartWithMilesStone(),this.calculateChartLength(this.data)},methods:{drawTimeLineChartWithMilesStone(){h("#attempted-assessments-timeline").mapping({timestamp:"date",text:"labelName"}).aggregateBy("week").labelFormat("%d-%m-%Y").optimize(!0).orientation(this.chartOrientation).renderCallback(()=>{if(this.changeLabelColor(),this.chartOrientation==="vertical"){const t=document.getElementsByClassName("milestones")[0];t.style.marginLeft="30%"}}).render(this.data),this.changeBulletColor(),this.changeLabelColor()},calculateChartLength(e){const t=e[0].date,s=e[e.length-1].date,n=this.getDaysBetweenDates(t,s),i=e.length;this.chartWidth=n*3+i*50+"px"},getDaysBetweenDates(e,t){const s=new Date(e),n=new Date(t),i=s.getTime(),a=n.getTime(),l=Math.abs(a-i),o=1e3*60*60*24;return Math.round(l/o)},changeBulletColor(){const t=document.getElementsByClassName("milestones")[0].getElementsByClassName("milestones__group");for(let s=0;s<t.length;s++){const n=t[s],a=n.getElementsByClassName("milestones-link-label")[0].id,l=this.data.find(m=>m.id===parseInt(a)),r=n.getElementsByClassName("milestones__group__bullet")[0],c=this.mapSkillLevelWithColor(l.level);r.style.backgroundColor=c}},changeLabelColor(){this.data.forEach(e=>{const t=document.getElementById(e.id),s=this.data.find(i=>parseInt(t.id)===i.id),n=this.mapSkillLevelWithColor(s.level);t.style.color=n})},mapSkillLevelWithColor(e){switch(e){case"grade_school":return"#116b62";case"middle_school":return"#168216";case"high_school":return"#7d6a02";case"college":return"#ffa500";case"phd":return"#9e0000"}},handleOrientationBtnClick(e){this.chartOrientation=e,this.drawTimeLineChartWithMilesStone()}}},k={id:"attempted-assessments-timeline"};function b(e,t,s,n,i,a){return p(),D("div",k)}const S=d(v,[["render",b]]);export{S as A,L as P};
