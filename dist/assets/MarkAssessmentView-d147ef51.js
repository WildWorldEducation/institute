import{_ as c,r as h,o as e,c as n,a as r,F as _,z as S,f as p,l as f,t as l,p as k,g,e as y,h as L,A,k as v,b as I}from"./main-c5bce368.js";import{u as w}from"./AssessmentsStore-c956f407.js";import{u as D}from"./InstructorStudentsStore-ce1fceb9.js";const $={props:{assessments:{type:Array,required:!0}},setup(){return{}},data(){return{}},computed:{},methods:{}},b=s=>(k("data-v-1b386f44"),s=s(),g(),s),x={class:"container-fluid"},M=b(()=>r("h2",{class:"secondary-heading h4"},"Mark Assessments",-1)),U={id:"list-body"},N={key:0},B={class:"assessment"},V={id:"student-name"},j={id:"skill-name"},C={id:"date"},F={key:1,class:"empty-message"};function R(s,t,i,o,a,m){const u=h("RouterLink");return e(),n("div",x,[M,r("div",U,[i.assessments.length>0?(e(),n("div",N,[(e(!0),n(_,null,S(this.assessments,d=>(e(),n("div",B,[p(u,{class:"assessment-link",to:"/mark-assessment/"+d.id},{default:f(()=>[r("span",V,l(d.studentUsername)+", ",1),r("span",j,l(d.skillName)+", ",1),r("span",C,l(d.date),1)]),_:2},1032,["to"])]))),256))])):(e(),n("div",F," There are no assessments to be marked currently. "))])])}const q=c($,[["render",R],["__scopeId","data-v-1b386f44"]]),z={setup(){const s=y(),t=w(),i=L(),o=A(),a=D();return s.getUserDetails(),{userDetailsStore:s,assessmentsStore:t,usersStore:o,skillsStore:i,instructorStudentsStore:a}},data(){return{assessments:[],studentIds:[]}},components:{MarkAssessment:q},async created(){this.userDetailsStore.role=="instructor"&&await this.fetchAssessments()},methods:{async fetchAssessments(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)}}},E={class:"container"};function T(s,t,i,o,a,m){const u=h("MarkAssessment");return e(),n("div",E,[o.userDetailsStore.role=="instructor"?(e(),v(u,{key:0,assessments:a.assessments},null,8,["assessments"])):I("",!0)])}const K=c(z,[["render",T]]);export{K as default};
