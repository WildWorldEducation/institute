import{u as l}from"./CohortsStore-f30fe1f4.js";import{_ as h,f as d,r as u,o as i,c as e,a as s,t as p,g as m}from"./main-51e65b9a.js";import{C as k}from"./CohortSkillActivityChart-ea05d3e1.js";import"./transform-35b9fb9e.js";import"./band-039a8264.js";import"./linear-c968f95f.js";import"./ordinal-451cde74.js";const y={setup(){const t=l(),o=d();return{cohortsStore:t,userDetailsStore:o}},data(){return{cohortId:this.$route.params.cohortId,cohortName:"",visitedSkills:[],skillActivities:[]}},components:{CohortSkillActivityChart:k},async created(){this.cohortsStore.cohorts.length<1&&await this.cohortsStore.getCohorts(this.userDetailsStore.userId);const t=this.cohortsStore.cohorts.find(o=>o.id==this.cohortId);t?(this.cohortName=t.name,await this.getCohortSkillActivityReport()):this.cohortId==="all-students"?(this.cohortName="All Students",await this.getAllStudentsSkillActivityReport()):console.error("Cohort not found for ID:",this.cohortId),this.skillActivities=this.skillActivities.map(o=>({...o,quantity:this.millisecondsToHours(o.quantity,2)}))},mounted(){},methods:{async getCohortSkillActivityReport(){try{const t=await fetch(`/student-analytics/cohort-skill-activity-report/${this.cohortId}`);if(!t.ok)throw new Error("Network response was not ok");this.skillActivities=await t.json()}catch(t){console.error("Error fetching skill activity report:",t)}},async getAllStudentsSkillActivityReport(){try{const t=await fetch(`/student-analytics/all-student-cohort-activity/instructor/${this.userDetailsStore.userId}`);if(!t.ok)throw new Error("Network response was not ok");this.skillActivities=await t.json()}catch(t){console.error("Error fetching skill activity report for all students:",t)}},visitedDate(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},millisecondsToHours(t,o){return(t/36e5).toFixed(o)}}},v={class:"container"},_={class:"d-flex justify-content-between w-100"},f=s("h1",{class:"heading"},"Skill Activity Report",-1),S={class:"secondary-heading h3"},A={key:0,class:"mb-4"},g={key:1},w=s("p",null,"No skills visited by this cohort.",-1),C=[w];function D(t,o,c,n,r,I){const a=u("CohortSkillActivityChart");return i(),e("div",v,[s("span",_,[f,s("h2",S,p(r.cohortName),1)]),this.skillActivities.length>0?(i(),e("div",A,[m(a,{data:r.skillActivities,colour:"#4CAF50"},null,8,["data"])])):(i(),e("div",g,C))])}const H=h(y,[["render",D]]);export{H as default};
