import{_ as E,o,c as d,a as t,p,f as v,l as y,j as g,t as a,b as h,T as C,aa as k,r as f,w as _,A as D,F as L,x as S,k as w,s as q,O as H,e as B,y as N}from"./main-5a4c8e44.js";import{H as b}from"./htmldiff.min-310ee87f.js";import{d as T}from"./index.es6-593402c1.js";import{L as A}from"./loadingModal-fb6c20fd.js";const O={setup(){},data(){return{showDetails:!1,addedWords:"",removedWords:"",addedWordsCount:0,removedWordsCount:0}},props:["value","valueEdited"],computed:{},mounted(){this.getDiffDetails(this.valueEdited,this.value)},methods:{getDiffDetails(i,e){const n=T(this.extractContent(e),this.extractContent(i));n.forEach((r,s)=>{r.added&&!r.removed&&(this.addedWordsCount++,this.addedWords=this.addedWords+r.value,s+1!==n.length&&(this.addedWords=this.addedWords+", ")),r.removed&&!r.added&&(this.removedWordsCount++,this.removedWords=this.removedWords+r.value,s+1!==n.length&&(this.removedWords=this.removedWords+", "))})},extractContent(i){return new DOMParser().parseFromString(i,"text/html").documentElement.textContent}}},j={class:"details-btn"},U={key:0,class:"diff-details-container"},W={class:"d-flex flex-column details-row"},R={class:"d-flex"},V={class:"add-color"},P={class:"add-color"},J={class:"words-add-div details-row"},F={class:"d-flex flex-column"},G={class:"remove-color"},Z={class:"words-removed-div details-row"};function K(i,e,n,r,s,l){return o(),d("div",j,[t("div",{onClick:e[0]||(e[0]=m=>s.showDetails=!s.showDetails),class:"d-flex align-items-center details-btn-text"},[e[2]||(e[2]=t("div",{class:""},"See Details",-1)),t("div",{class:p(["my-auto ms-0",{"expand-arrow":s.showDetails,"minimize-arrow":!s.showDetails}])},e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",class:"ms-1",fill:"#a48be7"},[t("path",{d:"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"})],-1)]),2)]),v(C,{name:"expand"},{default:y(()=>[s.showDetails?(o(),d("div",U,[t("div",W,[t("div",R,[t("div",V,[e[3]||(e[3]=g(" Add: ",-1)),t("span",P,"+"+a(s.addedWordsCount),1)])]),t("div",J," [ "+a(s.addedWords)+" ] ",1)]),e[4]||(e[4]=t("hr",null,null,-1)),t("div",F,[t("div",G," Removed: -"+a(s.removedWordsCount),1),t("div",Z," [ "+a(s.removedWords)+" ] ",1)])])):h("",!0)]),_:1})])}const X=E(O,[["render",K],["__scopeId","data-v-64bb5d61"]]);const Y={setup(){},data(){return{skillId:this.$route.params.contentId,userId:this.$route.params.userId,skill:{},skillEdit:{},comment:"",isEditMode:!1,edited:!1,diffHtml:"",introductionDiff:"",showEditMastery:!1,showEditIntro:!1,showImageComparison:!0,showIconComparison:!0,showSkillMasteryChange:!0,showSkillIntroChange:!0,showHighLight:!0,showIntroHighLight:!0,isSkillChanged:{image:!1,icon:!1,mastery_requirements:!1,introduction:!1},loadingStatus:"",showLoadingModal:!1}},components:{MasteryEditDetails:X,LoadingModal:A},async created(){await this.getSkillEdit(),await this.getSkill(),this.skill.mastery_requirements!==this.skillEdit.mastery_requirements&&(this.isSkillChanged.mastery_requirements=!0,this.diffHtml=b.execute(this.skill.mastery_requirements,this.skillEdit.mastery_requirements)),this.skill.introduction!==this.skillEdit.introduction&&(this.isSkillChanged.introduction=!0,this.introductionDiff=b.execute(this.skill.introduction||"",this.skillEdit.introduction)),this.skill.image_url!==this.skillEdit.image&&(this.isSkillChanged.image=!0),this.skill.icon_url!==this.skillEdit.icon&&(this.isSkillChanged.icon=!0),$("#introduction-summernote").summernote("code",this.skillEdit.introduction),$("#introduction-summernote").next().find(".note-editable").attr("contenteditable",!1),$("#mastery-requirement-summernote").summernote("code",this.skillEdit.mastery_requirements),$("#mastery-requirement-summernote").next().find(".note-editable").attr("contenteditable",!1)},methods:{closeModal(){this.showLoadingModal=!1},async getSkillEdit(){await fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId).then(function(i){return i.json()}).then(i=>{this.skillEdit=i,this.comment=i.comment})},async getSkill(){await fetch("/skills/show/"+this.skillId).then(function(i){return i.json()}).then(i=>{this.skill=i})},dismissEdit(){if(confirm("Delete this edit?")){const i=fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"});i.error&&console.log(i.error),this.$router.back()}},dismissImage(){confirm("Dismiss the image? This action is permanent!")&&(this.skillEdit.image=this.skill.image_thumbnail_url)},dismissIcon(){confirm("Dismiss the icon? This action is permanent!")&&(this.skillEdit.icon=this.skill.icon_url)},applyMasteryChange(){this.$parent.disableBtn=!1,this.skillEdit.mastery_requirements=$("#summernote").summernote("code"),this.edited=!0,this.diffHtml=b.execute(this.skill.mastery_requirements,this.skillEdit.mastery_requirements),this.showEditMastery=!1},cancelEditMastery(){this.showEditMastery=!1,this.showEditIntro||(this.$parent.disableBtn=!1)},applyIntroChange(){this.$parent.disableBtn=!1,this.edited=!0,this.introductionDiff=b.execute(this.skill.introduction||"",this.skillEdit.introduction),this.showEditIntro=!1},cancelEditIntro(){this.showEditIntro=!1,this.showEditMastery||(this.$parent.disableBtn=!1)},edit(){this.showEditMastery=!0,this.showEditIntro=!0,this.isEditMode=!0,this.$parent.disableBtn=!0,k(()=>{$("#summernote").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]}).next().find(".note-editable").attr("contenteditable",!0)})},saveEdit(){this.showLoadingModal=!0;const i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mastery_requirements:this.skillEdit.mastery_requirements,isImageUpdated:this.isSkillChanged.image,image:this.skillEdit.image,isIconUpdated:this.isSkillChanged.icon,icon:this.skillEdit.icon,comment:this.comment,introduction:this.skillEdit.introduction,edit:this.edited})};var e="/skills/"+this.skillEdit.skill_id+"/edit-for-review/save";fetch(e,i).then(n=>{n.ok?this.loadingStatus="success":this.loadingStatus="fails"}).then(()=>fetch("/skills/submitted-for-review/"+this.skillId+"/"+this.userId,{method:"DELETE"})).then(n=>{n.error&&console.log(n.error),this.$router.back()}).catch(n=>{console.error("Error saving edit:",n),this.loadingStatus="fails"})}}},ee={class:"mb-2 container-fluid bg-light rounded p-3"},te={class:"minor-text"},se={class:"minor-text"},ie={key:0,class:"mt-5"},ne={class:"compare-container"},oe={class:"d-flex align-items-center"},le=["title"],de={key:0},re={class:"d-flex flex-lg-row flex-column"},ae={class:"old-container icon-container"},he=["src"],ce={class:"new-container icon-container"},me=["src"],ue={key:1,class:"mt-5"},ge={class:"compare-container"},we={class:"d-flex align-items-center"},pe=["title"],ve={key:0},fe={class:"d-flex flex-lg-row flex-column"},ye={class:"old-container icon-container"},Ce=["src"],Ee={class:"new-container icon-container"},_e=["src"],xe={key:2,class:"compare-container mt-5"},be={class:"d-flex align-items-center"},ke=["title"],Me={key:0},De={class:"d-flex flex-row-reverse me-3 mt-3"},Le={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"30",height:"30",fill:"white",class:"ms-2"},Ie={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"30",height:"30",fill:"white",class:"ms-2"},Qe={key:0,class:"ms-auto me-3 mt-3 explain-div"},He={class:"d-flex flex-lg-row flex-column mt-4"},Te={class:"old-container skill-mastery-container d-none d-lg-block"},ze=["innerHTML"],Se={class:"new-container skill-mastery-container"},qe=["innerHTML"],Be=["innerHTML"],Ne={key:3,class:"mt-5 compare-container"},Ae={class:"d-flex flex-row-reverse gap-3"},Oe={key:4,class:"compare-container mt-5"},je={class:"d-flex align-items-center"},Ue=["title"],We={key:0},Re={class:"d-flex flex-row-reverse me-3 mt-3"},Ve={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"30",height:"30",fill:"white",class:"ms-2"},Pe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"30",height:"30",fill:"white",class:"ms-2"},Je={key:0,class:"ms-auto me-3 mt-3 explain-div"},Fe={class:"d-flex flex-lg-row flex-column mt-4"},Ge={class:"old-container skill-mastery-container d-none d-lg-block"},Ze=["innerHTML"],Ke={class:"new-container skill-mastery-container"},Xe=["innerHTML"],Ye=["innerHTML"],$e={key:5,class:"mt-5 compare-container"},et={class:"d-flex flex-row-reverse gap-3"},tt={class:"mt-5 w-lg-50 w-md-75 w-100 compare-container"},st={class:"d-flex flex-md-row flex-column gap-2"},it={class:"comment-text"};function nt(i,e,n,r,s,l){const m=f("MasteryEditDetails"),u=f("LoadingModal");return o(),d(L,null,[t("div",ee,[e[51]||(e[51]=t("h1",{class:"heading"},"Review Suggested Update",-1)),t("p",null,a(i.$parent.userThatSubmittedEdit.username)+" (reputation score: "+a(i.$parent.userThatSubmittedEdit.reputationScore)+") suggested the following changes to this skill page. ",1),e[52]||(e[52]=t("hr",null,null,-1)),e[53]||(e[53]=t("h2",{class:"secondary-heading h4"},"Skill",-1)),t("div",te,a(s.skill.name),1),e[54]||(e[54]=t("h2",{class:"secondary-heading h4 mt-2"},"Level",-1)),t("div",se,a(s.skill.level),1),s.isSkillChanged.image?(o(),d("div",ie,[t("div",ne,[t("div",oe,[e[15]||(e[15]=t("h2",{class:"secondary-heading h4 mb-3"},"Image",-1)),t("div",{onClick:e[0]||(e[0]=c=>s.showImageComparison=!s.showImageComparison),class:p([s.showImageComparison?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showImageComparison?"minimize":"expand"},e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",class:"primary-icon"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,le)]),v(C,{name:"dropdown"},{default:y(()=>[s.showImageComparison?(o(),d("div",de,[t("div",re,[t("div",ae,[e[16]||(e[16]=t("div",{class:"container-heading"},"Original",-1)),t("img",{src:s.skill.image_thumbnail_url,class:"icon-image"},null,8,he)]),e[18]||(e[18]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",class:"d-none d-lg-block my-auto mx-1 primary-icon"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),e[19]||(e[19]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",height:"50",width:"50",class:"mx-auto my-2 d-lg-none primary-icon"},[t("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),t("div",ce,[e[17]||(e[17]=t("div",{class:"container-heading"},"Changed",-1)),t("img",{src:s.skillEdit.image,class:"icon-image"},null,8,me)])]),t("div",null,[t("button",{class:"btn red-btn ms-auto me-0 mt-3",onClick:e[1]||(e[1]=c=>l.dismissImage())},e[20]||(e[20]=[g(" Revert    ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",fill:"white"},[t("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)]))])])):h("",!0)]),_:1})])])):h("",!0),s.isSkillChanged.icon?(o(),d("div",ue,[t("div",ge,[t("div",we,[e[22]||(e[22]=t("h2",{class:"secondary-heading h4 mb-3"},"Icon",-1)),t("div",{onClick:e[2]||(e[2]=c=>s.showIconComparison=!s.showIconComparison),class:p([s.showIconComparison?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showIconComparison?"minimize":"expand"},e[21]||(e[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",class:"primary-icon"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,pe)]),v(C,{name:"dropdown"},{default:y(()=>[s.showIconComparison?(o(),d("div",ve,[t("div",fe,[t("div",ye,[e[23]||(e[23]=t("div",{class:"container-heading"},"Original",-1)),t("img",{src:s.skill.icon_url,class:"icon-image"},null,8,Ce)]),e[25]||(e[25]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",class:"d-none d-lg-block my-auto mx-1 primary-icon"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),e[26]||(e[26]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",height:"50",width:"50",class:"mx-auto my-2 d-lg-none primary-icon"},[t("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),t("div",Ee,[e[24]||(e[24]=t("div",{class:"container-heading"},"Changed",-1)),t("img",{src:s.skillEdit.icon,class:"icon-image"},null,8,_e)])]),t("div",null,[t("button",{class:"btn red-btn ms-auto me-0 mt-3",onClick:e[3]||(e[3]=c=>l.dismissIcon())},e[27]||(e[27]=[g(" Revert    ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",fill:"white"},[t("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)]))])])):h("",!0)]),_:1})])])):h("",!0),s.isSkillChanged.introduction&&!s.showEditIntro?(o(),d("div",xe,[t("div",be,[e[29]||(e[29]=t("h2",{class:"secondary-heading h4"},"Introduction",-1)),t("div",{onClick:e[4]||(e[4]=c=>s.showSkillIntroChange=!s.showSkillIntroChange),class:p(["mt-2",s.showSkillIntroChange?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showSkillIntroChange?"minimize":"expand"},e[28]||(e[28]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",class:"primary-icon"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,ke)]),v(C,{name:"dropdown"},{default:y(()=>[s.showSkillIntroChange?(o(),d("div",Me,[t("div",De,[t("div",{class:"btn green-btn d-flex align-items-center",onClick:e[5]||(e[5]=c=>s.showIntroHighLight=!s.showIntroHighLight)},[g(a(s.showIntroHighLight?"Hide":"Show")+" High Light ",1),s.showIntroHighLight?(o(),d("svg",Le,e[30]||(e[30]=[t("path",{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},null,-1)]))):(o(),d("svg",Ie,e[31]||(e[31]=[t("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},null,-1)])))])]),s.showIntroHighLight?(o(),d("div",Qe,e[32]||(e[32]=[t("div",{class:"d-flex align-items-center w-fit justify-content-between gap-2"},[t("div",{class:"label-name"},"Added:"),t("div",{class:"added-block"})],-1),t("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[t("div",{class:"label-name"},"Remove:"),t("div",{class:"remove-block"})],-1),t("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[t("div",{class:"label-name"},"Unchange:"),t("div",{class:"unchange-block"})],-1)]))):h("",!0),v(m,{value:s.skill.introduction||"",valueEdited:s.skillEdit.introduction},null,8,["value","valueEdited"]),t("div",He,[t("div",Te,[e[33]||(e[33]=t("div",{class:"container-heading"},"Original",-1)),t("div",{class:"innerHTMLmastery",innerHTML:s.skill.introduction},null,8,ze)]),e[35]||(e[35]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",class:"d-none d-lg-block my-auto mx-1 primary-icon"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),t("div",Se,[e[34]||(e[34]=t("div",{class:"container-heading"},"Changed",-1)),s.showIntroHighLight?(o(),d("div",{key:0,class:"innerHTMLmastery",innerHTML:s.introductionDiff},null,8,qe)):(o(),d("div",{key:1,class:"innerHTMLmastery",innerHTML:s.skillEdit.introduction},null,8,Be))])])])):h("",!0)]),_:1})])):(o(),d("div",Ne,[e[38]||(e[38]=t("h2",{class:"secondary-heading h4 my-3"},"Edit Introduction",-1)),_(t("textarea",{class:"form-control",id:"introduction-summernote",rows:"3","onUpdate:modelValue":e[6]||(e[6]=c=>s.skillEdit.introduction=c)},null,512),[[D,s.skillEdit.introduction]]),t("div",Ae,[t("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:e[7]||(e[7]=(...c)=>l.applyIntroChange&&l.applyIntroChange(...c))},e[36]||(e[36]=[g(" Apply ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)])),t("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:e[8]||(e[8]=(...c)=>l.cancelEditIntro&&l.cancelEditIntro(...c))},e[37]||(e[37]=[g(" Cancel ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm175 79c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)]))])])),s.isSkillChanged.mastery_requirements?(o(),d("div",Oe,[t("div",je,[e[40]||(e[40]=t("h2",{class:"secondary-heading h4"},"Mastery Requirements",-1)),t("div",{onClick:e[9]||(e[9]=c=>s.showSkillMasteryChange=!s.showSkillMasteryChange),class:p(["mt-2",s.showSkillMasteryChange?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showSkillMasteryChange?"minimize":"expand"},e[39]||(e[39]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",class:"primary-icon"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,Ue)]),v(C,{name:"dropdown"},{default:y(()=>[s.showSkillMasteryChange?(o(),d("div",We,[t("div",Re,[t("div",{class:"btn green-btn d-flex align-items-center",onClick:e[10]||(e[10]=c=>s.showHighLight=!s.showHighLight)},[g(a(s.showHighLight?"Hide":"Show")+" Hight Light ",1),s.showHighLight?(o(),d("svg",Ve,e[41]||(e[41]=[t("path",{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},null,-1)]))):(o(),d("svg",Pe,e[42]||(e[42]=[t("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},null,-1)])))])]),s.showHighLight?(o(),d("div",Je,e[43]||(e[43]=[t("div",{class:"d-flex align-items-center w-fit justify-content-between gap-2"},[t("div",{class:"label-name"},"Added:"),t("div",{class:"added-block"})],-1),t("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[t("div",{class:"label-name"},"Remove:"),t("div",{class:"remove-block"})],-1),t("div",{class:"d-flex align-items-center gap-2 justify-content-between"},[t("div",{class:"label-name"},"Unchange:"),t("div",{class:"unchange-block"})],-1)]))):h("",!0),v(m,{value:s.skill.mastery_requirements,valueEdited:s.skillEdit.mastery_requirements},null,8,["value","valueEdited"]),t("div",Fe,[t("div",Ge,[e[44]||(e[44]=t("div",{class:"container-heading"},"Original",-1)),t("div",{class:"innerHTMLmastery",innerHTML:s.skill.mastery_requirements},null,8,Ze)]),e[46]||(e[46]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",class:"d-none d-lg-block my-auto mx-1 primary-icon"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),t("div",Ke,[e[45]||(e[45]=t("div",{class:"container-heading"},"Changed",-1)),s.showHighLight?(o(),d("div",{key:0,class:"innerHTMLmastery",innerHTML:s.diffHtml},null,8,Xe)):(o(),d("div",{key:1,class:"innerHTMLmastery",innerHTML:s.skillEdit.mastery_requirements},null,8,Ye))])])])):h("",!0)]),_:1})])):(o(),d("div",$e,[e[49]||(e[49]=t("h2",{class:"secondary-heading h4 my-3"},"Edit Mastery Requirement",-1)),_(t("textarea",{class:"form-control",id:"mastery-requirement-summernote",rows:"33","onUpdate:modelValue":e[11]||(e[11]=c=>s.skillEdit.mastery_requirements=c)},null,512),[[D,s.skillEdit.mastery_requirements]]),t("div",et,[t("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:e[12]||(e[12]=(...c)=>l.applyMasteryChange&&l.applyMasteryChange(...c))},e[47]||(e[47]=[g(" Apply ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)])),t("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:e[13]||(e[13]=(...c)=>l.cancelEditMastery&&l.cancelEditMastery(...c))},e[48]||(e[48]=[g(" Cancel ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm175 79c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)]))])])),t("div",tt,[t("div",st,[e[50]||(e[50]=t("h2",{class:"secondary-heading h4 mb-3"},"Comment",-1)),t("div",it,a(s.skillEdit.comment),1)])])]),v(u,{skillUrl:s.skill.url,loadingStatus:s.loadingStatus,showLoadingModal:s.showLoadingModal,closeModal:l.closeModal},null,8,["skillUrl","loadingStatus","showLoadingModal","closeModal"])],64)}const ot=E(Y,[["render",nt],["__scopeId","data-v-08d6ea79"]]);const lt={setup(){},data(){return{addCount:0,removeCount:0,innerHtmlDisplay:""}},props:["diffString"],async created(){this.diffString&&(this.innerHtmlDisplay='<div class="inner-div">',this.diffString.forEach((i,e)=>{i.added&&!i.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="add">${i.value}</span>`),!i.added&&i.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="remove">${i.value}</span>`),!i.added&&!i.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+i.value),e===this.diffString.length&&(this.innerHtmlDisplay=this.innerHtmlDisplay+"</div>")}))},methods:{}},dt={class:"d-flex flex-row align-items-center flex-wrap"},rt=["innerHTML"];function at(i,e,n,r,s,l){return o(),d("div",dt,[t("div",{innerHTML:s.innerHtmlDisplay},null,8,rt)])}const M=E(lt,[["render",at],["__scopeId","data-v-9eccc36e"]]);const ht={setup(){},data(){return{wordsArray:[],showDetails:!1}},props:["diffObj","type"],computed:{},mounted(){},methods:{},computed:{diffWords(){if(!this.diffObj)return[];let i=[];return this.diffObj.forEach(e=>{this.type==="add"&&e.added&&!e.removed&&i.push(e.value),this.type==="remove"&&!e.added&&e.removed&&i.push(e.value)}),i}}},ct={key:0,class:"dropdown-container"},mt={class:"triangle-container"},ut={class:"position-relative"};function gt(i,e,n,r,s,l){return n.diffObj?(o(),d("div",ct,[t("div",mt,[(o(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",width:"14",height:"14",onClick:e[0]||(e[0]=m=>s.showDetails=!s.showDetails),class:p(["triangle-icon",{"expand-arrow":s.showDetails,"minimize-arrow":!s.showDetails,fillRed:n.type==="remove",fillGreen:n.type==="add"}])},e[1]||(e[1]=[t("path",{d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"},null,-1)]),2))]),t("div",ut,[s.showDetails?(o(),d("div",{key:0,class:p(["details-div",[n.type==="remove"&&"remove-details-div"]])},[(o(!0),d(L,null,S(l.diffWords,m=>(o(),d("div",{class:p({"add-details":n.type==="add","remove-details":n.type=="remove"})},a(m),3))),256))],2)):h("",!0)])])):h("",!0)}const I=E(ht,[["render",gt],["__scopeId","data-v-6e6e58fc"]]);const wt={setup(){},data(){return{show:!0,addCount:0,removeCount:0,changedObject:null,changed:!1,textEditData:null,changedWords:null}},components:{DiffWordsDropDown:I,CompareString:M},props:["showHighlight","containerName","originalData","newData","isEditMode","updateTempData","type","singleComponent"],async created(){},methods:{countChangedWords(i){const e={added:0,removed:0};return i.forEach(n=>{n.added&&!n.removed&&(e.added=e.added+n.count),!n.added&&n.removed&&(e.removed=e.removed+n.count)}),e},compareEdit(){this.changedWords=T(this.originalData,this.newData);const i=this.countChangedWords(this.changedWords);this.addCount=i.added,this.removeCount=i.removed}},computed:{showingData(){return this.originalData!==this.newData&&(this.compareEdit(),this.changed=!0),this.isEditMode&&(this.textEditData=this.newData),{changedObject:this.changedObject,originalData:this.originalData,newData:this.newData,removeCount:this.removeCount,addCount:this.addCount,diffString:this.changedWords,showHighLight:this.showHighlight,isEditMode:this.isEditMode}}},watch:{}},pt={class:"d-flex align-items-center"},vt={class:"secondary-heading h4 mb-3"},ft=["title"],yt={key:0},Ct={class:"d-flex flex-column"},Et={class:"d-flex flex-row-reverse gap-4 mb-3"},_t=["tile"],xt={class:"add-count"},bt=["tile"],kt={class:"remove-count"},Mt={class:"d-flex flex-lg-row flex-column"},Dt={class:"old-container general-container"},Lt={class:"container-content"},It={class:"new-container general-container"},Qt={class:"container-content"},Ht={key:1},Tt={key:2},zt={key:0},St={class:"d-flex flex-column"},qt={key:2};function Bt(i,e,n,r,s,l){const m=f("DiffWordsDropDown"),u=f("CompareString");return o(),d("div",{class:p({"compare-container":n.singleComponent,"multiple-compare-container":!n.singleComponent})},[t("div",pt,[t("h2",vt,a(n.containerName),1),t("div",{onClick:e[0]||(e[0]=c=>s.show=!s.show),class:p([s.show?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.show?"minimize":"expand"},e[9]||(e[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",fill:"#475569"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,ft)]),v(C,{name:"dropdown"},{default:y(()=>[s.show&&!n.isEditMode?(o(),d("div",yt,[t("div",Ct,[t("div",Et,[t("div",{class:"d-flex align-items-start","b-on-hoover":"",tile:`add ${s.addCount} words`},[t("div",xt,[e[10]||(e[10]=t("span",{class:"plus-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:"15",width:"15",fill:"#1aa375"},[t("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"})])],-1)),g(" "+a(s.addCount)+" addition ",1)]),v(m,{diffObj:l.showingData.diffString,type:"add"},null,8,["diffObj"])],8,_t),t("div",{class:"d-flex align-items-start","b-on-hoover":"",tile:`remove ${s.removeCount} words`},[t("div",kt,[e[11]||(e[11]=t("span",{class:"minus-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:"15",width:"15",fill:"#ea6c6c"},[t("path",{d:"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"})])],-1)),g(" "+a(s.removeCount)+" removal ",1)]),v(m,{diffObj:l.showingData.diffString,type:"remove"},null,8,["diffObj"])],8,bt)]),t("div",Mt,[t("div",Dt,[e[12]||(e[12]=t("div",{class:"container-tile"},"Original",-1)),t("div",Lt,a(l.showingData.originalData),1)]),e[14]||(e[14]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",class:"d-none d-lg-block my-auto mx-1 primary-icon"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),e[15]||(e[15]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",height:"50",width:"50",class:"mx-auto my-2 d-lg-none primary-icon"},[t("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),t("div",It,[e[13]||(e[13]=t("div",{class:"container-tile"},"Changed",-1)),t("div",Qt,[s.changed&&l.showingData.showHighLight?(o(),w(u,{key:0,diffString:s.changedWords},null,8,["diffString"])):s.changed&&!l.showingData.showHighLight?(o(),d("div",Ht,a(l.showingData.newData),1)):(o(),d("div",Tt,"No changes"))])])])])])):h("",!0)]),_:1}),v(C,{name:"dropdown"},{default:y(()=>[s.show&&l.showingData.isEditMode?(o(),d("div",zt,[t("div",St,[n.type!="correct_answer"&&n.type!="is_random"?_((o(),d("textarea",{key:0,class:"editable-text-area","onUpdate:modelValue":e[1]||(e[1]=c=>s.textEditData=c),onInput:e[2]||(e[2]=c=>n.updateTempData(this.type,this.textEditData))},null,544)),[[D,s.textEditData]]):h("",!0),n.type=="correct_answer"?_((o(),d("select",{key:1,class:"","onUpdate:modelValue":e[3]||(e[3]=c=>s.textEditData=c),onChange:e[4]||(e[4]=c=>n.updateTempData(this.type,this.textEditData))},e[16]||(e[16]=[t("option",{value:"1"},"1",-1),t("option",{value:"2"},"2",-1),t("option",{value:"3"},"3",-1),t("option",{value:"4"},"4",-1),t("option",{value:"5"},"5",-1)]),544)),[[q,s.textEditData]]):h("",!0),n.type=="is_random"?(o(),d("div",qt,[t("p",null,[e[17]||(e[17]=t("label",null,"true",-1)),_(t("input",{class:"ms-2","onUpdate:modelValue":e[5]||(e[5]=c=>s.textEditData=c),onChange:e[6]||(e[6]=c=>n.updateTempData(this.type,this.textEditData)),type:"radio",value:!0},null,544),[[H,s.textEditData]])]),t("p",null,[e[18]||(e[18]=t("label",null,"false",-1)),_(t("input",{class:"ms-2","onUpdate:modelValue":e[7]||(e[7]=c=>s.textEditData=c),onChange:e[8]||(e[8]=c=>n.updateTempData(this.type,this.textEditData)),value:!1,type:"radio"},null,544),[[H,s.textEditData]])])])):h("",!0)])])):h("",!0)]),_:1})],2)}const Q=E(wt,[["render",Bt],["__scopeId","data-v-13129e3d"]]);const Nt={setup(){},data(){return{mcQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,originalQuestion:{},originalAnswers:[],editedQuestion:{},editedAnswers:[],skill_name:null,skill_level:null,tempMcQuestionEdit:["","","","",""],tempAnswersEdit:[],comment:"",isEditMode:!1,edited:!1,showHighLight:!0,isQuestionLoaded:!1,numAnswerOptions:5,skillName:"",skillLevel:null}},components:{CompareString:M,DiffWordsDropDown:I,ComparisonContainer:Q},async created(){await this.getEditedQuestion(),await this.getOriginalQuestion(),this.isQuestionLoaded=!0},methods:{async getEditedQuestion(){await fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId).then(function(i){return i.json()}).then(i=>{this.comment=i.comment,this.editedQuestion=i.question,this.editedAnswers=i.answers.map(e=>e.text)})},async getOriginalQuestion(){await fetch("/questions/mc/show/"+this.mcQuestionId).then(function(i){return i.json()}).then(i=>{this.skillName=i.skill_name,this.skillLevel=i.skill_level,this.originalQuestion=i.question,this.originalAnswers=i.answers.map(e=>e.text)})},dismissEdit(){if(confirm("Delete this edit?")){const i=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});i.error&&console.log(i.error),this.$router.back()}},edit(){this.tempMcQuestionEdit={...this.editedQuestion},this.tempAnswersEdit=this.editedAnswers,this.isEditMode=!0,this.$parent.disableBtn=!0,k(()=>{const e=document.getElementsByTagName("textarea");for(let r=0;r<e.length;r++)e[r].setAttribute("style","height:"+e[r].scrollHeight+"px;overflow-y:hidden;"),e[r].addEventListener("input",n,!1);function n(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}});const i=this.$refs.pageTile;i&&i.scrollIntoView({behavior:"smooth"})},saveEdit(){const i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:this.editedQuestion,answers:this.editedAnswers,edit:this.edited})};var e="/questions/mc/"+this.editedQuestion.mc_question_id+"/approve-edits";fetch(e,i).then(()=>{this.$router.back()});const n=fetch("/questions/mc/submitted-for-review/"+this.mcQuestionId+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)},applyMcQuestionChange(){this.edited=!0,this.isEditMode=!1,this.$parent.disableBtn=!1,this.editedQuestion={...this.tempMcQuestionEdit},this.editedAnswers=this.tempAnswersEdit},cancelEditMcQuestion(){this.isEditMode=!1,this.$parent.disableBtn=!1},toTileCase(i){if(i)return i.replace(/^[-_]*(.)/,(n,r)=>r.toUpperCase()).replace(/[-_]+(.)/g,(n,r)=>" "+r.toUpperCase())},updateTempData(i,e){switch(i){case"question":this.tempMcQuestionEdit.text=e;break;case"answer_1":this.tempAnswersEdit[0]=e;break;case"answer_2":this.tempAnswersEdit[1]=e;break;case"answer_3":this.tempAnswersEdit[2]=e;break;case"answer_4":this.tempAnswersEdit[3]=e;break;case"answer_5":this.tempAnswersEdit[4]=e;break;case"is_random":this.tempMcQuestionEdit.is_random=e;break;case"correct_answer":this.tempMcQuestionEdit.correct_answer=e;break;case"explanation":this.tempMcQuestionEdit.explanation=e;break}}}},At={class:"container mb-2 bg-light rounded p-3"},Ot={ref:"pageTile",class:"heading"},jt={class:"minor-text"},Ut={class:"minor-text"},Wt={class:"d-flex flex-row-reverse my-3"},Rt={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"30",height:"30",fill:"white",class:"ms-2"},Vt={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"30",height:"30",fill:"white",class:"ms-2"},Pt={key:9,class:"d-flex flex-row-reverse gap-3"},Jt={class:"mt-5 w-lg-50 w-md-75 w-100 compare-container"},Ft={class:"d-flex flex-md-row flex-column gap-2"},Gt={class:"comment-text"};function Zt(i,e,n,r,s,l){const m=f("ComparisonContainer");return o(),d("div",At,[t("h1",Ot,"Review Suggested Update",512),t("p",null,a(i.$parent.userThatSubmittedEdit.username)+" (reputation score: "+a(i.$parent.userThatSubmittedEdit.reputationScore)+") suggested the following changes to this question. ",1),e[8]||(e[8]=t("hr",null,null,-1)),e[9]||(e[9]=t("h2",{class:"secondary-heading h4"},"Skill",-1)),t("div",jt,a(l.toTileCase(s.skillName)),1),e[10]||(e[10]=t("h2",{class:"secondary-heading h4 mt-2"},"Level",-1)),t("div",Ut,a(l.toTileCase(s.skillLevel)),1),t("div",Wt,[t("div",{class:"btn green-btn d-flex align-items-center",onClick:e[0]||(e[0]=u=>s.showHighLight=!s.showHighLight)},[g(a(s.showHighLight?"Hide":"Show")+" highlight ",1),s.showHighLight?(o(),d("svg",Rt,e[3]||(e[3]=[t("path",{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},null,-1)]))):(o(),d("svg",Vt,e[4]||(e[4]=[t("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},null,-1)])))])]),s.isQuestionLoaded?(o(),w(m,{key:0,containerName:"Question",originalData:s.originalQuestion.text,newData:s.editedQuestion.text,showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"question",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),s.isQuestionLoaded?(o(),w(m,{key:1,class:"compare-container mt-5",containerName:"Answer option 1",originalData:s.originalAnswers[0],newData:s.editedAnswers[0],showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"answer_1",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),e[11]||(e[11]=t("div",{class:"my-4"},[t("hr")],-1)),s.isQuestionLoaded?(o(),w(m,{key:2,class:"compare-container mt-5",containerName:"Answer option 2",originalData:s.originalAnswers[1],newData:s.editedAnswers[1],showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"answer_2",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),e[12]||(e[12]=t("div",{class:"my-4"},[t("hr")],-1)),s.isQuestionLoaded?(o(),w(m,{key:3,class:"compare-container mt-5",containerName:"Answer option 3",originalData:s.originalAnswers[2],newData:s.editedAnswers[2],showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"answer_3",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),e[13]||(e[13]=t("div",{class:"my-4"},[t("hr")],-1)),s.isQuestionLoaded?(o(),w(m,{key:4,class:"compare-container mt-5",containerName:"Answer option 4",originalData:s.originalAnswers[3],newData:s.editedAnswers[3],showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"answer_4",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),e[14]||(e[14]=t("div",{class:"my-4"},[t("hr")],-1)),s.isQuestionLoaded?(o(),w(m,{key:5,class:"compare-container mt-5",containerName:"Answer option 5",originalData:s.originalAnswers[4],newData:s.editedAnswers[4],showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"answer_5",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),e[15]||(e[15]=t("div",{class:"my-4"},[t("hr")],-1)),s.isQuestionLoaded?(o(),w(m,{key:6,containerName:"Correct answer",originalData:s.originalQuestion.correct_answer.toString(),newData:s.editedQuestion.correct_answer.toString(),showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"correct_answer",singleComponent:!0,class:"compare-container mt-5"},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),s.isQuestionLoaded?(o(),w(m,{key:7,containerName:"Is Random",originalData:s.originalQuestion.is_random.toString(),newData:s.editedQuestion.is_random.toString(),showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"is_random",singleComponent:!1,class:"compare-container mt-5"},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),s.isQuestionLoaded?(o(),w(m,{key:8,class:"mt-5",containerName:"Explanation",originalData:s.originalQuestion.explanation,newData:s.editedQuestion.explanation,showHighlight:s.showHighLight,isEditMode:s.isEditMode,updateTempData:l.updateTempData,type:"explanation",singleComponent:!0},null,8,["originalData","newData","showHighlight","isEditMode","updateTempData"])):h("",!0),s.isEditMode?(o(),d("div",Pt,[t("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:e[1]||(e[1]=(...u)=>l.applyMcQuestionChange&&l.applyMcQuestionChange(...u))},e[5]||(e[5]=[g(" Apply ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)])),t("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:e[2]||(e[2]=(...u)=>l.cancelEditMcQuestion&&l.cancelEditMcQuestion(...u))},e[6]||(e[6]=[g(" Cancel ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm175 79c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)]))])):h("",!0),t("div",Jt,[t("div",Ft,[e[7]||(e[7]=t("h2",{class:"secondary-heading h4 mb-3"},"Comment",-1)),t("div",Gt,a(this.comment),1)])])])}const Kt=E(Nt,[["render",Zt],["__scopeId","data-v-c1b3d30f"]]);const Xt={setup(){},data(){return{essayQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,essayQuestion:{},essayQuestionEdit:{},comment:"",isEditMode:!1,edited:!1,showHighLight:!0,tempEssayEdit:null,isQuestionLoaded:!1}},components:{CompareString:M,DiffWordsDropDown:I,ComparisonContainer:Q},async created(){await this.getEssayQuestionEdit(),await this.getEssayQuestion();const i=document.getElementsByTagName("textarea");for(let n=0;n<i.length;n++)i[n].setAttribute("style","height:"+i[n].scrollHeight+"px;overflow-y:hidden;"),i[n].addEventListener("input",e,!1);function e(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{toTileCase(i){if(i)return i.replace(/^[-_]*(.)/,(n,r)=>r.toUpperCase()).replace(/[-_]+(.)/g,(n,r)=>" "+r.toUpperCase())},async getEssayQuestionEdit(){await fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId).then(function(i){return i.json()}).then(i=>{this.essayQuestionEdit=i,this.comment=i.comment})},async getEssayQuestion(){await fetch("/questions/essay/show/"+this.essayQuestionId).then(function(i){return i.json()}).then(i=>{this.essayQuestion=i,this.isQuestionLoaded=!0})},edit(){this.tempEssayEdit=this.essayQuestionEdit,this.isEditMode=!0,this.$parent.disableBtn=!0,k(()=>{const e=document.getElementsByTagName("textarea");for(let r=0;r<e.length;r++)e[r].setAttribute("style","height:"+e[r].scrollHeight+"px;overflow-y:hidden;"),e[r].addEventListener("input",n,!1);function n(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}});const i=this.$refs.pageTile;i&&i.scrollIntoView({behavior:"smooth"})},dismissEdit(){if(confirm("Delete this edit?")){const i=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionId+"/"+this.userId,{method:"DELETE"});i.error&&console.log(i.error),this.$router.back()}},updateTempData(i,e){switch(i){case"essay_name":this.tempEssayEdit.name=e;break;case"essay_question":this.tempEssayEdit.question=e}},editMode(){this.isEditMode=!0},saveEdit(){const i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.essayQuestionEdit.name,question:this.essayQuestionEdit.question,edit:this.edited})};var e="/questions/essay/"+this.essayQuestionEdit.essay_question_id+"/approve-edits";fetch(e,i).then(()=>{this.$router.back()});const n=fetch("/questions/essay/submitted-for-review/"+this.essayQuestionEdit.essay_question_id+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)},applyEditChange(){this.isEditMode=!1,this.$parent.disableBtn=!1,this.edited=!0,this.essayQuestionEdit=this.tempEssayEdit},cancelEditChange(){this.isEditMode=!1,this.$parent.disableBtn=!1}}},Yt={class:"container mb-2 bg-light rounded p-2"},$t={class:"minor-text"},es={class:"minor-text capitalize"},ts={class:"d-flex flex-row-reverse my-3"},ss={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"30",height:"30",fill:"white",class:"ms-2"},is={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"30",height:"30",fill:"white",class:"ms-2"},ns={key:2,class:"d-flex flex-row-reverse gap-3"},os={class:"mt-5 w-lg-50 w-md-75 w-100 compare-container"},ls={class:"d-flex flex-md-row flex-column gap-2"},ds={class:"comment-text"};function rs(i,e,n,r,s,l){const m=f("ComparisonContainer");return o(),d("div",Yt,[e[8]||(e[8]=t("h1",{class:"heading"},"Review Suggested Update",-1)),t("p",null,a(i.$parent.userThatSubmittedEdit.username)+" (reputation score: "+a(i.$parent.userThatSubmittedEdit.reputationScore)+") suggested the following changes to this question. ",1),e[9]||(e[9]=t("div",{class:"my-3"},[t("hr")],-1)),e[10]||(e[10]=t("h2",{class:"secondary-heading h4"},"Skill",-1)),t("div",$t,a(s.essayQuestion.skill_name),1),e[11]||(e[11]=t("h2",{class:"secondary-heading h4 mt-2"},"Level",-1)),t("div",es,a(l.toTileCase(s.essayQuestion.skill_level)),1),t("div",ts,[t("div",{class:"btn green-btn d-flex align-items-center",onClick:e[0]||(e[0]=u=>s.showHighLight=!s.showHighLight)},[g(a(s.showHighLight?"Hide":"Show")+" Hight Light ",1),s.showHighLight?(o(),d("svg",ss,e[3]||(e[3]=[t("path",{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},null,-1)]))):(o(),d("svg",is,e[4]||(e[4]=[t("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},null,-1)])))])]),s.isQuestionLoaded?(o(),w(m,{key:0,showHighlight:s.showHighLight,containerName:"Name",originalData:s.essayQuestion.name,newData:s.essayQuestionEdit.name,isEditMode:s.isEditMode,type:"essay_name",updateTempData:l.updateTempData,singleComponent:!0},null,8,["showHighlight","originalData","newData","isEditMode","updateTempData"])):h("",!0),s.isQuestionLoaded?(o(),w(m,{key:1,class:"mt-4",showHighlight:s.showHighLight,containerName:"Question",originalData:s.essayQuestion.question,newData:s.essayQuestionEdit.question,isEditMode:s.isEditMode,type:"essay_question",updateTempData:l.updateTempData,singleComponent:!0},null,8,["showHighlight","originalData","newData","isEditMode","updateTempData"])):h("",!0),s.isEditMode?(o(),d("div",ns,[t("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:e[1]||(e[1]=(...u)=>l.applyEditChange&&l.applyEditChange(...u))},e[5]||(e[5]=[g(" Apply ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)])),t("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:e[2]||(e[2]=(...u)=>l.cancelEditChange&&l.cancelEditChange(...u))},e[6]||(e[6]=[g(" Cancel ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm175 79c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)]))])):h("",!0),t("div",os,[t("div",ls,[e[7]||(e[7]=t("h2",{class:"secondary-heading h4 mb-3"},"Comment",-1)),t("div",ds,a(s.essayQuestionEdit.comment),1)])])])}const as=E(Xt,[["render",rs],["__scopeId","data-v-53fae5f2"]]);const hs={setup(){},data(){return{imageQuestionId:this.$route.params.contentId,userId:this.$route.params.userId,imageQuestion:{},imageQuestionEdit:{},comment:"",isEditMode:!1,edited:!1,showHighLight:!0,showQuestionChange:!0,showNameChange:!0,showImageNumberRequire:!0,changed:{imageNumber:!1},tempQuestionEdit:null,showImageNumberDropdown:!1,isQuestionLoaded:!1}},components:{CompareString:M,ComparisonContainer:Q},async created(){await this.getImageQuestionEdit(),await this.getImageQuestion(),this.countImageRequireNumberChange();const i=document.getElementsByTagName("textarea");for(let n=0;n<i.length;n++)i[n].setAttribute("style","height:"+i[n].scrollHeight+"px;overflow-y:hidden;"),i[n].addEventListener("input",e,!1);function e(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}},methods:{toTileCase(i){if(i)return i.replace(/^[-_]*(.)/,(n,r)=>r.toUpperCase()).replace(/[-_]+(.)/g,(n,r)=>" "+r.toUpperCase())},async getImageQuestionEdit(){await fetch("/questions/image/submitted-for-review/"+this.imageQuestionId+"/"+this.userId).then(function(i){return i.json()}).then(i=>{this.imageQuestionEdit=i,this.comment=i.comment})},async getImageQuestion(){await fetch("/questions/image/show/"+this.imageQuestionId).then(function(i){return i.json()}).then(i=>{this.imageQuestion=i,this.isQuestionLoaded=!0})},edit(){this.tempImageEdit=this.imageQuestionEdit,this.isEditMode=!0,this.$parent.disableBtn=!0,k(()=>{const e=document.getElementsByTagName("textarea");for(let r=0;r<e.length;r++)e[r].setAttribute("style","height:"+e[r].scrollHeight+"px;overflow-y:hidden;"),e[r].addEventListener("input",n,!1);function n(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}});const i=this.$refs.pageTile;i&&i.scrollIntoView({behavior:"smooth"})},dismissEdit(){if(confirm("Delete this edit?")){const i=fetch("/questions/image/submitted-for-review/"+this.imageQuestionId+"/"+this.userId,{method:"DELETE"});i.error&&console.log(i.error),this.$router.back()}},editMode(){this.isEditMode=!0},saveEdit(){const i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.imageQuestionEdit.name,question:this.imageQuestionEdit.question,num_images_required:this.imageQuestionEdit.num_images_required,edit:this.edited})};console.log("THING TO SEND TO SEVER"),console.log(i);var e="/questions/image/"+this.imageQuestionEdit.image_question_id+"/approve-edits";fetch(e,i).then(()=>{this.$router.back()});const n=fetch("/questions/image/submitted-for-review/"+this.imageQuestionEdit.image_question_id+"/"+this.userId,{method:"DELETE"});n.error&&console.log(n.error)},applyEditChange(){this.isEditMode=!1,this.$parent.disableBtn=!1,console.log(this.tempImageEdit),console.log(this.imageQuestionEdit),this.edited=!0,this.imageQuestionEdit=this.tempImageEdit},cancelEditChange(){this.isEditMode=!1,this.$parent.disableBtn=!1},updateTempData(i,e){switch(i){case"image_question_name":this.tempQuestionEdit.name=e;break;case"image_question_question":this.tempQuestionEdit.question=e}},countImageRequireNumberChange(){this.changed.imageNumber=parseInt(this.imageQuestionEdit.num_images_required)-parseInt(this.imageQuestion.num_images_required)}}},cs={class:"container mb-2 bg-light rounded p-3"},ms={class:"minor-text"},us={class:"minor-text capitalize"},gs={class:"d-flex flex-row-reverse my-3"},ws={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"30",height:"30",fill:"white",class:"ms-2"},ps={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"30",height:"30",fill:"white",class:"ms-2"},vs={class:"compare-container mt-5"},fs={class:"d-flex align-items-center"},ys=["title"],Cs={key:0},Es={class:"d-flex flex-column"},_s={class:"ms-auto me-1 mb-2 image-require-label-text"},xs={class:"d-flex flex-lg-row flex-column"},bs={class:"old-container general-container"},ks={class:"container-content"},Ms={class:"new-container general-container"},Ds={class:"container-content"},Ls={key:0},Is={key:1},Qs={key:0},Hs={class:"d-flex flex-column"},Ts={class:"mb-3"},zs={class:"d-flex flex-column"},Ss={key:0,class:"custom-dropdown-base"},qs={key:2,class:"d-flex flex-row-reverse gap-3"},Bs={class:"mt-5 w-lg-50 w-md-75 w-100 compare-container"},Ns={class:"d-flex flex-md-row flex-column gap-2"},As={class:"comment-text"};function Os(i,e,n,r,s,l){const m=f("ComparisonContainer");return o(),d("div",cs,[e[23]||(e[23]=t("h1",{class:"heading"},"Review Suggested Update",-1)),t("p",null,a(i.$parent.userThatSubmittedEdit.username)+" (reputation score: "+a(i.$parent.userThatSubmittedEdit.reputationScore)+") suggested the following changes to this question. ",1),e[24]||(e[24]=t("div",{class:"my-3"},[t("hr")],-1)),e[25]||(e[25]=t("h2",{class:"secondary-heading h4"},"Skill",-1)),t("div",ms,a(s.imageQuestion.skill_name),1),e[26]||(e[26]=t("h2",{class:"secondary-heading h4 mt-2"},"Level",-1)),t("div",us,a(l.toTileCase(s.imageQuestion.skill_level)),1),t("div",gs,[t("div",{class:"btn green-btn d-flex align-items-center",onClick:e[0]||(e[0]=u=>s.showHighLight=!s.showHighLight)},[g(a(s.showHighLight?"Hide":"Show")+" Hight Light ",1),s.showHighLight?(o(),d("svg",ws,e[10]||(e[10]=[t("path",{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},null,-1)]))):(o(),d("svg",ps,e[11]||(e[11]=[t("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},null,-1)])))])]),s.isQuestionLoaded?(o(),w(m,{key:0,showHighlight:s.showHighLight,containerName:"Name",originalData:s.imageQuestion.name,newData:s.imageQuestionEdit.name,isEditMode:s.isEditMode,type:"image_question_name",updateTempData:l.updateTempData,singleComponent:!0},null,8,["showHighlight","originalData","newData","isEditMode","updateTempData"])):h("",!0),s.isQuestionLoaded?(o(),w(m,{key:1,class:"mt-5",showHighlight:s.showHighLight,containerName:"Question",originalData:s.imageQuestion.question,newData:s.imageQuestionEdit.question,isEditMode:s.isEditMode,type:"image_question_question",updateTempData:l.updateTempData,singleComponent:!0},null,8,["showHighlight","originalData","newData","isEditMode","updateTempData"])):h("",!0),t("div",vs,[t("div",fs,[e[13]||(e[13]=t("h2",{class:"compare-container-tile mb-3"}," Number Of Images Require ",-1)),t("div",{onClick:e[1]||(e[1]=u=>s.showImageNumberRequire=!s.showImageNumberRequire),class:p([s.showImageNumberRequire?"expand-arrow":"minimize-arrow"]),"b-on-hover":"",title:s.showImageNumberRequire?"minimize":"expand"},e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",heigh:"16",fill:"#475569"},[t("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})],-1)]),10,ys)]),v(C,{name:"dropdown"},{default:y(()=>[s.showImageNumberRequire&&!s.isEditMode?(o(),d("div",Cs,[t("div",Es,[t("div",_s,[e[14]||(e[14]=g(" require ",-1)),t("span",{class:p([s.changed.imageNumber>0?"add-number":"minus-number"])},a(Math.abs(s.changed.imageNumber)),3),g(" "+a(s.changed.imageNumber>0?"more":"less")+" image ",1)]),t("div",xs,[t("div",bs,[e[15]||(e[15]=t("div",{class:"container-tile"},"Original",-1)),t("div",ks,a(s.imageQuestion.num_images_required),1)]),e[17]||(e[17]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"50",height:"50",fill:"#ac90e8",class:"d-none d-lg-block my-auto mx-1"},[t("path",{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"})],-1)),e[18]||(e[18]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"#ac90e8",height:"50",width:"50",class:"mx-auto my-2 d-lg-none"},[t("path",{d:"M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"})],-1)),t("div",Ms,[e[16]||(e[16]=t("div",{class:"container-tile"},"Changed",-1)),t("div",Ds,[s.changed.imageNumber?(o(),d("div",Ls,a(s.imageQuestionEdit.num_images_required),1)):(o(),d("div",Is,"No changed Happened"))])])])])])):h("",!0)]),_:1}),v(C,{name:"dropdown"},{default:y(()=>[s.showQuestionChange&&s.isEditMode?(o(),d("div",Qs,[t("div",Hs,[t("div",Ts,[t("div",zs,[t("div",{class:p([s.showImageNumberDropdown?"custom-select-button-focus":"custom-select-button"]),onClick:e[2]||(e[2]=u=>s.showImageNumberDropdown=!s.showImageNumberDropdown)},[g(a(i.tempImageEdit.num_images_required)+" ",1),e[19]||(e[19]=t("span",null,[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M14.2929 8.70711C14.9229 8.07714 14.4767 7 13.5858 7H6.41421C5.52331 7 5.07714 8.07714 5.70711 8.70711L9.29289 12.2929C9.68342 12.6834 10.3166 12.6834 10.7071 12.2929L14.2929 8.70711Z",fill:"#344054"})])],-1))],2),v(C,{name:"dropdownFilter"},{default:y(()=>[s.showImageNumberDropdown?(o(),d("div",Ss,[t("div",{class:"custom-dropdown-option",onClick:e[3]||(e[3]=u=>{i.tempImageEdit.num_images_required=1,s.showImageNumberDropdown=!1})}," 1 "),t("div",{class:"custom-dropdown-option",onClick:e[4]||(e[4]=u=>{i.tempImageEdit.num_images_required=2,s.showImageNumberDropdown=!1})}," 2 "),t("div",{class:"custom-dropdown-option",onClick:e[5]||(e[5]=u=>{i.tempImageEdit.num_images_required=3,s.showImageNumberDropdown=!1})}," 3 "),t("div",{class:"custom-dropdown-option",onClick:e[6]||(e[6]=u=>{i.tempImageEdit.num_images_required=4,s.showImageNumberDropdown=!1})}," 4 "),t("div",{class:"custom-dropdown-option",onClick:e[7]||(e[7]=u=>{i.tempImageEdit.num_images_required=4,s.showImageNumberDropdown=!1})}," 5 ")])):h("",!0)]),_:1})])])])])):h("",!0)]),_:1})]),s.isEditMode?(o(),d("div",qs,[t("div",{class:"btn green-btn d-flex align-items-center my-3",onClick:e[8]||(e[8]=(...u)=>l.applyEditChange&&l.applyEditChange(...u))},e[20]||(e[20]=[g(" Apply ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 125.7-86.8 86.8c-10.3 10.3-17.5 23.1-21 37.2l-18.7 74.9c-2.3 9.2-1.8 18.8 1.3 27.5L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM549.8 235.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-29.4 29.4-71-71 29.4-29.4c15.6-15.6 40.9-15.6 56.6 0zM311.9 417L441.1 287.8l71 71L382.9 487.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"})],-1)])),t("div",{class:"btn red-btn d-flex align-items-center my-3",onClick:e[9]||(e[9]=(...u)=>l.cancelEditChange&&l.cancelEditChange(...u))},e[21]||(e[21]=[g(" Cancel ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",heigh:"22",fill:"white",class:"ms-2"},[t("path",{d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm175 79c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)]))])):h("",!0),t("div",Bs,[t("div",Ns,[e[22]||(e[22]=t("h2",{class:"secondary-heading h4 mb-3"},"Comment",-1)),t("div",As,a(s.imageQuestionEdit.comment),1)])])])}const js=E(hs,[["render",Os]]);const Us={setup(){const i=B(),e=N();return{userDetailsStore:i,usersStore:e}},data(){return{type:this.$route.query.type,disableBtn:!1,userThatSubmittedEdit:{id:this.$route.params.userId,username:null,reputationScore:null},showReputationModal:!1,contentId:this.$route.params.contentId}},components:{SkillEditComparison:ot,MCQuestionEditComparison:Kt,EssayQuestionEditComparison:as,ImageQuestionEditComparison:js},async created(){await this.getUserThatSubmittedEditDetails()},methods:{async getUserThatSubmittedEditDetails(){this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let i=0;i<this.usersStore.users.length;i++)this.userThatSubmittedEdit.id==this.usersStore.users[i].id&&(this.userThatSubmittedEdit.username=this.usersStore.users[i].username,this.userThatSubmittedEdit.reputationScore=this.usersStore.users[i].reputation_score)},increaseUserReputation(){let i;this.type=="mcquestion"?i="mc_question":this.type=="essayquestion"?i="essay_question":this.type=="imagequestion"?i="image_question":this.type=="skill"&&(i="skill"),this.showReputationModal=!1;const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentType:i,contentId:this.contentId})};var n="/users/increase-reputation/"+this.userDetailsStore.userId+"/"+this.userThatSubmittedEdit.id;fetch(n,e).then(()=>{this.usersStore.getUsers(),this.$refs.child.saveEdit()})}}},Ws={class:"container-fluid"},Rs={class:"d-flex justify-content-end gap-2"},Vs=["disabled"],Ps=["disabled"],Js=["disabled"],Fs={key:0,class:"modal"},Gs={class:"modal-content"},Zs={class:"d-flex justify-content-between"};function Ks(i,e,n,r,s,l){const m=f("SkillEditComparison"),u=f("MCQuestionEditComparison"),c=f("EssayQuestionEditComparison"),z=f("ImageQuestionEditComparison");return o(),d(L,null,[t("div",Ws,[s.type=="skill"?(o(),w(m,{key:0,ref:"child"},null,512)):h("",!0),s.type=="mcquestion"?(o(),w(u,{key:1,ref:"child"},null,512)):h("",!0),s.type=="essayquestion"?(o(),w(c,{key:2,ref:"child"},null,512)):h("",!0),s.type=="imagequestion"?(o(),w(z,{key:3,ref:"child"},null,512)):h("",!0),t("div",Rs,[t("button",{disabled:s.disableBtn,class:p(["btn",s.disableBtn?"disable-btn":"red-btn"]),onClick:e[0]||(e[0]=x=>i.$refs.child.dismissEdit())}," Dismiss ",10,Vs),t("button",{disabled:s.disableBtn,class:p(["btn",s.disableBtn?"disable-btn":"primary-btn"]),onClick:e[1]||(e[1]=x=>i.$refs.child.edit())}," Edit ",10,Ps),t("button",{disabled:s.disableBtn,class:p(["btn",s.disableBtn?"disable-btn":"primary-btn"]),onClick:e[2]||(e[2]=x=>s.showReputationModal=!0)}," Save ",10,Js)]),e[5]||(e[5]=t("p",null," ",-1))]),s.showReputationModal?(o(),d("div",Fs,[t("div",Gs,[t("div",null,[t("p",null," Give "+a(s.userThatSubmittedEdit.username)+" a reputation point? ",1),t("div",Zs,[t("button",{class:"btn primary-btn",onClick:e[3]||(e[3]=x=>l.increaseUserReputation())}," yes "),t("button",{class:"btn primary-btn",onClick:e[4]||(e[4]=x=>i.$refs.child.saveEdit())}," no ")])])])])):h("",!0)],64)}const ti=E(Us,[["render",Ks],["__scopeId","data-v-f4409583"]]);export{ti as default};
