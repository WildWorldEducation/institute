import{T as p}from"./TooltipBtn-e407d7c1.js";import{_ as v,r as _,o as n,c as i,d as e,e as x,w as a,A as c,b as r,F as b,t as q,m as w,L as g,v as k,x as V,N as y}from"./main-7b2116cb.js";const A={data(){return{skillId:this.$route.params.skillId,question:{name:"",text:"",explanation:"",correct_answer:1,is_random:!1},answers:[{text:"",show:!0},{text:"",show:!0},{text:"",show:!0},{text:"",show:!0},{text:"",show:!0}],validate:{validated:!1,name:!1,question:!1,answer:!1,explanation:!1}}},components:{TooltipBtn:p},methods:{Submit(){if(this.validate.validated=!1,(this.question.name===""||this.question.name===null)&&(this.validate.name=!0,this.validate.validated=!0),(this.question.text===""||this.question.text===null)&&(this.validate.question=!0,this.validate.validated=!0),this.answers.forEach(h=>{h.show==!0&&h.text==""&&(this.validate.validated=!0)}),(this.question.explanation===""||this.question.explanation===null)&&(this.validate.explanation=!0,this.validate.validated=!0),this.validate.validated)return;const u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:this.question,answers:this.answers,skill_id:this.skillId})};var s="/questions/mc-questions/add";fetch(s,u).then(()=>{alert("Question added")}).then(()=>{this.$router.go(-1)})},addAnswer(){this.answers[2].show==!1?this.answers[2].show=!0:this.answers[3].show==!1?this.answers[3].show=!0:this.answers[4].show==!1&&(this.answers[4].show=!0)},removeAnswer(){this.answers[4].show==!0?(this.answers[4].show=!1,this.question.correct_answer==5&&(this.question.correct_answer=4)):this.answers[3].show==!0?(this.answers[3].show=!1,this.question.correct_answer==4&&(this.question.correct_answer=3)):this.answers[2].show==!0&&(this.answers[2].show=!1,this.question.correct_answer==3&&(this.question.correct_answer=2))}}},C={class:"container p-3 bg-light rounded"},M={class:"d-flex flex-lg-row flex-column align-items-start align-items-lg-center gap-2"},S=e("h1",{class:"heading"},"Add Multiple Choice Question",-1),T={class:"main-content-container container-fluid mt-4"},B={class:"row p-0"},Q={id:"form-container",class:"col-lg-6 p-4"},z={class:"mb-3"},H=e("label",{for:"question_name",class:"form-label"},"Question Name",-1),N={key:0,class:"form-validate"},U={class:"mb-3"},L=e("label",{for:"last_name",class:"form-label"},"Question",-1),O={key:0,class:"form-validate"},D={class:"form-label"},E={class:"d-flex answer-option"},I=["onUpdate:modelValue","id"],j={key:0,class:"form-validate"},F={class:"form-check"},P=["id","value"],R=["for"],J=e("svg",{"data-v-ea3cd1bf":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"15",height:"15",fill:"white"},[e("path",{"data-v-ea3cd1bf":"",d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),G={class:"mb-3"},K=e("svg",{width:"20",height:"20",fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[e("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"})],-1),W={class:"mb-3 form-check"},X=e("label",{for:"randomOrder",class:"form-check-label"},"Show answers in random order",-1),Y={class:"mb-3"},Z=e("label",{class:"form-label"},"Explanation",-1),$={key:0,class:"form-validate"},ee={class:"d-flex justify-content-end gap-4"};function te(u,s,h,se,t,d){const f=_("TooltipBtn");return n(),i("div",C,[e("div",M,[S,x(f,{trianglePosition:"left",absoluteTop:"37px",toolTipText:"Multiple Choice Question (MCQ): A question with a list of options where only one is correct. Students have to select the best answer from the choices provided. Distractors (incorrect options) are included to challenge the student's understanding."})]),e("div",T,[e("div",B,[e("div",Q,[e("div",z,[H,a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.question.name=o),type:"text",class:"form-control",id:"question_name"},null,512),[[c,t.question.name]]),t.validate.name&&(t.question.name===""||t.question.name===null)?(n(),i("div",N," please name the question! ")):r("",!0)]),e("div",U,[L,a(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.question.text=o),rows:"1",class:"form-control"},`
                        `,512),[[c,t.question.text]]),t.validate.question&&(t.question.text===""||t.question.text===null)?(n(),i("div",O," please enter a question! ")):r("",!0)]),(n(!0),i(b,null,q(t.answers,(o,l)=>a((n(),i("div",{key:l,class:"mb-3"},[e("label",D,"Answer "+V(l+1)+":",1),e("div",E,[a(e("input",{"onUpdate:modelValue":m=>o.text=m,id:"answer"+(l+1),placeholder:"Enter answer option",type:"text",class:"form-control"},null,8,I),[[c,o.text]])]),t.validate.validated&&o.text===""?(n(),i("div",j," please enter an answer! ")):r("",!0),e("div",F,[a(e("input",{class:"form-check-input",type:"radio",id:"correct"+(l+1),name:"correctAnswer",value:l+1,"onUpdate:modelValue":s[2]||(s[2]=m=>t.question.correct_answer=m)},null,8,P),[[y,t.question.correct_answer]]),e("label",{for:"correct"+(l+1),class:""},"Set as correct",8,R)])])),[[k,o.show]])),128)),t.answers[2].show==!0?(n(),i("button",{key:0,onClick:s[3]||(s[3]=o=>d.removeAnswer()),"data-v-ea3cd1bf":"",type:"button",class:"btn red-btn p-2 mb-2",title:"Delete answer"},[J,w("Â Remove Answer ")])):r("",!0),e("div",G,[t.answers[4].show==!1?(n(),i("button",{key:0,onClick:s[4]||(s[4]=(...o)=>d.addAnswer&&d.addAnswer(...o)),class:"btn primary-btn"},[K,w(" Add Answer ")])):r("",!0)]),e("div",W,[a(e("input",{type:"checkbox",id:"randomOrder","onUpdate:modelValue":s[5]||(s[5]=o=>t.question.is_random=o),class:"form-check-input"},null,512),[[g,t.question.is_random]]),X]),e("div",Y,[Z,a(e("textarea",{"onUpdate:modelValue":s[6]||(s[6]=o=>t.question.explanation=o),class:"form-control",rows:"3"},null,512),[[c,t.question.explanation]]),t.validate.explanation&&(t.question.explanation===""||t.question.explanation===null)?(n(),i("div",$," please enter an explanation! ")):r("",!0)]),e("div",ee,[e("a",{class:"btn red-btn",onClick:s[7]||(s[7]=o=>u.$router.go(-1))},"Cancel "),e("button",{class:"btn primary-btn",onClick:s[8]||(s[8]=o=>d.Submit())}," Submit ")])])])])])}const ie=v(A,[["render",te]]);export{ie as default};
