import{m as h}from"./main-1bd7eaf1.js";import{_ as d,f as u,L as g,o as p,c as _}from"./main-3705768a.js";const D={setup(){const e=u(),t=g();return{userDetailsStore:e,userSkillsStore:t}},props:["data"],data(){return{chartOrientation:"horizontal"}},async mounted(){this.drawTimeLineChartWithMilesStone(),this.calculateChartLength(this.data)},methods:{drawTimeLineChartWithMilesStone(){h("#passed-assessments-timeline").mapping({timestamp:"mastered_date",text:"labelName"}).aggregateBy("week").labelFormat("%d-%m-%Y").optimize(!0).orientation(this.chartOrientation).renderCallback(()=>{if(this.changeLabelColor(),this.chartOrientation==="vertical"){const t=document.getElementsByClassName("milestones")[0];t.style.marginLeft="30%"}}).render(this.data),this.changeBulletColor(),this.changeLabelColor()},calculateChartLength(e){const t=e[0].date,s=e[e.length-1].date,n=this.getDaysBetweenDates(t,s),a=e.length;this.chartWidth=n*3+a*50+"px"},getDaysBetweenDates(e,t){const s=new Date(e),n=new Date(t),a=s.getTime(),i=n.getTime(),l=Math.abs(i-a),o=1e3*60*60*24;return Math.round(l/o)},changeBulletColor(){const t=document.getElementsByClassName("milestones")[0].getElementsByClassName("milestones__group");for(let s=0;s<t.length;s++){const n=t[s],i=n.getElementsByClassName("milestones-link-label")[0].id,l=this.data.find(m=>m.id===parseInt(i)),r=n.getElementsByClassName("milestones__group__bullet")[0],c=this.mapSkillLevelWithColor(l.level);r.style.backgroundColor=c}},changeLabelColor(){this.data.forEach(e=>{const t=document.getElementById(e.id),s=this.data.find(a=>parseInt(t.id)===a.id),n=this.mapSkillLevelWithColor(s.level);t.style.color=n})},mapSkillLevelWithColor(e){switch(e){case"grade_school":return"#116b62";case"middle_school":return"#168216";case"high_school":return"#7d6a02";case"college":return"#ffa500";case"phd":return"#9e0000"}},handleOrientationBtnClick(e){this.chartOrientation=e,this.drawTimeLineChartWithMilesStone()}}},f={id:"passed-assessments-timeline"};function C(e,t,s,n,a,i){return p(),_("div",f)}const b=d(D,[["render",C]]);export{b as P};
