import{_ as H,a as x,r as y,o as i,c as n,d as t,n as V,m as g,F as u,z as m,b as d,t as r,e as w,j as C,p as M,f as F}from"./main-275a017c.js";const z={setup(){return{userDetailsStore:x()}},data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[],isDragging:!1,files:[],duplicates:[],missingFields:[],showModal:!1,modalClick:!1}},async created(){},mounted:function(){},methods:{OnFileChange(o){var l=o.target.files||o.dataTransfer.files;l.length},ReadFile(o){var l=new FileReader;l.onload=async h=>{var a=h.target.result,s=a.split(/\r?\n|\r|\n/g);for(let c=s.length-1;c>=0;c--)if(s[c]=="")s.splice(c,1);else{const _=s[c].split("|");if(_.length!=8){const e=c+1,v=_.length-8>0?"more":"less",b=Math.abs(8-_.length),k={fileName:o.name,line:e,missingType:v,numberOfMissingField:b};this.missingFields.push(k)}else this.questionsArray.push(_)}},l.readAsText(o)},async Submit(){const o=[];if((this.missingFields.length||this.duplicates.length)&&!this.modalClick){this.showModal=!0;return}for(let a=0;a<this.questionsArray.length;a++){const s={};s.name=this.questionsArray[a][0],s.question=this.questionsArray[a][1],s.correct_answer=this.questionsArray[a][2],s.incorrect_answer_1=this.questionsArray[a][3],s.incorrect_answer_2=this.questionsArray[a][4],s.incorrect_answer_3=this.questionsArray[a][5],s.incorrect_answer_4=this.questionsArray[a][6],s.explanation=this.questionsArray[a][7],o.push(s)}const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:o})};var h="/skills/"+this.skillId+"/mc-questions/add";fetch(h,l).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})},onChange(){const o=[];o.push(...this.$refs.file.files),this.files.push(...this.$refs.file.files);const l=this.files.map(h=>h.name);this.duplicates=l.filter((h,a)=>l.indexOf(h)!==a),!this.duplicates.length&&o.forEach(h=>{this.ReadFile(h)})},dragover(o){o.preventDefault(),this.isDragging=!0},dragleave(){this.isDragging=!1},drop(o){o.preventDefault(),this.$refs.file.files=o.dataTransfer.files,this.onChange(),this.isDragging=!1},remove(o,l){this.files.splice(o,1),this.duplicates=[],this.missingFields=[],this.questionsArray=[],this.files.forEach(h=>this.ReadFile(h))}}},p=o=>(M("data-v-eb376007"),o=o(),F(),o),S={class:"container mt-3"},q={key:0},A={class:"row mt-5"},D={for:"fileInput",class:"file-label"},O={key:0},L={key:1},T=p(()=>t("span",{id:"click-here-label"},"click here",-1)),I={key:0,class:"preview-container mt-4 row gap-2 d-none d-lg-flex"},N={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},B=p(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),R=[B],$={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},j=p(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),P=[j],Q={class:""},E=["onClick"],Y=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"16",height:"16"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),J=[Y],X={key:0,class:"validate-line mt-3"},U={key:1,class:"validate-line mt-3"},G={key:1,class:"preview-container mt-4 row gap-2 d-lg-none"},K={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},W=p(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),Z=[W],ee={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},se=p(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),te=[se],ie={class:""},ne=["onClick"],le=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"12",height:"12"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),oe=[le],ce={key:0,class:"validate-line mt-3"},re={class:"mt-3"},ae={class:"row mt-4"},de={class:"col-sm-4"},he={key:0},ue={id:"myModal",class:"modal"},_e={class:"modal-content"},ge={key:0,class:"mb-3"},me=p(()=>t("span",{class:"text-warning"},"If you still wish to submit them, the lines below will not be created: ",-1)),ve={key:1},pe={class:"mt-4",style:{display:"flex",gap:"10px","justify-content":"end"}};function fe(o,l,h,a,s,c){const _=y("router-link");return i(),n(u,null,[t("div",S,[a.userDetailsStore.role=="admin"?(i(),n("div",q,[t("div",null,[t("div",A,[t("div",{class:"dropzone-container mx-lg-3 my-2",onDragover:l[1]||(l[1]=(...e)=>c.dragover&&c.dragover(...e)),onDragleave:l[2]||(l[2]=(...e)=>c.dragleave&&c.dragleave(...e)),onDrop:l[3]||(l[3]=(...e)=>c.drop&&c.drop(...e)),style:V(s.isDragging&&"border-color: #8f7bd6;")},[t("input",{type:"file",multiple:"",name:"file",id:"fileInput",class:"hidden-input",onChange:l[0]||(l[0]=(...e)=>c.onChange&&c.onChange(...e)),ref:"file",accept:".csv, .txt"},null,544),t("label",D,[s.isDragging?(i(),n("div",O," Release to drop files here. ")):(i(),n("div",L,[g(" Drop files here or "),T,g(" to upload CSV and TXT file. ")]))]),s.files.length?(i(),n("div",I,[(i(!0),n(u,null,m(s.files,e=>(i(),n("div",{key:e.name,class:"preview-card col-3 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",N,R)):d("",!0),e.type=="text/plain"?(i(),n("svg",$,P)):d("",!0),t("p",Q,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files.indexOf(e),e.name),title:"Remove file"},J,8,E)])]))),128)),s.duplicates.length?(i(),n("div",X,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,m(s.duplicates,e=>(i(),n("span",{key:e},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",U,[g(" Please check your CSVs files: "),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0),s.files.length?(i(),n("div",G,[(i(!0),n(u,null,m(s.files,e=>(i(),n("div",{key:e.name,class:"preview-card col-10 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",K,Z)):d("",!0),e.type=="text/plain"?(i(),n("svg",ee,te)):d("",!0),t("p",ie,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"btn btn-danger",onClick:v=>c.remove(s.files.indexOf(e),e.name),title:"Remove file"},oe,8,ne)])]))),128)),s.missingFields.length?(i(),n("div",ce,[g(" Please check your CSVs files: "),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0)],36)]),t("div",re,[t("div",{class:"btn primary-btn",onClick:l[4]||(l[4]=e=>c.Submit())},"Submit")])])])):d("",!0),t("div",ae,[t("div",de,[w(_,{class:"btn green-btn",to:"/mc-questions/"+s.skillId+"/add"},{default:C(()=>[g("Multiple Choice ")]),_:1},8,["to"])])])]),s.showModal?(i(),n("div",he,[t("div",ue,[t("div",_e,[s.missingFields.length?(i(),n("p",ge,[g(" Your files contain questions with incorrect formatting. "),me])):d("",!0),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default. ",1))),128)),s.duplicates.length?(i(),n("p",ve," Please remove any duplicate files that are submitted below: ")):d("",!0),(i(!0),n(u,null,m(s.duplicates,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e)+". ",1))),128)),t("div",pe,[t("button",{type:"button",class:"btn green-btn",onClick:l[5]||(l[5]=e=>{s.modalClick=!0,c.Submit()})}," Still Submit "),t("button",{type:"button",class:"btn red-btn",onClick:l[6]||(l[6]=e=>s.showModal=!1)}," Cancel ")])])])])):d("",!0)],64)}const ye=H(z,[["render",fe],["__scopeId","data-v-eb376007"]]);const we={setup(){return{userDetailsStore:x()}},data(){return{skillId:this.$route.params.id,questionCSVFile:"",questionsArray:[],isDragging:!1,files_essay:[],duplicates:[],missingFields:[],showModal:!1,clickModal:!1}},async created(){},mounted:function(){},methods:{OnFileChange(o){var l=o.target.files||o.dataTransfer.files;l.length&&this.ReadFile(l[0])},ReadFile(o){var l=new FileReader;l.onload=h=>{var a=h.target.result,s=a.split(/\r?\n|\r|\n/g);for(let c=s.length-1;c>=0;c--){s[c]===""&&s.splice(c,1);let _;if(s[c]!==void 0)_=s[c].split("|");else break;if(_.length!=2){const e=c+1,v=_.length-2>0?"more":"less",b=Math.abs(2-_.length),k={fileName:o.name,line:e,missingType:v,numberOfMissingField:b};this.missingFields.push(k)}else this.questionsArray.push(_)}},l.readAsText(o)},async Submit(){const o=[];if((this.missingFields.length||this.duplicates.length)&&!this.clickModal){this.showModal=!0;return}for(let a=0;a<this.questionsArray.length;a++){const s={};s.name=this.questionsArray[a][0],s.question=this.questionsArray[a][1],o.push(s)}const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionArray:o})};var h="/skills/"+this.skillId+"/essay-questions/add";fetch(h,l).then(()=>{this.$router.push("/skills/"+this.skillId+"/question-bank")})},onChange(){const o=[];o.push(...this.$refs.file_essay.files),this.files_essay.push(...this.$refs.file_essay.files);const l=this.files_essay.map(h=>h.name);this.duplicates=l.filter((h,a)=>l.indexOf(h)!==a),!this.duplicates.length&&o.forEach(h=>{this.ReadFile(h)})},dragover(o){o.preventDefault(),this.isDragging=!0},dragleave(){this.isDragging=!1},drop(o){o.preventDefault(),this.$refs.file_essay.files=o.dataTransfer.files,this.onChange(),this.isDragging=!1},remove(o,l){this.files_essay.splice(o,1),this.duplicates=[],this.missingFields=[],this.questionsArray=[],this.files_essay.forEach(h=>this.ReadFile(h))}}},f=o=>(M("data-v-0f088124"),o=o(),F(),o),be={class:"container mt-3"},ke={key:0},He={class:"row mt-5"},Ce={for:"fileInput_essay",class:"file-label"},xe={key:0},Ve={key:1},Me=f(()=>t("span",{id:"click-here-label"},"click here",-1)),Fe={key:0,class:"preview-container mt-4 row gap-2 d-none d-lg-flex"},ze={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},Se=f(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),qe=[Se],Ae={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},De=f(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),Oe=[De],Le={class:"input-file-name"},Te=["onClick"],Ie=f(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"16",height:"16"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),Ne=[Ie],Be={key:0,class:"validate-line mt-3"},Re={key:1,class:"validate-line mt-3"},$e={key:1,class:"preview-container mt-4 row gap-2 d-lg-none"},je={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"green",width:"60",height:"60"},Pe=f(()=>t("path",{d:"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40zm133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H333.1c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16z"},null,-1)),Qe=[Pe],Ee={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"60",height:"60",fill:"grey"},Ye=f(()=>t("path",{d:"M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"},null,-1)),Je=[Ye],Xe={class:"input-file-name"},Ue=["onClick"],Ge=f(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"white",width:"12",height:"12"},[t("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})],-1)),Ke=[Ge],We={key:0,class:"validate-line mt-3"},Ze={key:1,class:"validate-line mt-3"},es={class:"row mt-3"},ss={class:"col"},ts={class:"row mt-4"},is={class:"col-sm-4"},ns={key:0},ls={id:"myModal",class:"modal"},os={class:"modal-content"},cs={key:0,class:"mb-3"},rs=f(()=>t("span",{class:"text-warning"},"If you still wish to submit them, the lines below will not be created: ",-1)),as={key:1},ds={class:"mt-4",style:{display:"flex",gap:"10px","justify-content":"end"}};function hs(o,l,h,a,s,c){const _=y("router-link");return i(),n(u,null,[t("div",be,[a.userDetailsStore.role=="admin"?(i(),n("div",ke,[t("div",He,[t("div",{class:"dropzone-container",onDragover:l[1]||(l[1]=(...e)=>c.dragover&&c.dragover(...e)),onDragleave:l[2]||(l[2]=(...e)=>c.dragleave&&c.dragleave(...e)),onDrop:l[3]||(l[3]=(...e)=>c.drop&&c.drop(...e)),style:V(s.isDragging&&"border-color: #8f7bd6;")},[t("input",{type:"file",multiple:"",name:"file_essay",id:"fileInput_essay",class:"hidden-input",onChange:l[0]||(l[0]=(...e)=>c.onChange&&c.onChange(...e)),ref:"file_essay",accept:".csv,.txt"},null,544),t("label",Ce,[s.isDragging?(i(),n("div",xe,"Release to drop files here.")):(i(),n("div",Ve,[g(" Drop files here or "),Me,g(" to upload CSV and TXT file. ")]))]),s.files_essay.length?(i(),n("div",Fe,[(i(!0),n(u,null,m(s.files_essay,e=>(i(),n("div",{key:e.name,class:"preview-card col-3 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",ze,qe)):d("",!0),e.type=="text/plain"?(i(),n("svg",Ae,Oe)):d("",!0),t("p",Le,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files_essay.indexOf(e),e.name),title:"Remove file"},Ne,8,Te)])]))),128)),s.duplicates.length?(i(),n("div",Be,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,m(s.duplicates,e=>(i(),n("span",{key:e.name},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",Re,[g(" Please check your CSVs files: "),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0),s.files_essay.length?(i(),n("div",$e,[(i(!0),n(u,null,m(s.files_essay,e=>(i(),n("div",{key:e.name,class:"preview-card col-10 d-flex justify-content-between"},[t("div",null,[e.type=="text/csv"?(i(),n("svg",je,Qe)):d("",!0),e.type=="text/plain"?(i(),n("svg",Ee,Je)):d("",!0),t("p",Xe,r(e.name)+" ("+r(Math.round(e.size/1e3)+"kb")+") ",1)]),t("div",null,[t("button",{class:"ms-2 btn btn-danger",onClick:v=>c.remove(s.files_essay.indexOf(e),e.name),title:"Remove file"},Ke,8,Ue)])]))),128)),s.duplicates.length?(i(),n("div",We,[g(" You have add duplicate csv files. Please remove the duplicate file for "),(i(!0),n(u,null,m(s.duplicates,e=>(i(),n("span",{key:e.name},r(e)+",   ",1))),128))])):d("",!0),s.missingFields.length?(i(),n("div",Ze,[g(" Please check your CSVs files: "),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default.   ",1))),128))])):d("",!0)])):d("",!0)],36)]),t("div",es,[t("div",ss,[t("div",{class:"btn primary-btn",onClick:l[4]||(l[4]=(...e)=>c.Submit&&c.Submit(...e))},"Submit")])])])):d("",!0),t("div",ts,[t("div",is,[w(_,{class:"btn green-btn",to:"/essay-questions/"+s.skillId+"/add"},{default:C(()=>[g("Essay ")]),_:1},8,["to"])])])]),s.showModal?(i(),n("div",ns,[t("div",ls,[t("div",os,[s.missingFields.length?(i(),n("p",cs,[g(" Your files contain questions with incorrect formatting. "),rs])):d("",!0),(i(!0),n(u,null,m(s.missingFields,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e.fileName)+" at Line "+r(e.line)+" have "+r(e.numberOfMissingField)+" "+r(e.missingType)+" field than default. ",1))),128)),s.duplicates.length?(i(),n("p",as," Please remove any duplicate files that are submitted below: ")):d("",!0),(i(!0),n(u,null,m(s.duplicates,e=>(i(),n("div",{class:"modal-warning-line mb-3",key:e}," File: "+r(e)+". ",1))),128)),t("div",ds,[t("button",{type:"button",class:"btn green-btn",onClick:l[5]||(l[5]=e=>{s.clickModal=!0,c.Submit()})}," Still Submit "),t("button",{type:"button",class:"btn red-btn",onClick:l[6]||(l[6]=e=>s.showModal=!1)}," Cancel ")])])])])):d("",!0)],64)}const us=H(we,[["render",hs],["__scopeId","data-v-0f088124"]]);const _s={data(){return{skillId:this.$route.params.id}},components:{AddMCQuestion:ye,AddEssayQuestion:us}},gs={class:"container bg-light rounded p-3"},ms=t("h1",{class:"heading"},"Add Question",-1),vs={class:"container mt-3"},ps={class:"row mt-4"},fs={class:"col-sm-4"},ys={class:"container mt-3 pb-3 pe-0"},ws={class:"d-flex flex-row-reverse pe-0 me-lg-0 me-2"};function bs(o,l,h,a,s,c){const _=y("AddMCQuestion"),e=y("AddEssayQuestion"),v=y("router-link");return i(),n("div",gs,[ms,w(_),w(e),t("div",vs,[t("div",ps,[t("div",fs,[w(v,{class:"btn green-btn",to:"/image-questions/"+s.skillId+"/add"},{default:C(()=>[g("Image ")]),_:1},8,["to"])])])]),t("div",ys,[t("div",ws,[t("a",{class:"btn red-btn",onClick:l[0]||(l[0]=b=>o.$router.go(-1))},"Cancel")])])])}const Hs=H(_s,[["render",bs]]);export{Hs as default};
