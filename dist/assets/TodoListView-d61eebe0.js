import{_ as S,o as g,c as h,e as a,m as l,d as o,i as T,s as b,t as r,b as p,T as E,F as $,p as Q,f as R,r as m,x as y,g as O,a as q}from"./main-4147321d.js";import{u as C}from"./SettingsStore-e806e236.js";import{u as U}from"./StudentMCQuestionsStore-b480263f.js";import{u as V}from"./InstructorStudentsStore-093f0b6a.js";import{D as k,_ as f,C as W}from"./ContentFlagsView-ebf59f7f.js";import{_ as M}from"./general-banner-1c13aca4.js";import"./EssayQuestionsStore-feb9873f.js";import"./edit-mastery-skill-banner-9e7c0291.js";const F={setup(){},data(){return{showNavBar:!0,todoCount:null,contentEditCount:0,studentQuestionCount:0,contentFlagCount:0}},props:["activeContent"],methods:{changeActiveContent(t){this.$parent.activeContent=t,this.$router.push({query:{nav:t}})}},async mounted(){const e=await(await fetch("/todo-count/total")).json();this.todoCount=e,this.studentQuestionCount=this.todoCount.student_question_count,this.contentFlagCount=this.todoCount.content_flag_count,this.contentEditCount=parseInt(this.todoCount.skill_edit_count)+parseInt(this.todoCount.mc_question_edit_count)+parseInt(this.todoCount.essay_question_edit_count)+parseInt(this.todoCount.image_question_edit_count)}},L=t=>(Q("data-v-a430f163"),t=t(),R(),t),B={key:0,class:"nav-bar-container d-flex flex-column"},z={class:"d-flex justify-content-between pe-4"},H=L(()=>o("h1",{class:"todo-title ps-2 pt-2"},"Todo List",-1)),j=L(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"20",heigh:"20",fill:"#8666ca"},[o("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})],-1)),Z=[j],J=L(()=>o("hr",null,null,-1)),G={class:"d-flex flex-column gap-3"},K={class:"badge bg-danger","b-on-hover":"",title:"number of content edit that needed to approve"},X={"b-on-hover":"",title:"number of student question that needed to approve",class:"badge bg-danger"},Y={class:"badge bg-danger","b-on-hover":"",title:"number of content flag that needed to check"},tt=L(()=>o("div",{class:"nav-col group"},null,-1)),et=L(()=>o("button",{class:"expand-icon-div group","b-on-hover":"",title:"Expand Nav Bar"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"12",heigh:"12",fill:"#8666ca"},[o("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})])],-1)),st=[tt,et];function it(t,e,s,d,i,n){return g(),h($,null,[a(E,{name:"navbar"},{default:l(()=>[i.showNavBar?(g(),h("div",B,[o("div",z,[H,o("button",{type:"button",class:"icon-div d-flex align-items-center px-3 py-2",onClick:e[0]||(e[0]=u=>i.showNavBar=!1),"b-on-hover":"",title:"Shrink Nav Bar"},Z)]),J,o("div",G,[o("button",{class:T(["nav-item-tile",s.activeContent==="editList"?"active-item":"nav-bar-item"]),onClick:e[1]||(e[1]=u=>n.changeActiveContent("editList"))},[b(" Approve Content Edits "),o("span",K,r(i.contentEditCount),1)],2),o("button",{class:T(["nav-item-tile",s.activeContent==="studentQuestionList"?"active-item":"nav-bar-item"]),onClick:e[2]||(e[2]=u=>n.changeActiveContent("studentQuestionList"))},[b(" Approve Student Added Questions "),o("span",X,r(i.studentQuestionCount),1)],2),o("button",{class:T(["nav-item-tile",s.activeContent==="flagList"?"active-item":"nav-bar-item"]),onClick:e[3]||(e[3]=u=>n.changeActiveContent("flagList"))},[b(" Check Content Flags "),o("span",Y,r(i.contentFlagCount),1)],2)])])):p("",!0)]),_:1}),a(E,{name:"navbarMini"},{default:l(()=>[i.showNavBar?p("",!0):(g(),h("button",{key:0,class:"position-relative minimize-navbar",onClick:e[4]||(e[4]=u=>i.showNavBar=!0)},st))]),_:1})],64)}const ot=S(F,[["render",it],["__scopeId","data-v-a430f163"]]);const nt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"Student",value:"studentName"},{text:"Question",value:"question"},{text:"Skill Name",value:"skillName"},{text:"Date",value:"date"}],mobileHeaders:[{text:"Student",value:"studentName"},{text:"Question",value:"question"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:k},props:["studentQuestion","loadingQuestion"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoStudentQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoStudentQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoStudentQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/check-student-question/${t.id}`)},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var d=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return d=d.toLocaleDateString("en-US",i),d}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoStudentQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoStudentQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoStudentQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoStudentQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},x=t=>(Q("data-v-8c37c307"),t=t(),R(),t),at={class:"mt-3 table-div h-100"},lt=x(()=>o("img",{src:f,alt:"loading data"},null,-1)),dt=x(()=>o("img",{src:f,alt:"loading data"},null,-1)),rt={class:"d-none"};function ut(t,e,s,d,i,n){const u=m("RouterLink"),_=m("Vue3EasyDataTable");return g(),h("div",at,[a(_,{ref:"dataTable",headers:i.headers,items:s.studentQuestion,alternating:"",loading:s.loadingQuestion,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:l(()=>[lt]),"item-date":l(({create_date:c})=>[o("div",null,r(n.formatDate(c)),1)]),"item-question":l(({question:c,id:w})=>[a(u,{class:"cell-link",to:`/check-student-question/${w}`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(_,{ref:"dataTableM",headers:i.mobileHeaders,items:s.studentQuestion,alternating:"",loading:s.loadingQuestion,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:l(()=>[dt]),"item-date":l(({create_date:c})=>[o("div",null,r(n.formatDate(c)),1)]),_:1},8,["headers","items","loading","onClickRow"]),o("div",rt,r(n.rowsPerPage)+" "+r(n.rowsPerPageM),1)])}const ct=S(nt,[["render",ut],["__scopeId","data-v-8c37c307"]]);const gt={setup(){const t=U(),e=V(),s=y(),d=O(),i=q();return{studentMCQuestionsStore:t,instructorStudentsStore:e,usersStore:s,skillsStore:d,userDetailsStore:i}},data(){return{questions:[],loadingQuestion:!0}},components:{StudentQuestionList:ct},async created(){this.loadingQuestion=!0,await this.studentMCQuestionsStore.getStudentMCQuestions(),this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)for(let e=0;e<this.usersStore.users.length;e++)this.studentMCQuestionsStore.studentMCQuestions[t].student_id==this.usersStore.users[e].id&&(this.studentMCQuestionsStore.studentMCQuestions[t].studentName=this.usersStore.users[e].username);for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)typeof this.studentMCQuestionsStore.studentMCQuestions[t].studentName>"u"&&(this.studentMCQuestionsStore.studentMCQuestions[t].studentName="Deleted student");this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let t=0;t<this.studentMCQuestionsStore.studentMCQuestions.length;t++)for(let e=0;e<this.skillsStore.skillsList.length;e++)this.studentMCQuestionsStore.studentMCQuestions[t].skill_id==this.skillsStore.skillsList[e].id&&(this.studentMCQuestionsStore.studentMCQuestions[t].skillName=this.skillsStore.skillsList[e].name);this.questions=this.studentMCQuestionsStore.studentMCQuestions,this.$parent.studentQuestionCount=this.questions.length,this.loadingQuestion=!1},computed:{},methods:{}},ht=o("div",{id:"banner"},[o("img",{src:M,class:"img-fluid"})],-1),mt=o("h2",{class:"ps-3 mt-2 page-title"},"Approve Student Added Questions",-1),_t={class:"container-fluid"};function vt(t,e,s,d,i,n){const u=m("StudentQuestionList");return g(),h("div",null,[ht,mt,o("div",_t,[a(u,{studentQuestion:i.questions,loadingQuestion:i.loadingQuestion},null,8,["studentQuestion","loadingQuestion"])])])}const wt=S(gt,[["render",vt]]);const pt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Content",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Comment",value:"comment"},{text:"Skill",value:"skill_name"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:k},props:["mcQuestionList","mcQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTableMC,this.dataTableRefM=this.$refs.dataTableMCM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoMcQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoMcQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.mc_question_id}/${t.user_id}/comparison?type=mcquestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoMcQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoMcQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoMcQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(console.log("MOBILE CALL"),console.log(this.settingStore.todoMcQuestionTableRows),this.settingStore.todoMcQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},I=t=>(Q("data-v-545cdc91"),t=t(),R(),t),bt={class:"mt-3 pt-4 table-div"},ft=I(()=>o("img",{src:f,alt:"loading data"},null,-1)),St={class:"d-none"},Tt=I(()=>o("img",{src:f,alt:"loading data"},null,-1));function Qt(t,e,s,d,i,n){const u=m("RouterLink"),_=m("Vue3EasyDataTable");return g(),h("div",bt,[a(_,{ref:"dataTableMC",headers:i.headers,items:s.mcQuestionList,alternating:"",loading:s.mcQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:l(()=>[ft]),"item-name":l(({name:c,mc_question_id:w,user_id:v})=>[a(u,{class:"cell-link",to:`/content-edit/${w}/${v}/comparison?type=mcquestion`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),o("div",St,r(n.rowsPerPage)+" "+r(n.rowsPerPageM),1),a(_,{ref:"dataTableMCM",headers:i.mobileHeaders,items:s.mcQuestionList,alternating:"",loading:s.mcQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none"},{loading:l(()=>[Tt]),"item-name":l(({name:c,mc_question_id:w,user_id:v})=>[a(u,{class:"cell-link",to:`/content-edit/${w}/${v}/comparison?type=mcquestion`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"])])}const Rt=S(pt,[["render",Qt],["__scopeId","data-v-545cdc91"]]);const Ct={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Skill Name",value:"name"},{text:"Skill Level",value:"level"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Skill Name",value:"name"},{text:"Comment",value:"comment"}],dataTableRef:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:k},props:["skillsEditList","skillEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoSkillTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoSkillTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoSkillTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoSkillTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoSkillTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoSkillTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.skill_id}/${t.user_id}/comparison?type=skill`)},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var d=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return d=d.toLocaleDateString("en-US",i),d}}},D=t=>(Q("data-v-618066c6"),t=t(),R(),t),kt={class:"mt-3 pt-4 table-div h-100"},Lt=D(()=>o("img",{src:f,alt:"loading data"},null,-1)),Pt={class:"d-none"},Et=D(()=>o("img",{src:f,alt:"loading data"},null,-1));function yt(t,e,s,d,i,n){const u=m("RouterLink"),_=m("Vue3EasyDataTable");return g(),h("div",kt,[a(_,{ref:"dataTable",headers:i.headers,items:s.skillsEditList,alternating:"",loading:s.skillEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:l(()=>[Lt]),"item-name":l(({name:c,skill_id:w,user_id:v})=>[a(u,{class:"cell-link",to:`/content-edit/${w}/${v}/comparison?type=skill`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),o("div",Pt,r(n.rowsPerPage)+" "+r(n.rowsPerPageM),1),a(_,{ref:"dataTableM",headers:i.mobileHeaders,items:s.skillsEditList,alternating:"",loading:s.skillEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:l(()=>[Et]),_:1},8,["headers","items","loading","onClickRow"])])}const Mt=S(Ct,[["render",yt],["__scopeId","data-v-618066c6"]]);const xt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Content",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:k},props:["writtenEditsList","essayQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoEssayQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoEssayQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.essay_question_id}/${t.user_id}/comparison?type=essayquestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoEssayQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoEssayQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoEssayQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(console.log("MOBILE CALL"),console.log(this.settingStore.todoEssayQuestionTableRows),this.settingStore.todoEssayQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},N=t=>(Q("data-v-a5b5e537"),t=t(),R(),t),It={class:"mt-3 pt-4 table-div"},Dt=N(()=>o("img",{src:f,alt:"loading data"},null,-1)),Nt=N(()=>o("img",{src:f,alt:"loading data"},null,-1)),At={class:"d-none"};function $t(t,e,s,d,i,n){const u=m("RouterLink"),_=m("Vue3EasyDataTable");return g(),h("div",It,[a(_,{ref:"dataTable",headers:i.headers,items:s.writtenEditsList,alternating:"",loading:s.essayQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:l(()=>[Dt]),"item-name":l(({name:c,essay_question_id:w,user_id:v})=>[a(u,{class:"cell-link",to:`/content-edit/${w}/${v}/comparison?type=mcquestion`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(_,{ref:"dataTableM",headers:i.mobileHeaders,items:s.writtenEditsList,alternating:"",loading:s.essayQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:l(()=>[Nt]),_:1},8,["headers","items","loading","onClickRow"]),o("div",At,r(n.rowsPerPage)+" "+r(n.rowsPerPageM),1)])}const Ot=S(xt,[["render",$t],["__scopeId","data-v-a5b5e537"]]);const qt={setup(){return{settingStore:C()}},data(){return{headers:[{text:"User",value:"userName"},{text:"Name",value:"name"},{text:"Content",value:"question"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],mobileHeaders:[{text:"User",value:"userName"},{text:"Skill",value:"skill_name"},{text:"Comment",value:"comment"},{text:"Date",value:"date"}],dataTableRef:null,dataTableRefM:null,isLoading:!0,isMounted:!1,windowWidth:1/0}},components:{Vue3EasyDataTable:k},props:["imageQuestionEditsList","imageQuestionEditsLoading"],async mounted(){this.dataTableRef=this.$refs.dataTable,this.dataTableRefM=this.$refs.dataTableM,this.isLoading=!0,this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0?(await this.settingStore.getSettings(),this.isLoading=!1):this.isLoading=!1,this.dataTableRef.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoImageQuestionTableRows)),this.dataTableRefM.updateRowsPerPageActiveOption(parseInt(this.settingStore.todoImageQuestionTableRows)),this.isMounted=!0,this.windowWidth=window.innerWidth},methods:{goToComparePage(t){this.$router.push(`/content-edit/${t.image_question_id}/${t.user_id}/comparison?type=imagequestion`)}},computed:{rowsPerPage(){var t,e,s;return this.isMounted&&parseInt(this.settingStore.todoImageQuestionTableRows)!==parseInt((t=this.dataTableRef)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoImageQuestionTableRows=(e=this.dataTableRef)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption},rowsPerPageM(){var t,e,s;return this.isMounted&&parseInt(this.windowWidth)<=575&&parseInt(this.settingStore.todoImageQuestionTableRows)!==parseInt((t=this.dataTableRefM)==null?void 0:t.rowsPerPageActiveOption)&&(this.settingStore.todoImageQuestionTableRows=(e=this.dataTableRefM)==null?void 0:e.rowsPerPageActiveOption,this.settingStore.saveSettings()),(s=this.dataTableRef)==null?void 0:s.rowsPerPageActiveOption}}},A=t=>(Q("data-v-ce54228d"),t=t(),R(),t),Ut={class:"mt-3 pt-4 table-div"},Vt=A(()=>o("img",{src:f,alt:"loading data"},null,-1)),Wt=A(()=>o("img",{src:f,alt:"loading data"},null,-1)),Ft={class:"d-none"};function Bt(t,e,s,d,i,n){const u=m("RouterLink"),_=m("Vue3EasyDataTable");return g(),h("div",Ut,[a(_,{ref:"dataTable",headers:i.headers,items:s.imageQuestionEditsList,alternating:"",loading:s.imageQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-none d-md-block"},{loading:l(()=>[Vt]),"item-name":l(({name:c,image_question_id:w,user_id:v})=>[a(u,{class:"cell-link",to:`/content-edit/${w}/${v}/comparison?type=imagequestion`},{default:l(()=>[b(r(c),1)]),_:2},1032,["to"])]),_:1},8,["headers","items","loading","onClickRow"]),a(_,{ref:"dataTableM",headers:i.mobileHeaders,items:s.imageQuestionEditsList,alternating:"",loading:s.imageQuestionEditsLoading,"table-class-name":"customize-table","buttons-pagination":"","theme-color":"#a48be6",onClickRow:n.goToComparePage,class:"d-md-none d-block"},{loading:l(()=>[Wt]),_:1},8,["headers","items","loading","onClickRow"]),o("div",Ft,r(n.rowsPerPage)+" "+r(n.rowsPerPageM),1)])}const zt=S(qt,[["render",Bt],["__scopeId","data-v-ce54228d"]]);const Ht={setup(){return{usersStore:y()}},props:["settingStore"],data(){return{skillEdits:[],mcQuestionEdits:[],essayQuestionEdits:[],imageQuestionEdits:[],activeList:"skills",showDropDown:!1,skillEditsLoading:!0,mcQuestionEditsLoading:!0,essayQuestionEditsLoading:!0,imageQuestionEditsLoading:!0,mobileNavCurrentLabel:"skills"}},components:{McQuestionsEditList:Rt,SkillEditsList:Mt,WrittenQuestionEditsList:Ot,ImageQuestionEditsList:zt},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers(),await this.getSkillEditsSubmittedForReview(),await this.getMCQuestionEditsSubmittedForReview(),await this.getEssayQuestionEditsSubmittedForReview(),await this.getImageQuestionsSubmittedForReview();const t=this.$route.query.list;t&&(this.activeList=t)},methods:{async getSkillEditsSubmittedForReview(){await fetch("/skills/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.skillEdits.push(t[e]);this.skillEditsLoading=!1})},async getMCQuestionEditsSubmittedForReview(){await fetch("/questions/mc/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.mcQuestionEdits.push(t[e]);this.mcQuestionEditsLoading=!1})},async getEssayQuestionEditsSubmittedForReview(){await fetch("/questions/essay/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.essayQuestionEdits.push(t[e]);this.essayQuestionEditsLoading=!1})},async getImageQuestionsSubmittedForReview(){await fetch("/questions/image-question/submitted-for-review/list").then(function(t){return t.json()}).then(t=>{for(let e=0;e<t.length;e++)t[e].date=this.formatDate(t[e].date),t[e].userName=this.findUserName(t[e].user_id),this.imageQuestionEdits.push(t[e]);this.imageQuestionEditsLoading=!1})},formatDate(t){var e=t.replace("T"," ");e=e.replace("Z"," ");let s=e.split(/[- :]/);var d=new Date(Date.UTC(s[0],s[1]-1,s[2],s[3],s[4],s[5])),i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return d=d.toLocaleDateString("en-US",i),d},findUserName(t){var e="";for(let s=0;s<this.usersStore.users.length;s++)this.usersStore.users[s].id==t&&(e=this.usersStore.users[s].username);return e},handleDropDownNavChoose(t){const e=t.replace(/([A-Z])/g," $1"),s=e.charAt(0).toUpperCase()+e.slice(1);this.mobileNavCurrentLabel=s,this.activeList=t,this.showDropDown=!1,this.$router.push({query:{list:t,nav:"editList"}})}}},P=t=>(Q("data-v-f01c71f6"),t=t(),R(),t),jt={class:"w-100"},Zt=P(()=>o("div",{id:"banner"},[o("img",{src:M,class:"img-fluid"})],-1)),Jt=P(()=>o("h2",{class:"ps-3 mt-2 page-title"},"Approve Content Edits",-1)),Gt={class:"d-none d-lg-flex desktop-nav-bar gap-4 px-3"},Kt={class:"d-flex d-lg-none flex-column mobile-nav-bar"},Xt=P(()=>o("span",null,[o("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M14.2929 8.70711C14.9229 8.07714 14.4767 7 13.5858 7H6.41421C5.52331 7 5.07714 8.07714 5.70711 8.70711L9.29289 12.2929C9.68342 12.6834 10.3166 12.6834 10.7071 12.2929L14.2929 8.70711Z",fill:"#344054"})])],-1)),Yt={key:0,class:"custom-dropdown-base"},te={class:"h-100"},ee={key:0},se={key:1},ie={key:2},oe={key:3};function ne(t,e,s,d,i,n){const u=m("SkillEditsList"),_=m("McQuestionsEditList"),c=m("WrittenQuestionEditsList"),w=m("ImageQuestionEditsList");return g(),h("div",jt,[Zt,Jt,o("div",Gt,[o("button",{class:T([i.activeList==="skills"?"active-nav":"normal-nav"]),onClick:e[0]||(e[0]=v=>n.handleDropDownNavChoose("skills"))}," Skills ",2),o("button",{class:T([i.activeList==="mcQuestions"?"active-nav":"normal-nav"]),onClick:e[1]||(e[1]=v=>n.handleDropDownNavChoose("mcQuestions"))}," Multiple Choice Questions ",2),o("button",{class:T([i.activeList==="writtenQuestions"?"active-nav":"normal-nav"]),onClick:e[2]||(e[2]=v=>n.handleDropDownNavChoose("writtenQuestions"))}," Essay Questions ",2),o("button",{class:T([i.activeList==="imageQuestions"?"active-nav":"normal-nav"]),onClick:e[3]||(e[3]=v=>n.handleDropDownNavChoose("imageQuestions"))}," Image Questions ",2)]),o("div",Kt,[o("div",{class:T(["text-capitalize",i.showDropDown?"custom-select-button-focus":"custom-select-button"]),onClick:e[4]||(e[4]=v=>i.showDropDown=!i.showDropDown)},[b(r(i.mobileNavCurrentLabel)+" ",1),Xt],2),i.showDropDown?(g(),h("div",Yt,[o("div",{class:"custom-dropdown-option",onClick:e[5]||(e[5]=v=>n.handleDropDownNavChoose("skills"))}," Skills "),o("div",{class:"custom-dropdown-option",onClick:e[6]||(e[6]=v=>n.handleDropDownNavChoose("mcQuestions"))}," Multiple Choice Questions "),o("div",{class:"custom-dropdown-option",onClick:e[7]||(e[7]=v=>n.handleDropDownNavChoose("writtenQuestions"))}," Essay Questions "),o("div",{class:"custom-dropdown-option",onClick:e[8]||(e[8]=v=>n.handleDropDownNavChoose("imageQuestions"))}," Image Questions ")])):p("",!0)]),o("div",te,[i.activeList==="skills"?(g(),h("div",ee,[a(u,{skillsEditList:i.skillEdits,skillEditsLoading:i.skillEditsLoading,settingStore:s.settingStore},null,8,["skillsEditList","skillEditsLoading","settingStore"])])):p("",!0),i.activeList==="mcQuestions"?(g(),h("div",se,[a(_,{mcQuestionList:i.mcQuestionEdits,mcQuestionEditsLoading:i.mcQuestionEditsLoading,settingStore:s.settingStore},null,8,["mcQuestionList","mcQuestionEditsLoading","settingStore"])])):p("",!0),i.activeList==="writtenQuestions"?(g(),h("div",ie,[a(c,{writtenEditsList:i.essayQuestionEdits,essayQuestionEditsLoading:i.essayQuestionEditsLoading,settingStore:s.settingStore},null,8,["writtenEditsList","essayQuestionEditsLoading","settingStore"])])):p("",!0),i.activeList==="imageQuestions"?(g(),h("div",oe,[a(w,{imageQuestionEditsList:i.imageQuestionEdits,imageQuestionEditsLoading:i.imageQuestionEditsLoading,settingStore:s.settingStore},null,8,["imageQuestionEditsList","imageQuestionEditsLoading","settingStore"])])):p("",!0)])])}const ae=S(Ht,[["render",ne],["__scopeId","data-v-f01c71f6"]]);const le={setup(){return{settingStore:C()}},data(){return{activeContent:"editList"}},components:{CheckStudentQuestions:wt,ContentEditsList:ae,PageNav:ot,ContentFlagsView:W},computed:{},async mounted(){(this.settingStore.todoContentFlagTableRows===0||this.settingStore.todoEssayQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoImageQuestionTableRows===0||this.settingStore.todoMcQuestionTableRows===0||this.settingStore.todoSkillTableRows===0)&&await this.settingStore.getSettings();const t=this.$route.query.nav;t&&(this.activeContent=t)},methods:{hideNavBar(){this.showNavBar=!1}}},de={class:"container-fluid h-100 p-0"},re={class:"h-100 d-flex"},ue={id:"contentDiv",class:"d-flex flex-column"},ce={key:0},ge={key:1},he={key:2};function me(t,e,s,d,i,n){const u=m("PageNav"),_=m("ContentEditsList"),c=m("CheckStudentQuestions"),w=m("ContentFlagsView");return g(),h("div",de,[o("div",re,[a(u,{activeContent:i.activeContent},null,8,["activeContent"]),o("div",ue,[i.activeContent==="editList"?(g(),h("div",ce,[a(_)])):p("",!0),i.activeContent==="studentQuestionList"?(g(),h("div",ge,[a(c)])):p("",!0),i.activeContent==="flagList"?(g(),h("div",he,[a(w)])):p("",!0)])])])}const Qe=S(le,[["render",me]]);export{Qe as default};
