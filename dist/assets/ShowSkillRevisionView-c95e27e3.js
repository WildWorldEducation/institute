import{_ as f,o as r,c as a,d as e,b as h,p as D,f as C,w as A,j as E,s as m,t as c,i as L,e as p,m as q,F as H,k as F,T as P,r as u,a as G,g as $,x as V,l as Z}from"./main-4147321d.js";import{c as O,g as J,d as K}from"./index.es6-593402c1.js";import{d as g}from"./dayjs.min-d6bc37a0.js";import{H as Q}from"./htmldiff.min-310ee87f.js";import{_ as X}from"./institute-collins-2-184bdfcb.js";const ee={props:["showConfirmModal","closeModal","openCommentModal"]},b=s=>(D("data-v-f8026664"),s=s(),C(),s),se={key:0,class:"modal"},te={class:"modal-content asking-modal"},ie=b(()=>e("div",{class:"d-flex gap-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"grey",width:"45",height:"45"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})]),e("p",null," Are you sure you want to revert the skill to this version? ")],-1)),oe={class:"d-flex justify-content-lg-between justify-content-md-end justify-content-between gap-2"},ne=b(()=>e("span",{class:"d-none d-md-block"}," No ",-1)),le=b(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)),re=[ne,le],ae=b(()=>e("span",{class:"d-none d-md-block"}," Yes ",-1)),ce=b(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"})],-1)),de=[ae,ce];function me(s,o,n,d,t,i){return n.showConfirmModal?(r(),a("div",se,[e("div",te,[ie,e("div",oe,[e("button",{type:"button",class:"btn red-btn modal-btn",onClick:o[0]||(o[0]=(...l)=>n.closeModal&&n.closeModal(...l))},re),e("button",{type:"button",class:"btn green-btn modal-btn",onClick:o[1]||(o[1]=(...l)=>n.openCommentModal&&n.openCommentModal(...l))},de)])])])):h("",!0)}const he=f(ee,[["render",me],["__scopeId","data-v-f8026664"]]);const _e={props:["showCommentModal","closeModal","revert"]},R=s=>(D("data-v-964c4585"),s=s(),C(),s),ve={key:0,id:"myModal",class:"modal"},ue={class:"modal-content"},pe={class:"d-flex flex-column"},fe=R(()=>e("div",{class:"pb-3"},"Please add a comment to explain.",-1)),we={class:"d-flex justify-content-lg-between justify-content-md-end justify-content-between gap-2 mt-2"},ge=R(()=>e("span",{class:"d-none d-md-block"}," Cancel ",-1)),ke=R(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})],-1)),ye=[ge,ke],De=R(()=>e("span",{class:"d-none d-md-block"}," Submit ",-1)),Ce=R(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"18",height:"18",fill:"white",class:"d-md-none"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"})],-1)),be=[De,Ce];function Re(s,o,n,d,t,i){return n.showCommentModal?(r(),a("div",ve,[e("div",ue,[e("div",pe,[fe,A(e("textarea",{class:"revert-comment",rows:"5",cols:"33",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=l=>s.revertComment=l)},`\r
                `,512),[[E,s.revertComment]])]),e("div",we,[e("button",{type:"button",class:"btn red-btn modal-btn",onClick:o[1]||(o[1]=(...l)=>n.closeModal&&n.closeModal(...l))},ye),e("button",{type:"button",class:"btn green-btn modal-btn",onClick:o[2]||(o[2]=(...l)=>n.revert&&n.revert(...l))},be)])])])):h("",!0)}const Me=f(_e,[["render",Re],["__scopeId","data-v-964c4585"]]);var z={exports:{}};(function(s,o){(function(n,d){s.exports=d()})(O,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(d,t,i){var l=t.prototype,w=l.format;i.en.formats=n,l.format=function(_){_===void 0&&(_="YYYY-MM-DDTHH:mm:ssZ");var v=this.$locale().formats,M=function(T,W){return T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(yt,N,x){var j=x&&x.toUpperCase();return N||W[x]||n[x]||W[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Dt,B,U){return B||U.slice(1)})})}(_,v===void 0?{}:v);return w.call(this,M)}}})})(z);var xe=z.exports;const S=J(xe);const Se={data(){return{showDropDown:!1}},props:["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"],methods:{formatDate(s){return g.extend(S),g(s).format("lll")},formatDatePhone(s){return g.extend(S),g(s).format("LL")}},computed:{compareWithVersion(){return this.compareWithRevision?this.compareWithRevision:!1}}},I=s=>(D("data-v-6f181000"),s=s(),C(),s),We={class:"position-relative mb-4"},Le={class:"d-flex"},He={key:0},$e={key:1},Ve={class:"d-flex ms-2 d-none d-md-block"},ze={class:"revision-strong-text ms-2"},Ie={class:"revision-strong-text"},Ye={class:"revision-strong-text ms-2"},Te={class:"d-md-none"},Ne={class:"revision-strong-text"},je=I(()=>e("path",{d:"M14.2929 8.70711C14.9229 8.07714 14.4767 7 13.5858 7H6.41421C5.52331 7 5.07714 8.07714 5.70711 8.70711L9.29289 12.2929C9.68342 12.6834 10.3166 12.6834 10.7071 12.2929L14.2929 8.70711Z",fill:"#344054"},null,-1)),Be=[je],Ue={key:0,class:"history-versions-dropdown"},Ae=["onClick"],Ee={class:"d-none d-md-block"},qe={class:"revision-strong-text"},Fe={class:"revision-strong-text"},Pe={class:"revision-strong-text"},Ge={class:"d-md-none"},Ze={class:"revision-strong-text"},Oe={class:"revision-strong-text"},Je={key:0,class:"version-badge ms-2"},Ke=I(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"white",width:"20",height:"20",class:"hand-icon"},[e("path",{d:"M64 128l177.6 0c-1 5.2-1.6 10.5-1.6 16l0 16-32 0L64 160c-8.8 0-16-7.2-16-16s7.2-16 16-16zm224 16c0-17.7 14.3-32 32-32c0 0 0 0 0 0l24 0c66.3 0 120 53.7 120 120l0 48c0 52.5-33.7 97.1-80.7 113.4c.5-3.1 .7-6.2 .7-9.4c0-20-9.2-37.9-23.6-49.7c4.9-9 7.6-19.4 7.6-30.3c0-15.1-5.3-29-14-40c8.8-11 14-24.9 14-40l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-40 0-40zm32-80s0 0 0 0c-18 0-34.6 6-48 16L64 80C28.7 80 0 108.7 0 144s28.7 64 64 64l82 0c-1.3 5.1-2 10.5-2 16c0 25.3 14.7 47.2 36 57.6c-2.6 7-4 14.5-4 22.4c0 20 9.2 37.9 23.6 49.7c-4.9 9-7.6 19.4-7.6 30.3c0 35.3 28.7 64 64 64l64 0 24 0c92.8 0 168-75.2 168-168l0-48c0-92.8-75.2-168-168-168l-24 0zM256 400c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 16 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0zM240 224c0 5.5 .7 10.9 2 16l-2 0-32 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l32 0 0 16zm24 64l40 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0-16 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l24 0z"})],-1));function Qe(s,o,n,d,t,i){return r(),a("div",We,[e("div",{class:L(["d-flex flex-column compare-dropdown-div",[t.showDropDown?"button-focus":"button-unfocus"]])},[e("button",{onClick:o[0]||(o[0]=l=>t.showDropDown=!t.showDropDown),class:"dropdown-btn"},[e("div",Le,[m(" Compare With - "),i.compareWithVersion?(r(),a("div",$e,[e("div",Ve,[m(" Version "),e("span",ze,c(i.compareWithVersion.version_number),1),m(", Edit Date: "),e("span",Ie,c(i.formatDate(i.compareWithVersion.edited_date)),1),m(", by "),e("span",Ye,c(i.compareWithVersion.user_name),1)]),e("div",Te,[m(" Version: "),e("span",Ne,c(i.compareWithVersion.version_number),1)])])):(r(),a("div",He,"none"))]),(r(),a("svg",{class:L({"expand-arrow":t.showDropDown,"minimize-arrow":!t.showDropDown}),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Be,2))]),p(P,{name:"dropdown"},{default:q(()=>[t.showDropDown?(r(),a("div",Ue,[(r(!0),a(H,null,F(n.skillRevisionHistory,l=>(r(),a("div",{class:"revision-row d-flex flex-column flex-lg-row align-items-lg-center align-items-start justify-content-start",onClick:w=>{n.updateCompareWithRevision(l),t.showDropDown=!1}},[e("div",Ee,[m(" Version: "),e("span",qe,c(l.version_number),1),m(", Edit Date: "),e("span",Fe,c(i.formatDate(l.edited_date)),1),m(", by "),e("span",Pe,c(l.user_name),1)]),e("div",Ge,[m(" Version: "),e("span",Ze,c(l.version_number),1),m(" , Edit Date: "),e("span",Oe,c(i.formatDatePhone(l.edited_date)),1)]),l.version_number===n.currentShowingVersion?(r(),a("div",Je,[Ke,m(" You are in this version ")])):h("",!0)],8,Ae))),256)),e("div",{class:"revision-row",onClick:o[1]||(o[1]=l=>{n.updateCompareWithRevision(null),t.showDropDown=!1})}," None ")])):h("",!0)]),_:1})],2)])}const Y=f(Se,[["render",Qe],["__scopeId","data-v-6f181000"]]);const Xe={setup(){},data(){return{addCount:0,removeCount:0,innerHtmlDisplay:""}},props:["diffString"],async created(){this.diffString&&(this.innerHtmlDisplay='<div class="inner-div">',this.diffString.forEach((s,o)=>{s.added&&!s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="add">${s.value}</span>`),!s.added&&s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+`<span class="remove">${s.value}</span>`),!s.added&&!s.removed&&(this.innerHtmlDisplay=this.innerHtmlDisplay+s.value),o===this.diffString.length&&(this.innerHtmlDisplay=this.innerHtmlDisplay+"</div>")}))},methods:{}},es={class:"d-flex flex-row align-items-center flex-wrap"},ss=["innerHTML"];function ts(s,o,n,d,t,i){return r(),a("div",es,[e("div",{innerHTML:t.innerHtmlDisplay},null,8,ss)])}const is=f(Xe,[["render",ts],["__scopeId","data-v-ac01d899"]]);const os={props:["viewingRevision","compareWithRevision","skillRevisionHistory","updateCompareWithRevision"],components:{CompareString:is,CompareWithDropdown:Y},computed:{compareData(){if(!this.compareWithRevision)return;const s=Q.execute(this.viewingRevision.mastery_requirements,this.compareWithRevision.mastery_requirements),o=K(this.viewingRevision.name,this.compareWithRevision.name),n=this.viewingRevision.icon_image!==this.compareWithRevision.icon_image;return{masteryDiff:s,nameDiff:o,imageDiff:n,skillData:this.compareWithRevision,currentViewingRevision:this.viewingRevision}}},methods:{formatDate(s){return g.extend(S),g(s).format("lll")}}},k=s=>(D("data-v-93f8f0d3"),s=s(),C(),s),ns={class:"container mt-3"},ls={id:"skill-info-container"},rs={class:"d-flex justify-content-between"},as={class:"skill-name"},cs={class:"revision-version"},ds=k(()=>e("hr",{class:"border border-2 opacity-100 hr"},null,-1)),ms={class:"d-flex flex-column"},hs={class:"alert alert-warning d-flex gap-2 align-items-center",role:"alert"},_s=k(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"24",height:"24"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),vs={key:0,class:"d-flex flex-column ms-2"},us={class:"warning-date"},ps=k(()=>e("div",null,"With",-1)),fs={class:"warning-date"},ws=k(()=>e("hr",{class:"border border-1 opacity-100 hr mt-md-4 mt-5"},null,-1)),gs={class:"d-flex flex-column-reverse flex-md-row gap-4"},ks={class:"mastery-requirements"},ys=["innerHTML"],Ds={class:"info-box p-2 mb-2"},Cs={key:0},bs=["src"],Rs={class:"mt-3",style:{color:"#a48be6"}},Ms={key:0},xs={key:1},Ss={key:2},Ws={key:3},Ls={key:4},Hs=k(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"white",height:"25",width:"25",class:"me-2"},[e("path",{d:"M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z"})],-1)),$s=k(()=>e("p",null," ",-1));function Vs(s,o,n,d,t,i){var _;const l=u("CompareString"),w=u("CompareWithDropdown");return r(),a("div",ns,[e("div",ls,[e("div",rs,[e("h1",as,[p(l,{diffString:i.compareData.nameDiff},null,8,["diffString"]),e("span",cs,"(Ver: "+c(i.compareData.skillData.version_number)+")",1)])]),ds,e("div",ms,[e("div",hs,[_s,s.isCurrentVersion?h("",!0):(r(),a("div",vs,[m(" You Are Comparing: "),e("div",null,[m(" - Revision "+c(i.compareData.currentViewingRevision.version_number)+" edited by "+c(i.compareData.currentViewingRevision.userName)+" at ",1),e("span",us,c(i.formatDate(i.compareData.currentViewingRevision.edited_date)),1)]),ps,e("div",null,[m(" - Revision "+c(i.compareData.skillData.version_number)+" edited by "+c(i.compareData.skillData.user_name)+" at ",1),e("span",fs,c(i.formatDate((_=i.compareData.skillData)==null?void 0:_.edited_date)),1)])]))]),p(w,{skillRevisionHistory:n.skillRevisionHistory,currentShowingVersion:i.compareData.skillData.version_number,updateCompareWithRevision:n.updateCompareWithRevision,compareWithRevision:n.compareWithRevision},null,8,["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"])]),ws,e("div",gs,[e("div",ks,[e("div",{innerHTML:i.compareData.masteryDiff},null,8,ys)]),e("div",Ds,[i.compareData.imageDiff?(r(),a("div",Cs," Changed Icon Image to: ")):h("",!0),e("img",{src:i.compareData.skillData.icon_image?i.compareData.skillData.icon_image:"/images/skill-avatar/recurso.png",onError:o[0]||(o[0]=(...v)=>s.imageUrlAlternative&&s.imageUrlAlternative(...v)),class:"rounded img-fluid"},null,40,bs),e("div",Rs,[m(" Level: "),e("strong",null,[i.compareData.skillData.level=="grade_school"?(r(),a("span",Ms,"Grade School")):i.compareData.skillData.level=="middle_school"?(r(),a("span",xs,"Middle School")):i.compareData.skillData.level=="high_school"?(r(),a("span",Ss,"High School")):i.compareData.skillData.level=="college"?(r(),a("span",Ws,"College")):i.compareData.skillData.level=="phd"?(r(),a("span",Ls,"PHD")):h("",!0)])])])]),e("button",{class:"btn purple-btn mt-4",onClick:o[1]||(o[1]=v=>n.updateCompareWithRevision(null))},[Hs,e("div",null," Go Back To version: "+c(i.compareData.currentViewingRevision.version_number),1)]),$s])])}const zs=f(os,[["render",Vs],["__scopeId","data-v-93f8f0d3"]]);const Is={setup(){const s=G(),o=$(),n=V();return{userDetailsStore:s,skillsStore:o,usersStore:n}},data(){return{skillUrl:this.$route.params.skillUrl,versionNumber:this.$route.params.versionNumber,skillRevision:{},skillRevisionHistory:[],currentVersionNumber:null,revertComment:"",isCurrentVersion:!1,showConfirmModal:!1,showCommentModal:!1,skill:{},compareWithRevision:null,currentCompareWithRevision:null}},components:{ConfirmModal:he,CommentModal:Me,CompareWithDropdown:Y,CompareWithContent:zs},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList(),this.usersStore.users.length==0&&await this.usersStore.getUsers(),await this.getSkill(),await this.getSkillRevisionHistory()},methods:{async getSkill(){const s=await fetch("/skills/url/"+this.skillUrl);this.skill=await s.json(),this.currentVersionNumber=this.skill.version_number,await this.getSkillVersion()},async getSkillVersion(){let s="/skill-history/"+this.skill.id+"/"+this.versionNumber;const o=await fetch(s);this.skillRevision=await o.json(),this.skillRevision.version_number==this.currentVersionNumber&&(this.isCurrentVersion=!0);for(let l=0;l<this.skillsStore.skillsList.length;l++)this.skillsStore.skillsList[l].id==this.skillRevision.parent&&(this.skillRevision.parentName=this.skillsStore.skillsList[l].name);for(let l=0;l<this.usersStore.users.length;l++)this.usersStore.users[l].id==this.skillRevision.user_id&&(this.skillRevision.userName=this.usersStore.users[l].username);var n=this.skillRevision.edited_date.replace("T"," ");n=n.replace("Z"," ");let d=n.split(/[- :]/);var t=new Date(Date.UTC(d[0],d[1]-1,d[2],d[3],d[4],d[5])),i={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};this.skillRevision.date=t.toLocaleDateString("en-US",i)},async getSkillRevisionHistory(){const s="/skill-history/"+this.skill.id+"/list",n=await(await fetch(s)).json();this.skillRevisionHistory=n.map(d=>{const t=this.usersStore.users.find(i=>i.id===d.user_id);return{...d,user_name:t.username}}),console.log(this.skillRevisionHistory)},confirmRevert(){this.showConfirmModal=!0},closeModal(){this.showConfirmModal=!1,this.showCommentModal=!1},openCommentModal(){this.closeModal(),this.showCommentModal=!0},revert(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:this.revertComment})};var o="/skill-history/"+this.skill.id+"/revert-to/"+this.versionNumber;fetch(o,s).then(()=>{this.$router.push("/skills/"+this.skill.url)})},updateCompareWithRevision(s){this.compareWithRevision=s}}},y=s=>(D("data-v-bdf1e3ad"),s=s(),C(),s),Ys={class:"d-flex"},Ts={key:0,class:"mt-3"},Ns={id:"skill-info-container"},js={class:"d-flex justify-content-between"},Bs={class:"skill-name"},Us={class:"revision-version"},As=y(()=>e("hr",{class:"border border-2 opacity-100 hr"},null,-1)),Es={class:"d-flex flex-column"},qs={class:"alert alert-warning d-flex",role:"alert"},Fs=y(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"},[e("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})],-1)),Ps={key:0,class:"ms-2"},Gs={class:"warning-date"},Zs={key:1,class:"ms-2"},Os={class:"warning-date"},Js=y(()=>e("hr",{class:"border border-1 opacity-100 hr mt-md-4 mt-5"},null,-1)),Ks={class:"d-flex flex-column-reverse flex-md-row gap-4"},Qs={class:"mastery-requirements"},Xs=["innerHTML"],et={class:"info-box p-2 mb-2"},st=["src"],tt={class:"mt-3",style:{color:"#a48be6"}},it={key:0},ot={key:1},nt={key:2},lt={key:3},rt={key:4},at=y(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"white",height:"25",width:"25",class:"me-2"},[e("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"})],-1)),ct=y(()=>e("div",null,"Revert to this version",-1)),dt=[at,ct],mt=y(()=>e("p",null," ",-1));function ht(s,o,n,d,t,i){const l=u("CompareWithDropdown"),w=u("CompareWithContent"),_=u("ConfirmModal"),v=u("CommentModal");return r(),a(H,null,[e("div",Ys,[t.compareWithRevision?(r(),Z(w,{key:1,skillRevisionHistory:t.skillRevisionHistory,viewingRevision:t.skillRevision,compareWithRevision:t.compareWithRevision,updateCompareWithRevision:i.updateCompareWithRevision},null,8,["skillRevisionHistory","viewingRevision","compareWithRevision","updateCompareWithRevision"])):(r(),a("div",Ts,[e("div",Ns,[e("div",js,[e("h1",Bs,[m(c(t.skill.name)+" ",1),e("span",Us,"(Ver: "+c(t.skillRevision.version_number)+")",1)])]),As,e("div",Es,[e("div",qs,[Fs,t.isCurrentVersion?(r(),a("span",Zs,[m(" This is the current revision of this skill, as edited by "+c(t.skillRevision.userName)+", at ",1),e("span",Os,c(t.skillRevision.date),1),m(". ")])):(r(),a("span",Ps,[m(" This is an old revision of this skill, as edited by "+c(t.skillRevision.userName)+", at ",1),e("span",Gs,c(t.skillRevision.date),1),m(". ")]))]),p(l,{skillRevisionHistory:t.skillRevisionHistory,currentShowingVersion:t.skillRevision.version_number,updateCompareWithRevision:i.updateCompareWithRevision,compareWithRevision:t.compareWithRevision},null,8,["skillRevisionHistory","currentShowingVersion","updateCompareWithRevision","compareWithRevision"])]),Js,e("div",Ks,[e("div",Qs,[e("div",{innerHTML:t.skillRevision.mastery_requirements},null,8,Xs)]),e("div",et,[e("img",{src:t.skillRevision.icon_image?t.skillRevision.icon_image:"/images/skill-avatar/recurso.png",onError:o[0]||(o[0]=(...M)=>s.imageUrlAlternative&&s.imageUrlAlternative(...M)),class:"rounded img-fluid"},null,40,st),e("div",tt,[m(" Level: "),e("strong",null,[t.skill.level=="grade_school"?(r(),a("span",it,"Grade School")):t.skill.level=="middle_school"?(r(),a("span",ot,"Middle School")):t.skill.level=="high_school"?(r(),a("span",nt,"High School")):t.skill.level=="college"?(r(),a("span",lt,"College")):t.skill.level=="phd"?(r(),a("span",rt,"PHD")):h("",!0)])])])]),!t.isCurrentVersion&&(d.userDetailsStore.role=="admin"||d.userDetailsStore.role=="editor")?(r(),a("button",{key:0,class:"btn purple-btn mt-4",onClick:o[1]||(o[1]=M=>i.confirmRevert())},dt)):h("",!0),mt])]))]),p(_,{showConfirmModal:t.showConfirmModal,closeModal:i.closeModal,openCommentModal:i.openCommentModal},null,8,["showConfirmModal","closeModal","openCommentModal"]),p(v,{showCommentModal:t.showCommentModal,closeModal:i.closeModal,revert:i.revert},null,8,["showCommentModal","closeModal","revert"])],64)}const _t=f(Is,[["render",ht],["__scopeId","data-v-bdf1e3ad"]]);const vt={setup(){const s=$(),o=V();return{skillsStore:s,userDetailsStore:o}},data(){return{skillId:this.$route.params.skillId,bannerImage:null}},async mounted(){this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.skillsStore.skillsList.length;s++)this.skillId==this.skillsStore.skillsList[s].id&&(this.bannerImage=this.skillsStore.skillsList[s].banner_image)},components:{ShowSkillRevision:_t}},ut={class:"position-relative d-flex"},pt={class:"container-lg container-fluid show-skill-ctnr"},ft={id:"banner"},wt=["src"],gt={key:0,src:X,class:"img-fluid"};function kt(s,o,n,d,t,i){const l=u("ShowSkillRevision");return r(),a("div",ut,[e("div",pt,[p(l)]),e("div",ft,[e("img",{src:t.bannerImage,class:"img-fluid"},null,8,wt),t.bannerImage?h("",!0):(r(),a("img",gt))])])}const St=f(vt,[["render",kt],["__scopeId","data-v-9a3edbfc"]]);export{St as default};
