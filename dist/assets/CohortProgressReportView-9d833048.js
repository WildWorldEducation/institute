import{u as i}from"./CohortsStore-1b62799e.js";import{_ as a,f as d,r as l,o as r,c as h,a as n,t as g,k as p}from"./main-f5e8fa68.js";import{C as u}from"./CohortProgressLineChart-094689e8.js";import"./transform-62bed377.js";import"./line-61e28c6d.js";import"./time-8a8f3333.js";import"./linear-c1216a03.js";import"./point-ea70dc51.js";const f={setup(){const t=i(),o=d();return{cohortsStore:t,userDetailsStore:o}},components:{CohortProgressLineChart:u},data(){return{cohortId:this.$route.params.cohortId,cohortName:"",cohortProgress:[]}},async created(){this.cohortsStore.cohorts.length<1&&await this.cohortsStore.getCohorts(this.userDetailsStore.userId);const t=this.cohortsStore.cohorts.find(o=>o.id==this.cohortId);t&&(this.cohortName=t.name),this.cohortId!="all-students"?await this.getCohortProgress():await this.getAllStudentsProgress()},methods:{async getCohortProgress(){fetch(`/student-analytics/cohort-progress/${this.cohortId}`).then(t=>t.json()).then(t=>{for(let o=0;o<t.length;o++)t[o].date=new Date(t[o].date);t.sort((o,e)=>o.date-e.date),this.cohortProgress=t}).catch(t=>{console.error("Error fetching student progress:",t)})},async getAllStudentsProgress(){fetch(`/student-analytics/all-students-progress/${this.userDetailsStore.userId}`).then(t=>t.json()).then(t=>{for(let o=0;o<t.length;o++)t[o].date=new Date(t[o].date);t.sort((o,e)=>o.date-e.date),this.cohortProgress=t}).catch(t=>{console.error("Error fetching student progress:",t)})}}},m={class:"container"},_={class:"d-flex justify-content-between w-100"},P=n("h1",{class:"heading"},"Progress Report",-1),C={class:"secondary-heading h3"},S={key:1};function y(t,o,e,w,s,D){const c=l("CohortProgressLineChart");return r(),h("div",m,[n("span",_,[P,n("h2",C,g(s.cohortName),1)]),s.cohortProgress.length>0?(r(),p(c,{key:0,data:s.cohortProgress,colour:"#5f31dd"},null,8,["data"])):(r(),h("p",S,"There is no data to show yet."))])}const L=a(f,[["render",y]]);export{L as default};
