import{s as h}from"./transform-35b9fb9e.js";import{_ as c,o as d,c as m}from"./main-50c82204.js";import{b as p}from"./band-18e9f0c1.js";import{l as g,m as u,b as f}from"./linear-c968f95f.js";const b={name:"CohortSkillActivityChart",props:["data","colour"],data(){return{chartHeight:400,chartWidth:1200,labelWidth:20}},mounted(){this.labelWidth=this.calculateLongestLabelWidth(),this.chartHeight=this.calculateChartHeight(),this.drawChart()},methods:{drawChart(){const e=this.data;if(!e||e.length===0){console.warn("No data available for the chart");return}const a={top:20,right:400,bottom:40,left:200},r=400,n=this.chartHeight-a.top-a.bottom,i=h("#skill-activity-chart-container").append("svg").attr("width",r+a.left+a.right).attr("height",n+a.top+a.bottom).append("g").attr("transform",`translate(${a.left},${a.top})`),s=p().domain(this.data.map(t=>t.name)).range([0,n]).padding(.3),l=g().domain([0,u(this.data,t=>t.quantity)]).range([0,r]);i.selectAll(".bar").data(this.data).enter().append("rect").attr("class","bar").attr("x",0).attr("y",t=>s(t.name)).attr("width",t=>t.quantity>0?l(t.quantity):l(1)).attr("height",t=>t.quantity>0?s.bandwidth():1).attr("fill","#5f31dd"),i.append("g").attr("class","axis").call(f(s)),i.append("text").attr("class","axis-label").attr("transform",`translate(${r/2},${n+35})`).style("text-anchor","middle").text("Duration (minutes)"),i.selectAll(".bar-label").data(this.data).enter().append("text").attr("class","bar-label").attr("x",t=>l(t.quantity)+5).attr("y",t=>s(t.name)+s.bandwidth()/2).attr("dy","0.35em").style("font-size","12px").text(t=>t.formattedQuantity)},calculateChartHeight(){return this.data.length>0?this.data.length*30+100:400},calculateLongestLabelWidth(){let e=0;for(const r of this.data)e=Math.max(e,r.name.length);return e+10}}},x={id:"skill-activity-chart-container"};function y(e,a,r,n,o,i){return d(),m("div",x)}const $=c(b,[["render",y]]);export{$ as C};
