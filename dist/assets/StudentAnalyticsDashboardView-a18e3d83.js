import{u as C}from"./AnalyticsStore-a21b2c98.js";import{_ as S,f as w,r as I,o as d,c as g,q as V,a as t,w as n,O as l,s as i,b as y,k as A,p as H,d as P}from"./main-f9b7cdb5.js";import{s as D}from"./transform-35b9fb9e.js";import{u as L,l as U}from"./line-8aa3dac8.js";import{e as B}from"./time-962c8065.js";import{l as M,m as T,c as q,b as N}from"./linear-c968f95f.js";import{o as W}from"./ordinal-451cde74.js";import{c as j}from"./colors-98f238a0.js";import"./point-ea70dc51.js";const E=j("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),O={name:"ProgressChart",props:[],data(){return{axisData:[]}},mounted(){},methods:{createChart(o){D("svg").remove(),o.student.length>0?this.axisData=o.student:o.average.length>0?this.axisData=o.average:this.axisData=[];const e=Object.entries(o).map(([r,k])=>({name:r,values:k}));D("#progress-chart-container");const u=document.getElementById("progress-chart-container").clientWidth,h=document.getElementById("progress-chart-container").clientHeight,s=0,c=0,p=0,a=0,f=L(B(this.axisData,r=>r.date),[a,u-c]),v=M([0,T(this.axisData,r=>r.quantity)],[h-p,s]),_=W().domain(e.map(r=>r.name)).range(E),x=U().x(r=>f(r.date)).y(r=>v(r.quantity)),m=D("#progress-chart-container").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",[0,0,+Math.min(u,h),+Math.min(u,h)]).attr("preserveAspectRatio","xMinYMin");m.append("g").attr("transform",`translate(0,${h-p})`).call(q(f).ticks(this.axisData.length).tickSizeOuter(0)),m.append("g").attr("transform",`translate(${a},0)`).call(N(v).ticks(h/80)).call(r=>r.selectAll(".tick line").clone().attr("x2",u-a-c).attr("stroke-opacity",.1)).call(r=>r.append("text").attr("x",0).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("â†‘ Skills mastered")),m.selectAll(".line").data(e).join("path").attr("fill","none").attr("stroke",r=>_(r.name)).attr("stroke-width",3).attr("d",r=>x(r.values))},updateChart(o){}}};function Y(o,e,u,h,s,c){return null}const z=S(O,[["render",Y]]);const R={name:"Student-Dashboard",setup(){const o=w(),e=C();return{userDetailsStore:o,analyticsStore:e}},data(){return{showSidebar:!0,screenWidth:screen.width,isStudentData:!0,isSchoolData:!1,isLanguageData:!1,isMathData:!1,isHistoryData:!1,isLifeData:!1,isCSData:!1,isSAndIData:!1,isDIData:!1,progressData:{student:[],average:[]},isAboveTheCurve:!1}},components:{ProgressChart:z},async created(){await this.analyticsStore.getStudentProgress(this.userDetailsStore.userId,this.userDetailsStore.tenantId),this.analyticsStore.progress.student[this.analyticsStore.progress.student.length-1].quantity>this.analyticsStore.progress.tenant[this.analyticsStore.progress.tenant.length-1].quantity&&(this.isAboveTheCurve=!0),await this.HandleProgressData()},methods:{async HandleProgressData(){if(this.isStudentData){this.progressData.student=[];for(let o=0;o<this.analyticsStore.progress.student.length;o++)this.progressData.student.push(this.analyticsStore.progress.student[o])}else this.progressData.student=[];if(this.isSchoolData){this.progressData.average=[];for(let o=0;o<this.analyticsStore.progress.tenant.length;o++)this.progressData.average.push(this.analyticsStore.progress.tenant[o])}else this.progressData.average=[];this.$nextTick(()=>{this.$refs.progressChart&&this.$refs.progressChart.createChart(this.progressData)})},toggleSidebar(){this.showSidebar=!this.showSidebar}}},b=o=>(H("data-v-7b38e088"),o=o(),P(),o),F={class:"dashboard"},G=b(()=>t("h1",{class:"h2"},"Who",-1)),J={class:"control control-checkbox"},K={class:"control control-checkbox"},Q=b(()=>t("h1",{class:"h2"},"Subjects",-1)),X={class:"control control-checkbox"},Z={class:"control control-checkbox"},$={class:"control control-checkbox"},tt={class:"control control-checkbox"},et={class:"control control-checkbox"},st={class:"control control-checkbox"},at={class:"control control-checkbox"},ot={class:"main"},rt={class:"content container-fluid"},nt={class:"dash-row row"},lt={id:"progress-chart-container",class:"col-md chart-container p-0"},it={class:"col-md chart-container p-0"},ct={key:0,class:"alert alert-success",role:"alert"},ht={key:1,class:"alert alert-warning",role:"alert"},ut=b(()=>t("div",{class:"dash-row row"},[t("div",{class:"col-md chart-container p-0"}),t("div",{class:"col-md chart-container p-0"},"4")],-1));function dt(o,e,u,h,s,c){const p=I("ProgressChart");return d(),g("div",F,[s.screenWidth>768?(d(),g("div",{key:0,class:V(["sidebar",{hidden:!s.showSidebar}])},[G,t("p",null,[t("label",J,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=a=>s.isStudentData=a),onChange:e[1]||(e[1]=(...a)=>c.HandleProgressData&&c.HandleProgressData(...a))},null,544),[[l,s.isStudentData]]),i(" You ")])]),t("p",null,[t("label",K,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=a=>s.isSchoolData=a),onChange:e[3]||(e[3]=(...a)=>c.HandleProgressData&&c.HandleProgressData(...a))},null,544),[[l,s.isSchoolData]]),i(" School average ")])]),Q,t("ul",null,[t("li",null,[t("label",X,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[4]||(e[4]=a=>s.isLanguageData=a)},null,512),[[l,s.isLanguageData]]),i(" Language ")])]),t("li",null,[t("label",Z,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[5]||(e[5]=a=>s.isMathData=a)},null,512),[[l,s.isMathData]]),i(" Math ")])]),t("li",null,[t("label",$,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[6]||(e[6]=a=>s.isHistoryData=a)},null,512),[[l,s.isHistoryData]]),i(" History ")])]),t("li",null,[t("label",tt,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[7]||(e[7]=a=>s.isLifeData=a)},null,512),[[l,s.isLifeData]]),i(" Life ")])]),t("li",null,[t("label",et,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[8]||(e[8]=a=>s.isCSData=a)},null,512),[[l,s.isCSData]]),i(" Computer Science ")])]),t("li",null,[t("label",st,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[9]||(e[9]=a=>s.isSAndIData=a)},null,512),[[l,s.isSAndIData]]),i(" Science & Invention ")])]),t("li",null,[t("label",at,[n(t("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[10]||(e[10]=a=>s.isDIData=a)},null,512),[[l,s.isDIData]]),i(" Dangerous Ideas ")])])])],2)):y("",!0),t("div",ot,[t("div",rt,[t("div",nt,[t("div",lt,[s.progressData.student.length>0||s.progressData.average.length>0?(d(),A(p,{key:0,ref:"progressChart"},null,512)):y("",!0)]),t("div",it,[s.isAboveTheCurve?(d(),g("div",ct," Nice going, you're above the curve! ")):(d(),g("div",ht," You're below the curve, keep trying! "))])]),ut])])])}const _t=S(R,[["render",dt],["__scopeId","data-v-7b38e088"]]);export{_t as default};
