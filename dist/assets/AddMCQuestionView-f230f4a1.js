import{_,o as n,c as i,d as e,w as a,x as c,b as r,F as w,y as v,i as f,H as p,v as b,t as x,M as q}from"./main-30be239f.js";import{_ as k}from"./general-banner-1c13aca4.js";import{_ as V}from"./recurso-69-12793b41.js";const g={data(){return{skillId:this.$route.params.skillId,question:{name:"",text:"",explanation:"",correct_answer:1,is_random:!1},answers:[{text:"",show:!0},{text:"",show:!0},{text:"",show:!0},{text:"",show:!0},{text:"",show:!0}],validate:{validated:!1,name:!1,question:!1,answer:!1,explanation:!1}}},methods:{Submit(){if(this.validate.validated=!1,(this.question.name===""||this.question.name===null)&&(this.validate.name=!0,this.validate.validated=!0),(this.question.text===""||this.question.text===null)&&(this.validate.question=!0,this.validate.validated=!0),this.answers.forEach(h=>{h.show==!0&&h.text==""&&(this.validate.validated=!0)}),(this.question.explanation===""||this.question.explanation===null)&&(this.validate.explanation=!0,this.validate.validated=!0),this.validate.validated)return;const u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:this.question,answers:this.answers,skill_id:this.skillId})};var t="/questions/mc-questions/add";fetch(t,u).then(()=>{alert("Question added")}).then(()=>{this.$router.go(-1)})},addAnswer(){this.answers[2].show==!1?this.answers[2].show=!0:this.answers[3].show==!1?this.answers[3].show=!0:this.answers[4].show==!1&&(this.answers[4].show=!0)},removeAnswer(){this.answers[4].show==!0?(this.answers[4].show=!1,this.question.correct_answer==5&&(this.question.correct_answer=4)):this.answers[3].show==!0?(this.answers[3].show=!1,this.question.correct_answer==4&&(this.question.correct_answer=3)):this.answers[2].show==!0&&(this.answers[2].show=!1,this.question.correct_answer==3&&(this.question.correct_answer=2))}}},y=e("div",{id:"banner"},[e("img",{src:k,class:"image-fluid"})],-1),A={class:"container mt-3 pb-3"},C=e("div",{class:"row"},[e("div",{class:"col-10 d-flex align-items-end"},[e("h2",{id:"header-tile"},"Add Question"),e("img",{src:V,id:"header-icon"})])],-1),S={class:"main-content-container container-fluid mt-4"},M={class:"row p-0"},H={id:"form-container",class:"col-lg-6 p-4"},z={class:"mb-3"},U=e("label",{for:"question_name",class:"form-label"},"Question Name",-1),Q={key:0,class:"form-validate"},B={class:"mb-3"},N=e("label",{for:"last_name",class:"form-label"},"Question",-1),O={key:0,class:"form-validate"},E={class:"form-label"},L={class:"d-flex answer-option"},T=["onUpdate:modelValue","id"],D={key:0,class:"form-validate"},I={class:"form-check"},j=["id","value"],F=["for"],R=e("svg",{"data-v-ea3cd1bf":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"15",height:"15",fill:"white"},[e("path",{"data-v-ea3cd1bf":"",d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),J={class:"mb-3"},P=e("svg",{width:"20",height:"20",fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[e("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"})],-1),G={class:"mb-3 form-check"},K=e("label",{for:"randomOrder",class:"form-check-label"},"Show answers in random order",-1),W={class:"mb-3"},X=e("label",{class:"form-label"},"Explanation",-1),Y={key:0,class:"form-validate"},Z={class:"d-flex justify-content-end gap-4"};function $(u,t,h,ee,s,d){return n(),i(w,null,[y,e("div",A,[C,e("div",S,[e("div",M,[e("div",H,[e("div",z,[U,a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.question.name=o),type:"text",class:"form-control",id:"question_name"},null,512),[[c,s.question.name]]),s.validate.name&&(s.question.name===""||s.question.name===null)?(n(),i("div",Q," please name the question! ")):r("",!0)]),e("div",B,[N,a(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.question.text=o),rows:"1",class:"form-control"},`
                        `,512),[[c,s.question.text]]),s.validate.question&&(s.question.text===""||s.question.text===null)?(n(),i("div",O," please enter a question! ")):r("",!0)]),(n(!0),i(w,null,v(s.answers,(o,l)=>a((n(),i("div",{key:l,class:"mb-3"},[e("label",E,"Answer "+x(l+1)+":",1),e("div",L,[a(e("input",{"onUpdate:modelValue":m=>o.text=m,id:"answer"+(l+1),placeholder:"Enter answer option",type:"text",class:"form-control"},null,8,T),[[c,o.text]])]),s.validate.validated&&o.text===""?(n(),i("div",D," please enter an answer! ")):r("",!0),e("div",I,[a(e("input",{class:"form-check-input",type:"radio",id:"correct"+(l+1),name:"correctAnswer",value:l+1,"onUpdate:modelValue":t[2]||(t[2]=m=>s.question.correct_answer=m)},null,8,j),[[q,s.question.correct_answer]]),e("label",{for:"correct"+(l+1),class:""},"Set as correct",8,F)])])),[[b,o.show]])),128)),s.answers[2].show==!0?(n(),i("button",{key:0,onClick:t[3]||(t[3]=o=>d.removeAnswer()),"data-v-ea3cd1bf":"",type:"button",class:"btn red-btn p-2 mb-2",title:"Delete answer"},[R,f(" >Â Â  Remove Answer ")])):r("",!0),e("div",J,[s.answers[4].show==!1?(n(),i("button",{key:0,onClick:t[4]||(t[4]=(...o)=>d.addAnswer&&d.addAnswer(...o)),class:"btn purple-btn"},[P,f(" Add Answer ")])):r("",!0)]),e("div",G,[a(e("input",{type:"checkbox",id:"randomOrder","onUpdate:modelValue":t[5]||(t[5]=o=>s.question.is_random=o),class:"form-check-input"},null,512),[[p,s.question.is_random]]),K]),e("div",W,[X,a(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.question.explanation=o),class:"form-control",rows:"3"},null,512),[[c,s.question.explanation]]),s.validate.explanation&&(s.question.explanation===""||s.question.explanation===null)?(n(),i("div",Y," please enter an explanation! ")):r("",!0)]),e("div",Z,[e("a",{class:"btn red-btn",onClick:t[7]||(t[7]=o=>u.$router.go(-1))},"Cancel"),e("button",{class:"btn purple-btn",onClick:t[8]||(t[8]=o=>d.Submit())}," Submit ")])])])])])],64)}const ne=_(g,[["render",$]]);export{ne as default};
