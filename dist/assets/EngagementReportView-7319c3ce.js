import{_ as f,o as h,c as p,e as T,r as g,a as r,j as y,b as w,F as P,f as _}from"./main-617fe1f8.js";import"./transform-af9a74a2.js";import{l as k,c as x,b as D,a as M}from"./linear-5b188edc.js";import{m as v,b}from"./continuous-7328829e.js";import{s as C}from"./sort-ed61f96d.js";import{s as S}from"./string-dd82ab4a.js";import{p as L,a as $,C as B}from"./CohortDurationPerDayLineChart-13435100.js";import{u as A,l as O}from"./line-85f04100.js";import{e as R}from"./extent-4cf1c809.js";import{u as I}from"./AnalyticsStore-06d39a3a.js";import{u as z}from"./CohortsStore-baef27a4.js";import{D as E}from"./downloadCSVBtn-27304e1b.js";import"./point-ea70dc51.js";import"./time-0457d93b.js";const j={name:"TenantAvgInteractionTimePerSkill",props:["data","colour"],data(){return{}},mounted(){const i=document.getElementById("time-per-skill-chart-container").clientWidth,d=this.data.length*20+0+10,s=k().domain([0,v(this.data,a=>a.milliseconds)]).range([200,i-0]),c=b().domain(C(this.data,a=>-a.milliseconds).map(a=>a.name)).rangeRound([0,d-10]).padding(0),o=S("#time-per-skill-chart-container").append("svg").attr("width",i).attr("height",d).attr("viewBox",[0,0,i,d]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");o.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",s(0)).attr("y",a=>c(a.name)).attr("width",a=>s(a.milliseconds)-s(0)).attr("height",c.bandwidth()),o.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",a=>s(a.milliseconds)).attr("y",a=>c(a.name)+c.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(a=>a.minutes).call(a=>a.filter(m=>s(m.milliseconds)-s(0)<30).attr("dx",4).attr("fill","black").attr("text-anchor","start")),o.append("g").attr("transform","translate(0,0)").call(x(s).ticks(0)).call(a=>a.select(".domain").remove()),o.append("g").attr("transform","translate(200,0)").call(D(c).tickSizeOuter(0))},computed:{}};function H(e,t,n,l,u,i){return null}const q=f(j,[["render",H]]),N={name:"TenantPercentageStudentsMasteredAtLeastOneSkillPieChart",props:["data"],data(){return{}},mounted(){let e=this.data;const t=document.getElementById("tenant-students-pie-chart-container").clientWidth,n=document.getElementById("tenant-students-pie-chart-container").clientHeight,l=L().sort(null).value(o=>o.value),u=$().innerRadius(0).outerRadius(Math.min(t,n)/2-1),i=u.outerRadius()()*.6,d=$().innerRadius(i).outerRadius(i),s=l(e),c=S("#tenant-students-pie-chart-container").append("svg").attr("width",t).attr("height",n).attr("viewBox",[-t/2,-n/2,t,n]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");c.append("g").attr("stroke","white").selectAll().data(s).join("path").attr("fill",o=>{if(o.data.name==="Mastered one skill")return"darkgreen";if(o.data.name==="Mastered no skills")return"darkred"}).attr("d",u).append("title").text(o=>`${o.data.name}: ${o.data.value.toLocaleString("en-US")}`),c.append("g").attr("text-anchor","middle").selectAll().data(s).join("text").attr("transform",o=>`translate(${d.centroid(o)})`).call(o=>o.append("tspan").attr("y","-0.4em").attr("fill","white").attr("font-weight","bold").text(a=>a.data.name==="Mastered one skill"?"Mastered ≥ 1 skill":"Mastered 0 skills")).call(o=>o.filter(a=>a.endAngle-a.startAngle>.25).append("tspan").attr("x",0).attr("fill","white").attr("y","1em").attr("fill-opacity",1).text(a=>a.data.value.toLocaleString("en-US")))},computed:{}};function W(e,t,n,l,u,i){return null}const V=f(N,[["render",W]]),F={name:"TenantDurationPerDayLineChart",props:["data"],data(){return{}},mounted(){const e=this.data,t=document.getElementById("engagement-chart-container").clientWidth,n=document.getElementById("engagement-chart-container").clientHeight,l=5,u=20,i=20,d=25,s=A(R(e,m=>m.date),[d,t-u]),c=k([0,v(e,m=>m.minutes)],[n-i,l]),o=O().x(m=>s(m.date)).y(m=>c(m.minutes)),a=S("#tenant-duration-per-day-chart-container").append("svg").attr("width",t).attr("height",n).attr("viewBox",[0,0,t,n]).attr("style","max-width: 100%; height: auto; height: intrinsic;");a.append("g").attr("transform",`translate(0,${n-i})`).call(M(s).ticks(e.length/2).tickSizeOuter(0)),a.append("g").attr("transform",`translate(${d},0)`).call(D(c).ticks(n/80)).call(m=>m.selectAll(".tick line").clone().attr("x2",t-d-u).attr("stroke-opacity",.1)).call(m=>m.append("text").attr("x",-d).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("↑ Duration in minutes")),a.append("path").attr("fill","none").attr("stroke","#5f31dd").attr("stroke-width",1.5).attr("d",o(e))}},U={id:"tenant-duration-per-day-chart-container"};function Q(e,t,n,l,u,i){return h(),p("div",U)}const Y=f(F,[["render",Q]]);const G={setup(){const e=T(),t=I();return{userDetailsStore:e,analyticsStore:t}},components:{TenantInteractionTimePerSkillHorizontalBarChart:q,TenantPercentageStudentsMasteredAtLeastOneSkillPieChart:V,TenantDurationPerDayLineChart:Y},data(){return{tenantId:this.userDetailsStore.tenantId,durationPerDay:[],percentageStudentsMasteredOneSkill:[],isDataWeekly:!1,isTutorialComplete:!1,showTutorialTip1:!1,dataMode:"total"}},async created(){await this.checkIfTutorialComplete(),this.analyticsStore.avgTimeOnSkills.length==0&&await this.getTimeBySkill(),this.analyticsStore.durationPerDay.length==0&&await this.getTenantDuration(),this.analyticsStore.percentageStudentsMasteredOneSkill.length==0&&await this.getPercentageStudentsMasteredOneSkill()},methods:{async checkIfTutorialComplete(){const t=await(await fetch(`/users/check-tutorial-progress/school-report/${this.userDetailsStore.userId}`)).json();t==0?(this.isTutorialComplete=!1,this.showTutorialTip1=!0):t==1&&(this.isTutorialComplete=!0)},progressTutorial(e){e==1&&(this.showTutorialTip1=!1,this.markTutorialComplete())},restartTutorial(){this.isTutorialComplete=!1,this.showTutorialTip1=!0},markTutorialComplete(){let e="/users/mark-tutorial-complete/school-report/"+this.userDetailsStore.userId;fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"}})},async getTimeBySkill(){try{const e=await fetch(`/student-analytics/total-time-by-skill/tenant/${this.tenantId}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();this.analyticsStore.avgTimeOnSkills=Array.isArray(t)?t:[];for(let n=0;n<this.analyticsStore.avgTimeOnSkills.length;n++)this.analyticsStore.avgTimeOnSkills[n].minutes=this.millisToMinutesAndSeconds(this.analyticsStore.avgTimeOnSkills[n].milliseconds)}catch(e){console.error("Error fetching cohort mastered assessments:",e),this.avgTimeOnSkills=[]}},async getTenantDuration(){this.analyticsStore.durationPerDay=[];let e=`/student-analytics/tenant-duration-per-day/${this.dataMode}/${this.tenantId}`;fetch(e).then(t=>t.json()).then(async t=>{this.analyticsStore.durationPerDay=[];for(let n=0;n<t.length;n++)t[n].date=new Date(t[n].date),t[n].minutes=t[n].quantity/(1e3*60),this.analyticsStore.durationPerDay.push(t[n]);this.analyticsStore.durationPerDay.sort((n,l)=>n.date-l.date)}).catch(t=>{console.error("Error fetching student progress:",t)})},async getPercentageStudentsMasteredOneSkill(){let t=document.getElementById("tenant-students-pie-chart-container").querySelector("svg");t&&t.remove(),this.analyticsStore.percentageStudentsMasteredOneSkill=[];try{let n=`/student-analytics/percentage-students-mastered-one-skill/tenant/${this.dataMode}/${this.tenantId}`,l=await fetch(n);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);this.analyticsStore.percentageStudentsMasteredOneSkill=await l.json()}catch(n){console.error("Error fetching cohort mastered assessments:",n),this.analyticsStore.percentageStudentsMasteredOneSkill=[]}},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n},downloadData(e,t){const n=Object.keys(e[0]),l=[];l.push(n.join(","));for(const s of e){const c=n.map(o=>{const a=s[o];return`"${String(a).replace(/"/g,'""')}"`});l.push(c.join(","))}const u=l.join(`
`),i=new Blob([u],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.href=URL.createObjectURL(i),d.download=t+".csv",d.click()},async toggleWeeklyCumulativeData(){this.dataMode=="total"?this.dataMode="weekly":this.dataMode="total",await this.getTenantDuration(),await this.getPercentageStudentsMasteredOneSkill()}}},J={class:"container-fluid chart-page"},K={class:"d-flex justify-content-between w-100"},X={class:"btn-group d-flex d-sm-inline-flex mt-2",role:"group"},Z={class:"row chart-row"},tt={class:"col-lg-8 chart-col position-relative"},et={id:"engagement-chart-container"},at={key:1},nt={class:"col-lg-4 chart-col position-relative"},ot={id:"tenant-students-pie-chart-container"},rt={key:1},it={class:"row chart-row position-relative"},st={id:"time-per-skill-chart-container"},lt={key:1},dt={key:0,class:"modal"},ct={class:"modal-content"},ut={class:"d-flex justify-content-between"};function ht(e,t,n,l,u,i){const d=g("TenantDurationPerDayLineChart"),s=g("TenantPercentageStudentsMasteredAtLeastOneSkillPieChart"),c=g("TenantInteractionTimePerSkillHorizontalBarChart");return h(),p(P,null,[r("div",J,[r("span",K,[t[10]||(t[10]=r("h1",{class:"heading h4"},"Scool-wide Engagement Report",-1)),r("span",null,[r("div",X,[r("input",{type:"radio",class:"btn-check",name:"timeFilter1",id:"total1",onClick:t[0]||(t[0]=(...o)=>i.toggleWeeklyCumulativeData&&i.toggleWeeklyCumulativeData(...o)),checked:""}),t[7]||(t[7]=r("label",{class:"btn btn-outline-dark btn-sm filter-btn",for:"total1"},"Total",-1)),r("input",{type:"radio",class:"btn-check",name:"timeFilter1",id:"week1",onClick:t[1]||(t[1]=(...o)=>i.toggleWeeklyCumulativeData&&i.toggleWeeklyCumulativeData(...o))}),t[8]||(t[8]=r("label",{class:"btn btn-outline-dark btn-sm filter-btn",for:"week1"},"This week",-1))]),r("button",{class:"btn me-1",onClick:t[2]||(t[2]=(...o)=>i.restartTutorial&&i.restartTutorial(...o)),"aria-label":"info"},t[9]||(t[9]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",width:"20",height:"23",class:"primary-icon"},[r("path",{d:"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 224 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-192-32 0c-17.7 0-32-14.3-32-32z"})],-1)]))])]),r("div",Z,[r("div",tt,[r("div",et,[r("button",{class:"position-absolute download-btn btn",onClick:t[3]||(t[3]=o=>i.downloadData(l.analyticsStore.durationPerDay,"Time-per-day"))},t[11]||(t[11]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"18",height:"18"},[r("path",{d:"M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM175 441c9.4 9.4 24.6 9.4 33.9 0l64-64c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-23 23 0-86.1c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 86.1-23-23c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64z"})],-1)])),l.analyticsStore.durationPerDay.length>0?(h(),y(d,{key:0,data:l.analyticsStore.durationPerDay,colour:"#5f31dd"},null,8,["data"])):(h(),p("div",at,"No data yet"))]),t[12]||(t[12]=r("figcaption",{class:"text-muted"}," Student time on the platform ",-1))]),r("div",nt,[r("div",ot,[r("button",{class:"position-absolute download-btn btn",onClick:t[4]||(t[4]=o=>i.downloadData(l.analyticsStore.percentageStudentsMasteredOneSkill,"Percentage-students-completed-one-skill"))},t[13]||(t[13]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"18",height:"18"},[r("path",{d:"M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM175 441c9.4 9.4 24.6 9.4 33.9 0l64-64c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-23 23 0-86.1c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 86.1-23-23c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64z"})],-1)])),l.analyticsStore.percentageStudentsMasteredOneSkill.length>0?(h(),y(s,{key:0,data:l.analyticsStore.percentageStudentsMasteredOneSkill},null,8,["data"])):(h(),p("p",rt,"No data yet"))])])]),r("div",it,[r("div",st,[r("button",{class:"position-absolute download-btn btn",onClick:t[5]||(t[5]=o=>i.downloadData(l.analyticsStore.avgTimeOnSkills,"Time-per-skill"))},t[14]||(t[14]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"18",height:"18"},[r("path",{d:"M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM175 441c9.4 9.4 24.6 9.4 33.9 0l64-64c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-23 23 0-86.1c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 86.1-23-23c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64z"})],-1)])),l.analyticsStore.avgTimeOnSkills.length>0?(h(),y(c,{key:0,data:l.analyticsStore.avgTimeOnSkills,colour:"purple",class:""},null,8,["data"])):(h(),p("p",lt,"No data yet"))])])]),u.showTutorialTip1?(h(),p("div",dt,[r("div",ct,[t[15]||(t[15]=r("p",null," This page provides information on engagement and usage.",-1)),t[16]||(t[16]=r("p",null,"You can download chart data as CSV files using the download buttons next to each chart, and toggle between cumulative (total) and weekly data using the filter buttons at the top right. ",-1)),r("div",ut,[r("button",{class:"btn primary-btn",onClick:t[6]||(t[6]=o=>i.progressTutorial(1))}," close ")])])])):w("",!0)],64)}const mt=f(G,[["render",ht],["__scopeId","data-v-559b7dd6"]]),pt={name:"CohortCompareDurationHorizontalChart",props:["data","colour"],data(){return{}},mounted(){const i=document.getElementById("skill-time-chart-container").clientWidth,d=20*this.data.length+0+10,s=k().domain([0,v(this.data,a=>a.quantity)]).range([200,i-0]),c=b().domain(C(this.data,a=>-a.quantity).map(a=>a.name)).rangeRound([0,d-10]).padding(.1),o=S("#cohort-compare-duration-chart-container").append("svg").attr("width",i).attr("height",d).attr("viewBox",[0,0,+Math.min(i,d),+Math.min(i,d)]).attr("preserveAspectRatio","xMinYMin");o.append("g").attr("fill","purple").selectAll().data(this.data).join("rect").attr("x",s(0)).attr("y",a=>c(a.name)).attr("width",a=>s(a.quantity)-s(0)).attr("height",c.bandwidth()),o.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",a=>s(a.quantity)).attr("y",a=>c(a.name)+c.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(a=>a.formattedQuantity).call(a=>a.filter(m=>s(m.quantity)-s(0)<20).attr("dx",4).attr("fill","black").attr("text-anchor","start")),o.append("g").attr("transform","translate(0,0)").call(x(s).ticks(0)).call(a=>a.select(".domain").remove()),o.append("g").attr("transform","translate(200,0)").call(D(c).tickSizeOuter(0))}},gt={id:"cohort-compare-duration-chart-container"};function yt(e,t,n,l,u,i){return h(),p("div",gt)}const ft=f(pt,[["render",yt]]),St={name:"CohortDurationPerSkillHorizontalBarChart",props:["data","colour"],data(){return{}},mounted(){const i=document.getElementById("student-time-chart-container").clientWidth,d=20*this.data.length+0+10,s=k().domain([0,v(this.data,a=>a.quantity)]).range([200,i-0]),c=b().domain(C(this.data,a=>-a.quantity).map(a=>a.name)).rangeRound([0,d-10]).padding(.1),o=S("#cohort-duration-per-skill-chart-container").append("svg").attr("width",i).attr("height",d).attr("viewBox",[0,0,+Math.min(i,d),+Math.min(i,d)]).attr("preserveAspectRatio","xMinYMin");o.append("g").attr("fill","purple").selectAll().data(this.data).join("rect").attr("x",s(0)).attr("y",a=>c(a.name)).attr("width",a=>s(a.quantity)-s(0)).attr("height",c.bandwidth()),o.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",a=>s(a.quantity)).attr("y",a=>c(a.name)+c.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(a=>a.formattedQuantity).call(a=>a.filter(m=>s(m.quantity)-s(0)<40).attr("dx",4).attr("fill","black").attr("text-anchor","start")),o.append("g").attr("transform","translate(0,0)").call(x(s).ticks(0)).call(a=>a.select(".domain").remove()),o.append("g").attr("transform","translate(200,0)").call(D(c).tickSizeOuter(0))},computed:{}},wt={id:"cohort-duration-per-skill-chart-container"};function kt(e,t,n,l,u,i){return h(),p("div",wt)}const Dt=f(St,[["render",kt]]);const vt={setup(){const e=z(),t=T();return{cohortsStore:e,userDetailsStore:t}},components:{CohortDurationPerDayLineChart:B,CohortCompareDurationHorizontalChart:ft,CohortDurationPerSkillHorizontalBarChart:Dt,DownloadCSVBtn:E},data(){return{cohortId:this.$route.params.cohortId,cohortName:"",durationsPerDay:[],studentTotalDurations:[],studentDurationsPerSkill:[],durationsPerDayDownloadData:[],studentTotalDurationsDownloadData:[],studentDurationsPerSkillDownloadData:[]}},async created(){await this.getAllStudentsDurationPerDay(),await this.getAllStudentsStudentTotalDurations(),await this.getAllStudentsDurationsPerSkill()},methods:{async getAllStudentsDurationPerDay(){fetch(`/student-analytics/all-students-duration-per-day/${this.userDetailsStore.userId}`).then(e=>e.json()).then(e=>{for(let t=0;t<e.length;t++)e[t].formattedQuantity=e[t].quantity/(1e3*60),e[t].date=new Date(e[t].date);e.sort((t,n)=>t.date-n.date),this.durationsPerDay=e,this.durationsPerDayDownloadData=e.map(t=>({date:new Date(t.date).toLocaleDateString(),minutesSpent:this.millisToMinutesAndSeconds(t.quantity)}))}).catch(e=>{console.error("Error fetching student duration per day:",e)})},async getAllStudentsStudentTotalDurations(){fetch(`/student-analytics/all-students-total-durations/${this.userDetailsStore.userId}`).then(e=>e.json()).then(e=>{for(let t=0;t<e.length;t++)e[t].formattedQuantity=this.millisToMinutesAndSeconds(e[t].quantity),e[t].date=new Date(e[t].date);e.sort((t,n)=>t.date-n.date),this.studentTotalDurations=e,this.studentTotalDurationsDownloadData=e.map(t=>({studentName:t.name,minutesSpent:this.millisToMinutesAndSeconds(t.quantity)}))}).catch(e=>{console.error("Error fetching student duration per day:",e)})},async getAllStudentsDurationsPerSkill(){fetch(`/student-analytics/all-students-student-durations-per-skill/${this.userDetailsStore.userId}`).then(e=>e.json()).then(e=>{for(let t=0;t<e.length;t++)e[t].formattedQuantity=this.millisToMinutesAndSeconds(e[t].quantity);this.studentDurationsPerSkill=e,this.studentDurationsPerSkillDownloadData=e.map(t=>({skill:t.name,minutesSpent:this.millisToMinutesAndSeconds(t.quantity)}))}).catch(e=>{console.error("Error fetching student durations per skill:",e)})},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}}},_t={class:"container-fluid chart-page"},Tt={class:"row chart-row position-relative"},xt={id:"time-chart-container"},bt={key:1},Ct={class:"row chart-row"},$t={class:"col-md chart-col position-relative overflow-auto"},Pt={id:"student-time-chart-container"},Mt={key:1},Lt={class:"col-md chart-col position-relative overflow-auto"},Bt={id:"skill-time-chart-container"};function At(e,t,n,l,u,i){const d=g("DownloadCSVBtn"),s=g("CohortDurationPerDayLineChart"),c=g("CohortCompareDurationHorizontalChart"),o=g("CohortDurationPerSkillHorizontalBarChart");return h(),p("div",_t,[t[2]||(t[2]=r("h1",{class:"heading h4"},"Time Report",-1)),r("div",Tt,[r("div",xt,[_(d,{data:u.durationsPerDayDownloadData,fileName:"Total time on platform per day",class:"download-btn position-absolute btn"},null,8,["data"]),u.durationsPerDay.length>0?(h(),y(s,{key:0,data:u.durationsPerDay},null,8,["data"])):(h(),p("p",bt,"No time recorded yet"))])]),r("div",Ct,[r("div",$t,[r("div",Pt,[_(d,{data:u.studentTotalDurationsDownloadData,fileName:"Total time on platform, comparing students",class:"download-btn position-absolute btn"},null,8,["data"]),u.studentTotalDurations.length>0?(h(),y(c,{key:0,data:u.studentTotalDurations,colour:"#5f31dd"},null,8,["data"])):(h(),p("p",Mt,"No time recorded yet"))]),t[0]||(t[0]=r("figcaption",{class:"text-muted"}," Total time spent on the platform, comparing students ",-1))]),r("div",Lt,[r("div",Bt,[_(d,{data:u.studentDurationsPerSkillDownloadData,fileName:"Minutes per skill",class:"download-btn position-absolute btn"},null,8,["data"]),u.studentDurationsPerSkill.length>0?(h(),y(o,{key:0,data:u.studentDurationsPerSkill,colour:"#5f31dd"},null,8,["data"])):w("",!0)]),t[1]||(t[1]=r("figcaption",{class:"text-muted"}," Total time spent on each skill ",-1))])])])}const Ot=f(vt,[["render",At],["__scopeId","data-v-35852922"]]),Rt={name:"Dashboard",setup(){return{userDetailsStore:T()}},data(){return{}},components:{SchoolAdminEngagementReport:mt,TeacherTimeReport:Ot},async created(){}};function It(e,t,n,l,u,i){const d=g("SchoolAdminEngagementReport"),s=g("TeacherTimeReport");return h(),p(P,null,[l.userDetailsStore.role=="school_admin"?(h(),y(d,{key:0})):w("",!0),l.userDetailsStore.role=="instructor"||l.userDetailsStore.role=="partner"?(h(),y(s,{key:1})):w("",!0)],64)}const Kt=f(Rt,[["render",It]]);export{Kt as default};
