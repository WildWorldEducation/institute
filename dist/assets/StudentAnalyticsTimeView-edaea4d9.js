import{_ as S,o,c as m,e as y,J as f,r as p,a as r,j as _,b as k}from"./main-0db18a32.js";import{u as x}from"./AnalyticsStore-c8b73b27.js";import{S as b,T}from"./TimePerSubjectHorizontalBarChart-0de0d828.js";import"./transform-af9a74a2.js";import{l as w,c as v,b as B}from"./linear-5b188edc.js";import{m as j,b as C}from"./continuous-7328829e.js";import{s as D}from"./sort-ed61f96d.js";import{s as H}from"./string-dd82ab4a.js";import"./line-85f04100.js";import"./time-0457d93b.js";import"./point-ea70dc51.js";const P={name:"TimePerSkillHorizontalBarChart",props:["data","colour"],data(){return{}},mounted(){const s=25*this.data.length,a=w().domain([0,j(this.data,t=>t.quantity)]).range([200,1e3-0]),n=C().domain(D(this.data,t=>-t.quantity).map(t=>t.name)).rangeRound([0,s-10]).padding(.1),d=H("#time-per-skill-chart-container").append("svg").attr("width",1e3).attr("height",s).attr("viewBox",[0,0,1e3,s]).attr("style","max-width: 100%; height: 100%; font: 14px sans-serif;");d.append("g").attr("fill",this.colour).selectAll().data(this.data).join("rect").attr("x",a(0)).attr("y",t=>n(t.name)).attr("width",t=>a(t.quantity)-a(0)).attr("height",n.bandwidth()),d.append("g").attr("fill","white").attr("text-anchor","end").selectAll().data(this.data).join("text").attr("x",t=>a(t.quantity)).attr("y",t=>n(t.name)+n.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(t=>t.formattedQuantity).call(t=>t.filter(g=>a(g.quantity)-a(0)<40).attr("dx",4).attr("fill","black").attr("text-anchor","start")),d.append("g").attr("transform","translate(0,0)").call(v(a).ticks(0)).call(t=>t.select(".domain").remove()),d.append("g").attr("transform","translate(200,0)").call(B(n).tickSizeOuter(0))},computed:{}},$={id:"time-per-skill-chart-container"};function z(c,e,l,i,h,u){return o(),m("div",$)}const I=S(P,[["render",z]]);const q={setup(){const c=y(),e=f(),l=x();return{userDetailsStore:c,userSkillsStore:e,analyticsStore:l}},components:{StudentDurationPerDayLineChart:b,TimePerSkillHorizontalBarChart:I,TimePerSubjectHorizontalBarChart:T},data(){return{studentId:this.userDetailsStore.userId}},async created(){await this.analyticsStore.getStudentDurationPerDay(this.studentId),await this.analyticsStore.getStudentSkillDurations(this.studentId),await this.analyticsStore.getStudentSubjectTimeSpent(this.studentId)},methods:{}},A={class:"container-fluid chart-page"},L={class:"row"},V={class:"col"},R={id:"subject-activity-chart-container",class:"chart-card"},N={class:"row"},U={class:"col"},E={key:1};function J(c,e,l,i,h,u){const s=p("TimePerSubjectHorizontalBarChart"),a=p("TimePerSkillHorizontalBarChart");return o(),m("div",A,[r("div",L,[r("div",V,[e[0]||(e[0]=r("h2",{class:"h4 heading"},"Time per subject",-1)),r("div",R,[i.analyticsStore.subjectTimeSpent.length>0?(o(),_(s,{key:0,data:i.analyticsStore.subjectTimeSpent,colour:"purple"},null,8,["data"])):k("",!0)])])]),r("div",N,[r("div",U,[e[1]||(e[1]=r("h2",{class:"h4 heading"},"Time per skill",-1)),i.analyticsStore.studentSkillDurations.length>0?(o(),_(a,{key:0,data:i.analyticsStore.studentSkillDurations,colour:"purple",class:"chart-card"},null,8,["data"])):(o(),m("p",E,"You haven't spent any time on skills yet."))])])])}const at=S(q,[["render",J],["__scopeId","data-v-db6e4f7e"]]);export{at as default};
