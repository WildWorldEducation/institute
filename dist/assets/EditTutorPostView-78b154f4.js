import{_ as u,o as r,c as i,d as t,b as c}from"./main-03aafba3.js";const m={data(){return{tutorPostId:this.$route.params.tutorPostId,tutorPost:{},validateDescription:!0,validateContact:!0}},created(){this.getTutorPost()},methods:{async getTutorPost(){await fetch("/tutor-posts/show/"+this.tutorPostId).then(function(e){return e.json()}).then(e=>this.tutorPost=e),$("#summernote-description").summernote({disableDragAndDrop:!0,placeholder:"Describe your tutoring style and experience with the subject.",tabsize:2,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["para",["ul"]],["view",["fullscreen","codeview"]]]}).summernote("code",this.tutorPost.description),$("#summernote-contact-preference").summernote({disableDragAndDrop:!0,placeholder:"How would you like to be contacted (eg: an email address, mobile number or calendar booking link)?",tabsize:2,toolbar:[["font",["bold","underline","clear"]],["para",["ul"]],["insert",["link"]],["view",["fullscreen","codeview"]]]}).summernote("code",this.tutorPost.contact_preference),$(".note-editor .note-editable").css("background-color","#ffffff")},Submit(){let e=$("#summernote-description").summernote("code"),o=$("#summernote-contact-preference").summernote("code");if(e.length<25?this.validateDescription=!1:this.validateDescription=!0,o.length<25?this.validateContact=!1:this.validateContact=!0,!this.validateContact||!this.validateDescription)return;const n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:e,contact_preference:o})};var a="/tutor-posts/edit/"+this.tutorPostId;fetch(a,n).then(()=>{let s=this.$route.query.dismissFlagId;s?fetch("/content-flags/"+s,{method:"DELETE"}).finally(()=>{this.$router.back()}):this.$router.back()})}}},h={class:"container p-2 bg-light rounded"},p=t("h1",{class:"heading"},"Edit Tutor Post",-1),f={class:"row"},_={class:"mb-3"},b=t("textarea",{id:"summernote-description",name:"editordata"},null,-1),v={key:0,class:"form-validate"},g={class:"mb-3"},y=t("textarea",{id:"summernote-contact-preference",name:"editordata2"},null,-1),P={key:0,class:"form-validate"},k={class:"mb-3 d-flex justify-content-end gap-4"};function w(e,o,n,a,s,d){return r(),i("div",h,[p,t("div",f,[t("div",_,[b,s.validateDescription==!1?(r(),i("div",v," Please provide at least 25 characters. ")):c("",!0)]),t("div",g,[y,s.validateContact==!1?(r(),i("div",P," Please provide at least 25 characters. ")):c("",!0)]),t("div",k,[t("a",{class:"btn red-btn",onClick:o[0]||(o[0]=l=>e.$router.go(-1))}," Cancel "),t("button",{onClick:o[1]||(o[1]=l=>d.Submit()),class:"btn primary-btn"}," Submit ")])])])}const C=u(m,[["render",w]]);export{C as default};
