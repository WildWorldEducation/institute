import{_ as c,r as h,o as n,c as a,d as e,F as _,t as S,e as p,j as f,x as l,p as k,f as g,a as L,g as y,y as A,i as I,b as v}from"./main-e8199560.js";import{u as w}from"./AssessmentsStore-188e06f0.js";import{u as D}from"./InstructorStudentsStore-cf963ec4.js";const $={props:{assessments:{type:Array,required:!0}},setup(){return{}},data(){return{}},computed:{},methods:{}},x=s=>(k("data-v-9f03e761"),s=s(),g(),s),M={class:"container-fluid"},U=x(()=>e("h2",{class:"secondary-heading h4"},"Mark Assessments",-1)),N={id:"list-body"},j={class:"assessment"},B={id:"student-name"},V={id:"skill-name"},C={id:"date"};function b(s,t,u,r,i,m){const d=h("RouterLink");return n(),a("div",M,[U,e("div",N,[(n(!0),a(_,null,S(this.assessments,o=>(n(),a("div",j,[p(d,{class:"assessment-link",to:"/mark-assessment/"+o.id},{default:f(()=>[e("span",B,l(o.studentUsername)+", ",1),e("span",V,l(o.skillName)+", ",1),e("span",C,l(o.date),1)]),_:2},1032,["to"])]))),256))])])}const F=c($,[["render",b],["__scopeId","data-v-9f03e761"]]),R={setup(){const s=L(),t=w(),u=y(),r=A(),i=D();return s.getUserDetails(),{userDetailsStore:s,assessmentsStore:t,usersStore:r,skillsStore:u,instructorStudentsStore:i}},data(){return{assessments:[],studentIds:[]}},components:{MarkAssessment:F},async created(){this.userDetailsStore.role=="instructor"&&await this.fetchAssessments()},methods:{async fetchAssessments(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)}}},q={class:"container"};function E(s,t,u,r,i,m){const d=h("MarkAssessment");return n(),a("div",q,[r.userDetailsStore.role=="instructor"?(n(),I(d,{key:0,assessments:i.assessments},null,8,["assessments"])):v("",!0)])}const J=c(R,[["render",E]]);export{J as default};
