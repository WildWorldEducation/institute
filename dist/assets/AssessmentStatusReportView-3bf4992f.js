import{_ as k,A as g,J as y,r as S,o as l,c as n,a as t,t as a,F as d,z as u,g as c,l as h,s as _}from"./main-1df5e740.js";const f={setup(){const s=g(),i=y();return{usersStore:s,userSkillsStore:i}},components:{},data(){return{studentId:this.$route.params.studentId,studentName:null,assessmentAttempts:[],multipleFails:[]}},async created(){this.usersStore.users.length<1&&await this.usersStore.getUsers();const s=this.usersStore.users.find(i=>i.id===this.studentId);s&&(this.studentName=s.username),await this.getAssessmentAttempts(),await this.userSkillsStore.getMasteredSkills(this.studentId),await this.getMultipleFails()},methods:{async getAssessmentAttempts(){fetch(`/student-analytics/started-unmastered-assessments/${this.studentId}`).then(s=>s.json()).then(s=>{this.assessmentAttempts=s}).catch(s=>{console.error("Error fetching last visited skills:",s)})},assessmentDate(s){return new Date(s).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},async getMultipleFails(){fetch(`/student-analytics/multiple-fails/${this.studentId}`).then(s=>s.json()).then(s=>{this.multipleFails=s}).catch(s=>{console.error("Error fetching last visited skills:",s)})}}},b={class:"container"},w={class:"heading"},F=t("h2",{class:"secondary-heading"},"Completed",-1),v={key:0,class:"mb-4"},D={class:"table"},A=t("tr",null,[t("th",null,"Skill")],-1),I={key:1},N=t("h2",{class:"secondary-heading"},"Attempted",-1),j={key:2,class:"mb-4"},x={class:"table"},T=t("tr",null,[t("th",null,"Skill"),t("th",null,"Date")],-1),U={key:3},V=t("p",null,null,-1),B=t("h2",{class:"secondary-heading"},"Has failed multiple times",-1),C={key:4,class:"mb-4"},E={class:"table"},M=t("tr",null,[t("th",null,"Skill"),t("th",null,"Times")],-1),L={key:5};function R(s,i,$,m,o,p){const r=S("router-link");return l(),n("div",b,[t("h1",w,"Assessment Status Report: "+a(o.studentName),1),F,this.userSkillsStore.masteredSkills.length>0?(l(),n("div",v,[t("table",D,[A,(l(!0),n(d,null,u(m.userSkillsStore.masteredSkills,e=>(l(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[c(r,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(a(e.name),1)]),_:2},1032,["to"])])]))),128))])])):(l(),n("p",I,"This student has not completed any assessments yet.")),N,this.assessmentAttempts.length>0?(l(),n("div",j,[t("table",x,[T,(l(!0),n(d,null,u(o.assessmentAttempts,e=>(l(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[c(r,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(a(e.name),1)]),_:2},1032,["to"])]),t("td",null,a(p.assessmentDate(e.date)),1)]))),128))])])):(l(),n("p",U,"This student has attempted any assessments yet.")),V,B,this.multipleFails.length>0?(l(),n("div",C,[t("table",E,[M,(l(!0),n(d,null,u(o.multipleFails,e=>(l(),n("tr",{key:e.id,class:"table-rows"},[t("td",null,[c(r,{target:"_blank",to:"/skills/"+e.url},{default:h(()=>[_(a(e.name),1)]),_:2},1032,["to"])]),t("td",null,a(e.times),1)]))),128))])])):(l(),n("p",L," This student has not failed any assessments more than once yet. "))])}const H=k(f,[["render",R]]);export{H as default};
