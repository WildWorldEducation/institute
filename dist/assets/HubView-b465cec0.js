import{_ as m,r as _,o as e,c as o,d as i,F as h,y,e as k,j as $,l as b,t as u,z as I,b as p,p as v,f as w,a as D,w as S,x as f,m as U,g as V,i as g}from"./main-e0640ef8.js";import{u as j}from"./AssessmentsStore-fea0f75d.js";import{u as A}from"./InstructorStudentsStore-e58ddd22.js";const M={data(){return{userSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/user-skills/unnested-list/"+this.userId);this.userSkills=await s.json()},computed:{availableSkills(){const s=[];for(let t=0;t<this.userSkills.length;t++)this.userSkills[t].is_accessible==1&this.userSkills[t].is_mastered!=1&this.userSkills[t].type!="domain"&&s.push({name:this.userSkills[t].name,id:this.userSkills[t].id,url:this.userSkills[t].url,level:this.userSkills[t].level});return s.length>0&&(this.noSkills=!1),s}},methods:{}},T=s=>(v("data-v-5984b638"),s=s(),w(),s),q=T(()=>i("h2",{class:"h2-stroke"},"Available Skills",-1)),Q={id:"skill-list"},H={key:0,id:"no-skill-cell"};function P(s,t,c,a,n,d){const r=_("router-link");return e(),o(h,null,[q,i("div",Q,[(e(!0),o(h,null,y(d.availableSkills,l=>(e(),o("div",null,[k(r,{class:I([{"grade-school":l.level=="grade_school","middle-school":l.level=="middle_school","high-school":l.level=="high_school",college:l.level=="college",phd:l.level=="phd"},"skill-link btn"]),to:`/skills/${l.url}`,target:"_blank"},{default:$(()=>[b(u(l.name),1)]),_:2},1032,["class","to"])]))),256)),n.noSkills?(e(),o("div",H)):p("",!0)])],64)}const B=m(M,[["render",P],["__scopeId","data-v-5984b638"]]);const O={data(){return{visitedSkills:[],noSkills:!0}},props:["userId"],async created(){const s=await fetch("/skills/last-visited/");this.visitedSkills=await s.json(),this.visitedSkills.length>0&&(this.noSkills=!1)},computed:{}},R=s=>(v("data-v-4909eb01"),s=s(),w(),s),z=R(()=>i("h2",{class:"h2-stroke"},"Last visited Skills",-1)),F={id:"skill-list"},J={key:0,id:"no-skill-cell"};function E(s,t,c,a,n,d){const r=_("router-link");return e(),o(h,null,[z,i("div",F,[(e(!0),o(h,null,y(n.visitedSkills,l=>(e(),o("div",null,[k(r,{class:I([{"grade-school":l.level=="grade_school","middle-school":l.level=="middle_school","high-school":l.level=="high_school",college:l.level=="college",phd:l.level=="phd"},"skill-link btn"]),to:`/skills/${l.url}`,target:"_blank"},{default:$(()=>[b(u(l.name),1)]),_:2},1032,["class","to"])]))),256)),n.noSkills?(e(),o("div",J)):p("",!0)])],64)}const Z=m(O,[["render",E],["__scopeId","data-v-4909eb01"]]);const G={setup(){const s=D();return s.getUserDetails(),{userDetailsStore:s}},data(){return{notifications:[]}},computed:{},async created(){await this.getNotifications()},methods:{getNotifications(){fetch("/notifications/list").then(function(s){return s.json()}).then(s=>this.notifications=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification1:this.notifications.notification_1,notification2:this.notifications.notification_2})};var t="/notifications/edit";fetch(t,s)}}},K=s=>(v("data-v-13276fc5"),s=s(),w(),s),W=K(()=>i("h2",{class:"h2-stroke"},"Notifications",-1)),X={class:"table-div"},Y={key:0,class:"border-bottom p-2"},ss={key:1},ts={key:2,class:"p-2"},es={key:3};function ns(s,t,c,a,n,d){return e(),o(h,null,[W,i("div",X,[a.userDetailsStore.role!="admin"?(e(),o("div",Y,u(n.notifications.notification_1),1)):(e(),o("div",ss,[S(i("textarea",{onChange:t[0]||(t[0]=r=>d.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.notifications.notification_1=r),class:"form-control border-bottom p-2",rows:"3"},null,544),[[f,n.notifications.notification_1]])])),a.userDetailsStore.role!="admin"?(e(),o("div",ts,u(n.notifications.notification_2),1)):(e(),o("div",es,[S(i("textarea",{onChange:t[2]||(t[2]=r=>d.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.notifications.notification_2=r),class:"form-control p-2",rows:"3"},null,544),[[f,n.notifications.notification_2]])]))])],64)}const os=m(G,[["render",ns],["__scopeId","data-v-13276fc5"]]);const is={setup(){const s=D();return s.getUserDetails(),{userDetailsStore:s}},data(){return{news:[]}},computed:{},async created(){await this.getNews()},methods:{getNews(){fetch("/news/list").then(function(s){return s.json()}).then(s=>this.news=s)},SaveChange(){const s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({news1:this.news.news_1,news2:this.news.news_2,news3:this.news.news_3,news4:this.news.news_4})};var t="/news/edit";fetch(t,s)}}},rs=s=>(v("data-v-d6cc32a1"),s=s(),w(),s),ls=rs(()=>i("h2",{class:"h2-stroke"},"News",-1)),as={class:"table-div row rounded mb-3"},cs={class:"p-2 col-lg-3 col-md-6"},ds={key:0},us={class:"p-2 col-lg-3 col-md-6"},_s={key:0},hs={class:"p-2 col-lg-3 col-md-6"},ms={key:0},ps={class:"p-2 col-lg-3 col-md-6"},Ss={key:0};function fs(s,t,c,a,n,d){return e(),o(h,null,[ls,i("div",as,[i("div",cs,[a.userDetailsStore.role!="admin"?(e(),o("p",ds,u(n.news.news_1),1)):S((e(),o("textarea",{key:1,onChange:t[0]||(t[0]=r=>d.SaveChange()),"onUpdate:modelValue":t[1]||(t[1]=r=>n.news.news_1=r),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_1]])]),i("div",us,[a.userDetailsStore.role!="admin"?(e(),o("p",_s,u(n.news.news_2),1)):S((e(),o("textarea",{key:1,onChange:t[2]||(t[2]=r=>d.SaveChange()),"onUpdate:modelValue":t[3]||(t[3]=r=>n.news.news_2=r),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_2]])]),i("div",hs,[a.userDetailsStore.role!="admin"?(e(),o("p",ms,u(n.news.news_3),1)):S((e(),o("textarea",{key:1,onChange:t[4]||(t[4]=r=>d.SaveChange()),"onUpdate:modelValue":t[5]||(t[5]=r=>n.news.news_3=r),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_3]])]),i("div",ps,[a.userDetailsStore.role!="admin"?(e(),o("p",Ss,u(n.news.news_4),1)):S((e(),o("textarea",{key:1,onChange:t[6]||(t[6]=r=>d.SaveChange()),"onUpdate:modelValue":t[7]||(t[7]=r=>n.news.news_4=r),class:"form-control",rows:"3"},null,544)),[[f,n.news.news_4]])])])],64)}const ks=m(is,[["render",fs],["__scopeId","data-v-d6cc32a1"]]);const vs={setup(){const s=j(),t=U(),c=V(),a=D(),n=A();return{usersStore:t,skillsStore:c,assessmentsStore:s,userDetailsStore:a,instructorStudentsStore:n}},data(){return{assessments:[],studentIds:[]}},async created(){await this.assessmentsStore.getAssessments(),this.instructorStudentsStore.instructorStudentsList.length==0&&await this.instructorStudentsStore.getInstructorStudentsList();for(let s=0;s<this.instructorStudentsStore.instructorStudentsList.length;s++)this.userDetailsStore.userId==this.instructorStudentsStore.instructorStudentsList[s].instructor_id&&this.studentIds.push(this.instructorStudentsStore.instructorStudentsList[s].student_id);for(let s=0;s<this.assessmentsStore.assessments.length;s++)for(let t=0;t<this.studentIds.length;t++)this.assessmentsStore.assessments[s].student_id==this.studentIds[t]&&this.assessments.push(this.assessmentsStore.assessments[s]);for(let s=0;s<this.assessments.length;s++){let t=new Date(this.assessments[s].date).toDateString();this.assessments[s].date=t}this.usersStore.users.length==0&&await this.usersStore.getUsers();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.usersStore.users.length;t++)this.assessments[s].student_id==this.usersStore.users[t].id&&(this.assessments[s].studentUsername=this.usersStore.users[t].username);this.skillsStore.skillsList.length==0&&await this.skillsStore.getSkillsList();for(let s=0;s<this.assessments.length;s++)for(let t=0;t<this.skillsStore.skillsList.length;t++)this.assessments[s].skill_id==this.skillsStore.skillsList[t].id&&(this.assessments[s].skillName=this.skillsStore.skillsList[t].name)},computed:{},methods:{}},ws=s=>(v("data-v-0de2157a"),s=s(),w(),s),gs={class:"container-fluid"},ys=ws(()=>i("h2",{class:"h2-stroke"},"Mark Assessments",-1)),$s={id:"list-body"},Ds={class:"assessment"},bs={id:"student-name"},Is={id:"skill-name"},xs={id:"date"};function Ls(s,t,c,a,n,d){const r=_("RouterLink");return e(),o("div",gs,[ys,i("div",$s,[(e(!0),o(h,null,y(this.assessments,l=>(e(),o("div",Ds,[k(r,{class:"assessment-link",to:"/mark-assessment/"+l.id},{default:$(()=>[i("span",bs,u(l.studentUsername)+", ",1),i("span",Is,u(l.skillName)+", ",1),i("span",xs,u(l.date),1)]),_:2},1032,["to"])]))),256))])])}const Ns=m(vs,[["render",Ls],["__scopeId","data-v-0de2157a"]]);const Cs={setup(){return{}},data(){return{questions:null}},components:{},async created(){await this.getStudentMCQuestions()},methods:{formatDate(s){var t=s.replace("T"," ");t=t.replace("Z"," ");let c=t.split(/[- :]/);var a=new Date(Date.UTC(c[0],c[1]-1,c[2],c[3],c[4],c[5])),n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return a=a.toLocaleDateString("en-US",n),a},async getStudentMCQuestions(){const t=await(await fetch("/questions/student-mc-questions/full-data-list")).json();this.questions=t}}},Us=s=>(v("data-v-e6273c80"),s=s(),w(),s),Vs={class:"container-fluid"},js=Us(()=>i("h2",null,"Check New Questions",-1)),As={class:"list-body"},Ms={class:"question"},Ts={class:"student-name"},qs={class:"skill-name"},Qs={class:"date"};function Hs(s,t,c,a,n,d){const r=_("RouterLink");return e(),o("div",Vs,[js,i("div",As,[(e(!0),o(h,null,y(n.questions,l=>(e(),o("div",Ms,[k(r,{class:"question-link",to:`/check-student-question/${l.id}`},{default:$(()=>[i("span",Ts,u(l.student)+", ",1),i("span",qs,u(l.skillname)+", ",1),i("span",Qs,u(d.formatDate(l.create_date)),1)]),_:2},1032,["to"])]))),256))])])}const Ps=m(Cs,[["render",Hs],["__scopeId","data-v-e6273c80"]]);const Bs={setup(){const s=D();return s.getUserDetails(),{userDetailsStore:s}},data(){return{}},components:{News:ks,Notifications:os,StudentProgress:B,MarkAssessment:Ns,LastVisitedSkills:Z,HubStudentQuestionList:Ps},computed:{name(){return this.userDetailsStore.firstName+" "+this.userDetailsStore.lastName}},methods:{}},Os={class:"container min-vh-100"},Rs={class:"row content-row"},zs={key:0,class:"col-lg-4 col-md-6 mb-4 pb-4"},Fs={key:1,class:"col-lg-4 col-md-6 mb-4 pb-4"},Js={class:"col-lg-3 col-md-5 pb-4 column"},Es={id:"news-row",class:"row"},Zs={class:"col"};function Gs(s,t,c,a,n,d){const r=_("StudentProgress"),l=_("MarkAssessment"),x=_("LastVisitedSkills"),L=_("HubStudentQuestionList"),N=_("Notifications"),C=_("News");return e(),o("div",Os,[i("div",Rs,[a.userDetailsStore.role!="editor"?(e(),o("div",zs,[a.userDetailsStore.role=="student"?(e(),g(r,{key:0,userId:a.userDetailsStore.userId},null,8,["userId"])):a.userDetailsStore.role=="instructor"?(e(),g(l,{key:1})):p("",!0)])):p("",!0),a.userDetailsStore.role!="editor"?(e(),o("div",Fs,[a.userDetailsStore.role=="student"?(e(),g(x,{key:0,userId:a.userDetailsStore.userId},null,8,["userId"])):a.userDetailsStore.role=="instructor"?(e(),g(L,{key:1})):p("",!0)])):p("",!0),i("div",Js,[k(N)])]),i("div",Es,[i("div",Zs,[k(C)])])])}const Ys=m(Bs,[["render",Gs]]);export{Ys as default};
