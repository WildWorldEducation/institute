import{_ as pe,A as _e,r as ge,o as W,i as me,j as Ft,c as J,l as ye,d as E,m as Vt,b as Yt,e as gn,x as mn,F as we,t as xe,T as ve,p as be,f as ke}from"./main-11d11fd1.js";const $e={setup(){},props:["skill","showSkillPanel"],data(){return{treeType:""}},mounted(){const t=_e();this.treeType=t.name},computed:{},methods:{hideInfoPanel(){this.$parent.showSkillPanel=!1,console.log(this.skill)},toggleChildNodes(){this.skill.show_children==0?this.$parent.toggleShowChildren(this.skill):this.$parent.toggleHideChildren(this.skill)},imageUrlAlternative(t){t.target.src=""}}},Bt=t=>(be("data-v-8abe774d"),t=t(),ke(),t),Ae={class:"d-flex justify-content-between p-2"},Ne={class:"d-flex"},Me={key:0},Ce={key:1},ze=Bt(()=>E("svg",{width:"18",height:"18",viewBox:"0 0 20 20",class:"tertiary-icon",xmlns:"http://www.w3.org/2000/svg"},[E("path",{d:"M6.34811 20.0423L6.34811 13.6494L-0.0358702 13.6583C-0.320945 13.6579 -0.594203 13.5444 -0.795782 13.3428C-0.997361 13.1412 -1.11082 12.868 -1.11132 12.5829L-1.11729 7.41477C-1.1168 7.1297 -1.00334 6.85644 -0.801757 6.65486C-0.600179 6.45328 -0.326921 6.33982 -0.0418461 6.33933L6.3481 6.34231L6.3481 -0.0506238C6.34659 -0.193451 6.3736 -0.335145 6.42756 -0.467396C6.48152 -0.599646 6.56134 -0.719794 6.66234 -0.820794C6.76334 -0.921794 6.88349 -1.00161 7.01574 -1.05557C7.14799 -1.10953 7.28969 -1.13655 7.43251 -1.13503L12.5827 -1.12308C12.8678 -1.12259 13.141 -1.00913 13.3426 -0.807549C13.5442 -0.60597 13.6577 -0.332713 13.6582 -0.047637L13.6552 6.34231L20.0481 6.34231C20.3325 6.34248 20.6052 6.45552 20.8063 6.65661C21.0074 6.8577 21.1204 7.13039 21.1206 7.41477L21.1325 12.565C21.1324 12.8494 21.0193 13.122 20.8182 13.3231C20.6171 13.5242 20.3444 13.6373 20.0601 13.6374L13.6552 13.6494L13.6641 20.0334C13.6636 20.3184 13.5502 20.5917 13.3486 20.7933C13.147 20.9948 12.8738 21.1083 12.5887 21.1088L7.43252 21.1267C7.28969 21.1282 7.148 21.1012 7.01575 21.0473C6.88349 20.9933 6.76335 20.9135 6.66235 20.8125C6.56135 20.7115 6.48153 20.5913 6.42757 20.4591C6.37361 20.3268 6.34659 20.1851 6.34811 20.0423Z"})],-1)),Se=Bt(()=>E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"#888",width:"20",height:"20"},[E("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})],-1)),Te=[Se],Ee=Bt(()=>E("hr",null,null,-1)),Re={class:"secondary-heading h3 text-center"},Ie=["src"],Le=["innerHTML"],Pe={key:0,class:"skill-introduction"},Be=Bt(()=>E("h2",{class:"h4"},"Subskills",-1)),De={class:"list-container"};function qe(t,n,e,i,r,o){const s=ge("router-link");return W(),me(ve,{name:"skillPanel"},{default:Ft(()=>{var u,l;return[e.showSkillPanel?(W(),J("div",{key:0,class:ye(["skill-panel-container text-center overflow-auto",r.treeType==="radial-tree"&&"radial-skill-panel"])},[E("div",null,[E("div",Ae,[E("div",Ne,[e.skill.has_children&&this.$route.name==="learning-tracks"?(W(),J("button",{key:0,class:"primary-btn me-2 btn",onClick:n[0]||(n[0]=(...a)=>o.toggleChildNodes&&o.toggleChildNodes(...a))},[e.skill.show_children==1?(W(),J("span",Me,"Collapse")):(W(),J("span",Ce,[Vt("Expand "),ze]))])):Yt("",!0),gn(s,{class:"btn primary-btn",target:"_blank",id:"skillLink",to:"/skills/"+e.skill.url,"b-on-hover":"",title:"Learn more"},{default:Ft(()=>[Vt("Learn More ")]),_:1},8,["to"])]),E("button",{class:"closebtn",onClick:n[1]||(n[1]=(...a)=>o.hideInfoPanel&&o.hideInfoPanel(...a)),"b-on-hover":"",title:"Close Panel "},Te)]),Ee,E("h1",Re,mn((u=e.skill)==null?void 0:u.name),1),E("img",{src:"https://institute-skill-infobox-image-thumbnails.s3.amazonaws.com/"+e.skill.url,class:"rounded img-fluid mx-auto",onError:n[2]||(n[2]=(...a)=>o.imageUrlAlternative&&o.imageUrlAlternative(...a))},null,40,Ie),E("div",{class:"skill-introduction text-start mt-1 mb-4",innerHTML:e.skill.introduction},null,8,Le),((l=e.skill)==null?void 0:l.type)=="super"?(W(),J("div",Pe,[Be,E("ul",De,[(W(!0),J(we,null,xe(e.skill.subskills,a=>(W(),J("li",null,[gn(s,{class:"btn mb-2",to:"/skills/"+a.url},{default:Ft(()=>[Vt(mn(a.name),1)]),_:2},1032,["to"])]))),256))])])):Yt("",!0)])],2)):Yt("",!0)]}),_:1})}const js=pe($e,[["render",qe],["__scopeId","data-v-8abe774d"]]);function ta(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}var He={value:()=>{}};function un(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Nt(e)}function Nt(t){this._=t}function Xe(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Nt.prototype=un.prototype={constructor:Nt,on:function(t,n){var e=this._,i=Xe(t+"",e),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=Fe(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(r=(t=i[o]).type)e[r]=yn(e[r],t.name,n);else if(n==null)for(r in e)e[r]=yn(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Nt(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Fe(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function yn(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=He,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var Zt="http://www.w3.org/1999/xhtml";const wn={svg:"http://www.w3.org/2000/svg",xhtml:Zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),wn.hasOwnProperty(n)?{space:wn[n],local:t}:t}function Ve(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Zt&&n.documentElement.namespaceURI===Zt?n.createElement(t):n.createElementNS(e,t)}}function Ye(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ln(t){var n=Dt(t);return(n.local?Ye:Ve)(n)}function Oe(){}function cn(t){return t==null?Oe:function(){return this.querySelector(t)}}function Ue(t){typeof t!="function"&&(t=cn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=new Array(s),l,a,c=0;c<s;++c)(l=o[c])&&(a=t.call(l,l.__data__,c,o))&&("__data__"in l&&(a.__data__=l.__data__),u[c]=a);return new I(i,this._parents)}function Ge(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ke(){return[]}function Bn(t){return t==null?Ke:function(){return this.querySelectorAll(t)}}function We(t){return function(){return Ge(t.apply(this,arguments))}}function Ze(t){typeof t=="function"?t=We(t):t=Bn(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var s=n[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&(i.push(t.call(l,l.__data__,a,s)),r.push(l));return new I(i,r)}function Dn(t){return function(){return this.matches(t)}}function qn(t){return function(n){return n.matches(t)}}var Qe=Array.prototype.find;function Je(t){return function(){return Qe.call(this.children,t)}}function je(){return this.firstElementChild}function ti(t){return this.select(t==null?je:Je(typeof t=="function"?t:qn(t)))}var ni=Array.prototype.filter;function ei(){return Array.from(this.children)}function ii(t){return function(){return ni.call(this.children,t)}}function ri(t){return this.selectAll(t==null?ei:ii(typeof t=="function"?t:qn(t)))}function oi(t){typeof t!="function"&&(t=Dn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new I(i,this._parents)}function Hn(t){return new Array(t.length)}function si(){return new I(this._enter||this._groups.map(Hn),this._parents)}function Tt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ai(t){return function(){return t}}function ui(t,n,e,i,r,o){for(var s=0,u,l=n.length,a=o.length;s<a;++s)(u=n[s])?(u.__data__=o[s],i[s]=u):e[s]=new Tt(t,o[s]);for(;s<l;++s)(u=n[s])&&(r[s]=u)}function li(t,n,e,i,r,o,s){var u,l,a=new Map,c=n.length,d=o.length,f=new Array(c),_;for(u=0;u<c;++u)(l=n[u])&&(f[u]=_=s.call(l,l.__data__,u,n)+"",a.has(_)?r[u]=l:a.set(_,l));for(u=0;u<d;++u)_=s.call(t,o[u],u,o)+"",(l=a.get(_))?(i[u]=l,l.__data__=o[u],a.delete(_)):e[u]=new Tt(t,o[u]);for(u=0;u<c;++u)(l=n[u])&&a.get(f[u])===l&&(r[u]=l)}function ci(t){return t.__data__}function hi(t,n){if(!arguments.length)return Array.from(this,ci);var e=n?li:ui,i=this._parents,r=this._groups;typeof t!="function"&&(t=ai(t));for(var o=r.length,s=new Array(o),u=new Array(o),l=new Array(o),a=0;a<o;++a){var c=i[a],d=r[a],f=d.length,_=fi(t.call(c,c&&c.__data__,a,i)),w=_.length,v=u[a]=new Array(w),N=s[a]=new Array(w),m=l[a]=new Array(f);e(c,d,v,N,m,_,n);for(var $=0,C=0,z,T;$<w;++$)if(z=v[$]){for($>=C&&(C=$+1);!(T=N[C])&&++C<w;);z._next=T||null}}return s=new I(s,i),s._enter=u,s._exit=l,s}function fi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function di(){return new I(this._exit||this._groups.map(Hn),this._parents)}function pi(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function _i(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,s=Math.min(r,o),u=new Array(r),l=0;l<s;++l)for(var a=e[l],c=i[l],d=a.length,f=u[l]=new Array(d),_,w=0;w<d;++w)(_=a[w]||c[w])&&(f[w]=_);for(;l<r;++l)u[l]=e[l];return new I(u,this._parents)}function gi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function mi(t){t||(t=yi);function n(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s=e[o],u=s.length,l=r[o]=new Array(u),a,c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(n)}return new I(r,this._parents).order()}function yi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function wi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function xi(){return Array.from(this)}function vi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function bi(){let t=0;for(const n of this)++t;return t}function ki(){return!this.node()}function $i(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,s=r.length,u;o<s;++o)(u=r[o])&&t.call(u,u.__data__,o,r);return this}function Ai(t){return function(){this.removeAttribute(t)}}function Ni(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mi(t,n){return function(){this.setAttribute(t,n)}}function Ci(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function zi(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Si(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ti(t,n){var e=Dt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?Ni:Ai:typeof n=="function"?e.local?Si:zi:e.local?Ci:Mi)(e,n))}function Xn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ei(t){return function(){this.style.removeProperty(t)}}function Ri(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ii(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Li(t,n,e){return arguments.length>1?this.each((n==null?Ei:typeof n=="function"?Ii:Ri)(t,n,e??"")):ot(this.node(),t)}function ot(t,n){return t.style.getPropertyValue(n)||Xn(t).getComputedStyle(t,null).getPropertyValue(n)}function Pi(t){return function(){delete this[t]}}function Bi(t,n){return function(){this[t]=n}}function Di(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function qi(t,n){return arguments.length>1?this.each((n==null?Pi:typeof n=="function"?Di:Bi)(t,n)):this.node()[t]}function Fn(t){return t.trim().split(/^|\s+/)}function hn(t){return t.classList||new Vn(t)}function Vn(t){this._node=t,this._names=Fn(t.getAttribute("class")||"")}Vn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yn(t,n){for(var e=hn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function On(t,n){for(var e=hn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Hi(t){return function(){Yn(this,t)}}function Xi(t){return function(){On(this,t)}}function Fi(t,n){return function(){(n.apply(this,arguments)?Yn:On)(this,t)}}function Vi(t,n){var e=Fn(t+"");if(arguments.length<2){for(var i=hn(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Fi:n?Hi:Xi)(e,n))}function Yi(){this.textContent=""}function Oi(t){return function(){this.textContent=t}}function Ui(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Gi(t){return arguments.length?this.each(t==null?Yi:(typeof t=="function"?Ui:Oi)(t)):this.node().textContent}function Ki(){this.innerHTML=""}function Wi(t){return function(){this.innerHTML=t}}function Zi(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Qi(t){return arguments.length?this.each(t==null?Ki:(typeof t=="function"?Zi:Wi)(t)):this.node().innerHTML}function Ji(){this.nextSibling&&this.parentNode.appendChild(this)}function ji(){return this.each(Ji)}function tr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nr(){return this.each(tr)}function er(t){var n=typeof t=="function"?t:ln(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ir(){return null}function rr(t,n){var e=typeof t=="function"?t:ln(t),i=n==null?ir:typeof n=="function"?n:cn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function or(){var t=this.parentNode;t&&t.removeChild(this)}function sr(){return this.each(or)}function ar(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ur(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function lr(t){return this.select(t?ur:ar)}function cr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function hr(t){return function(n){t.call(this,n,this.__data__)}}function fr(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function dr(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function pr(t,n,e){return function(){var i=this.__on,r,o=hr(n);if(i){for(var s=0,u=i.length;s<u;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function _r(t,n,e){var i=fr(t+""),r,o=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,c;l<a;++l)for(r=0,c=u[l];r<o;++r)if((s=i[r]).type===c.type&&s.name===c.name)return c.value}return}for(u=n?pr:dr,r=0;r<o;++r)this.each(u(i[r],n,e));return this}function Un(t,n,e){var i=Xn(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function gr(t,n){return function(){return Un(this,t,n)}}function mr(t,n){return function(){return Un(this,t,n.apply(this,arguments))}}function yr(t,n){return this.each((typeof n=="function"?mr:gr)(t,n))}function*wr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var Gn=[null];function I(t,n){this._groups=t,this._parents=n}function gt(){return new I([[document.documentElement]],Gn)}function xr(){return this}I.prototype=gt.prototype={constructor:I,select:Ue,selectAll:Ze,selectChild:ti,selectChildren:ri,filter:oi,data:hi,enter:si,exit:di,join:pi,merge:_i,selection:xr,order:gi,sort:mi,call:wi,nodes:xi,node:vi,size:bi,empty:ki,each:$i,attr:Ti,style:Li,property:qi,classed:Vi,text:Gi,html:Qi,raise:ji,lower:nr,append:er,insert:rr,remove:sr,clone:lr,datum:cr,on:_r,dispatch:yr,[Symbol.iterator]:wr};function Q(t){return typeof t=="string"?new I([[document.querySelector(t)]],[document.documentElement]):new I([[t]],Gn)}function na(t){return Q(ln(t).call(document.documentElement))}function vr(t){let n;for(;n=t.sourceEvent;)t=n;return t}function j(t,n){if(t=vr(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const Qt={capture:!0,passive:!1};function Jt(t){t.preventDefault(),t.stopImmediatePropagation()}function br(t){var n=t.document.documentElement,e=Q(t).on("dragstart.drag",Jt,Qt);"onselectstart"in n?e.on("selectstart.drag",Jt,Qt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function kr(t,n){var e=t.document.documentElement,i=Q(t).on("dragstart.drag",null);n&&(i.on("click.drag",Jt,Qt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function fn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Kn(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function mt(){}var ht=.7,Et=1/ht,rt="\\s*([+-]?\\d+)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",X="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$r=/^#([0-9a-f]{3,8})$/,Ar=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Nr=new RegExp(`^rgb\\(${X},${X},${X}\\)$`),Mr=new RegExp(`^rgba\\(${rt},${rt},${rt},${ft}\\)$`),Cr=new RegExp(`^rgba\\(${X},${X},${X},${ft}\\)$`),zr=new RegExp(`^hsl\\(${ft},${X},${X}\\)$`),Sr=new RegExp(`^hsla\\(${ft},${X},${X},${ft}\\)$`),xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fn(mt,dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vn,formatHex:vn,formatHex8:Tr,formatHsl:Er,formatRgb:bn,toString:bn});function vn(){return this.rgb().formatHex()}function Tr(){return this.rgb().formatHex8()}function Er(){return Wn(this).formatHsl()}function bn(){return this.rgb().formatRgb()}function dt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=$r.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?kn(n):e===3?new R(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?vt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?vt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ar.exec(t))?new R(n[1],n[2],n[3],1):(n=Nr.exec(t))?new R(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Mr.exec(t))?vt(n[1],n[2],n[3],n[4]):(n=Cr.exec(t))?vt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=zr.exec(t))?Nn(n[1],n[2]/100,n[3]/100,1):(n=Sr.exec(t))?Nn(n[1],n[2]/100,n[3]/100,n[4]):xn.hasOwnProperty(t)?kn(xn[t]):t==="transparent"?new R(NaN,NaN,NaN,0):null}function kn(t){return new R(t>>16&255,t>>8&255,t&255,1)}function vt(t,n,e,i){return i<=0&&(t=n=e=NaN),new R(t,n,e,i)}function Rr(t){return t instanceof mt||(t=dt(t)),t?(t=t.rgb(),new R(t.r,t.g,t.b,t.opacity)):new R}function jt(t,n,e,i){return arguments.length===1?Rr(t):new R(t,n,e,i??1)}function R(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}fn(R,jt,Kn(mt,{brighter(t){return t=t==null?Et:Math.pow(Et,t),new R(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ht:Math.pow(ht,t),new R(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new R(et(this.r),et(this.g),et(this.b),Rt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$n,formatHex:$n,formatHex8:Ir,formatRgb:An,toString:An}));function $n(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}`}function Ir(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}${nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function An(){const t=Rt(this.opacity);return`${t===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${t===1?")":`, ${t})`}`}function Rt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nt(t){return t=et(t),(t<16?"0":"")+t.toString(16)}function Nn(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new D(t,n,e,i)}function Wn(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof mt||(t=dt(t)),!t)return new D;if(t instanceof D)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),s=NaN,u=o-r,l=(o+r)/2;return u?(n===o?s=(e-i)/u+(e<i)*6:e===o?s=(i-n)/u+2:s=(n-e)/u+4,u/=l<.5?o+r:2-o-r,s*=60):u=l>0&&l<1?0:s,new D(s,u,l,t.opacity)}function Lr(t,n,e,i){return arguments.length===1?Wn(t):new D(t,n,e,i??1)}function D(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}fn(D,Lr,Kn(mt,{brighter(t){return t=t==null?Et:Math.pow(Et,t),new D(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ht:Math.pow(ht,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new R(Ot(t>=240?t-240:t+120,r,i),Ot(t,r,i),Ot(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new D(Mn(this.h),bt(this.s),bt(this.l),Rt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rt(this.opacity);return`${t===1?"hsl(":"hsla("}${Mn(this.h)}, ${bt(this.s)*100}%, ${bt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Mn(t){return t=(t||0)%360,t<0?t+360:t}function bt(t){return Math.max(0,Math.min(1,t||0))}function Ot(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Zn=t=>()=>t;function Pr(t,n){return function(e){return t+e*n}}function Br(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Dr(t){return(t=+t)==1?Qn:function(n,e){return e-n?Br(n,e,t):Zn(isNaN(n)?e:n)}}function Qn(t,n){var e=n-t;return e?Pr(t,e):Zn(isNaN(t)?n:t)}const Cn=function t(n){var e=Dr(n);function i(r,o){var s=e((r=jt(r)).r,(o=jt(o)).r),u=e(r.g,o.g),l=e(r.b,o.b),a=Qn(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=u(c),r.b=l(c),r.opacity=a(c),r+""}}return i.gamma=t,i}(1);function Z(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(tn.source,"g");function qr(t){return function(){return t}}function Hr(t){return function(n){return t(n)+""}}function Xr(t,n){var e=tn.lastIndex=Ut.lastIndex=0,i,r,o,s=-1,u=[],l=[];for(t=t+"",n=n+"";(i=tn.exec(t))&&(r=Ut.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),u[s]?u[s]+=o:u[++s]=o),(i=i[0])===(r=r[0])?u[s]?u[s]+=r:u[++s]=r:(u[++s]=null,l.push({i:s,x:Z(i,r)})),e=Ut.lastIndex;return e<n.length&&(o=n.slice(e),u[s]?u[s]+=o:u[++s]=o),u.length<2?l[0]?Hr(l[0].x):qr(n):(n=l.length,function(a){for(var c=0,d;c<n;++c)u[(d=l[c]).i]=d.x(a);return u.join("")})}var zn=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jn(t,n,e,i,r,o){var s,u,l;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,l/=u),t*i<n*e&&(t=-t,n=-n,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*zn,skewX:Math.atan(l)*zn,scaleX:s,scaleY:u}}var kt;function Fr(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?nn:Jn(n.a,n.b,n.c,n.d,n.e,n.f)}function Vr(t){return t==null||(kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),kt.setAttribute("transform",t),!(t=kt.transform.baseVal.consolidate()))?nn:(t=t.matrix,Jn(t.a,t.b,t.c,t.d,t.e,t.f))}function jn(t,n,e,i){function r(a){return a.length?a.pop()+" ":""}function o(a,c,d,f,_,w){if(a!==d||c!==f){var v=_.push("translate(",null,n,null,e);w.push({i:v-4,x:Z(a,d)},{i:v-2,x:Z(c,f)})}else(d||f)&&_.push("translate("+d+n+f+e)}function s(a,c,d,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Z(a,c)})):c&&d.push(r(d)+"rotate("+c+i)}function u(a,c,d,f){a!==c?f.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Z(a,c)}):c&&d.push(r(d)+"skewX("+c+i)}function l(a,c,d,f,_,w){if(a!==d||c!==f){var v=_.push(r(_)+"scale(",null,",",null,")");w.push({i:v-4,x:Z(a,d)},{i:v-2,x:Z(c,f)})}else(d!==1||f!==1)&&_.push(r(_)+"scale("+d+","+f+")")}return function(a,c){var d=[],f=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,d,f),s(a.rotate,c.rotate,d,f),u(a.skewX,c.skewX,d,f),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f),a=c=null,function(_){for(var w=-1,v=f.length,N;++w<v;)d[(N=f[w]).i]=N.x(_);return d.join("")}}}var Yr=jn(Fr,"px, ","px)","deg)"),Or=jn(Vr,", ",")",")"),Ur=1e-12;function Sn(t){return((t=Math.exp(t))+1/t)/2}function Gr(t){return((t=Math.exp(t))-1/t)/2}function Kr(t){return((t=Math.exp(2*t))-1)/(t+1)}const Wr=function t(n,e,i){function r(o,s){var u=o[0],l=o[1],a=o[2],c=s[0],d=s[1],f=s[2],_=c-u,w=d-l,v=_*_+w*w,N,m;if(v<Ur)m=Math.log(f/a)/n,N=function(K){return[u+K*_,l+K*w,a*Math.exp(n*K*m)]};else{var $=Math.sqrt(v),C=(f*f-a*a+i*v)/(2*a*e*$),z=(f*f-a*a-i*v)/(2*f*e*$),T=Math.log(Math.sqrt(C*C+1)-C),L=Math.log(Math.sqrt(z*z+1)-z);m=(L-T)/n,N=function(K){var yt=K*m,wt=Sn(T),xt=a/(e*$)*(wt*Kr(n*yt+T)-Gr(T));return[u+xt*_,l+xt*w,a*wt/Sn(n*yt+T)]}}return N.duration=m*1e3*n/Math.SQRT2,N}return r.rho=function(o){var s=Math.max(.001,+o),u=s*s,l=u*u;return t(s,u,l)},r}(Math.SQRT2,2,4);var st=0,lt=0,at=0,te=1e3,It,ct,Lt=0,it=0,qt=0,pt=typeof performance=="object"&&performance.now?performance:Date,ne=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dn(){return it||(ne(Zr),it=pt.now()+qt)}function Zr(){it=0}function Pt(){this._call=this._time=this._next=null}Pt.prototype=ee.prototype={constructor:Pt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?dn():+e)+(n==null?0:+n),!this._next&&ct!==this&&(ct?ct._next=this:It=this,ct=this),this._call=t,this._time=e,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};function ee(t,n,e){var i=new Pt;return i.restart(t,n,e),i}function Qr(){dn(),++st;for(var t=It,n;t;)(n=it-t._time)>=0&&t._call.call(void 0,n),t=t._next;--st}function Tn(){it=(Lt=pt.now())+qt,st=lt=0;try{Qr()}finally{st=0,jr(),it=0}}function Jr(){var t=pt.now(),n=t-Lt;n>te&&(qt-=n,Lt=t)}function jr(){for(var t,n=It,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:It=e);ct=t,en(i)}function en(t){if(!st){lt&&(lt=clearTimeout(lt));var n=t-it;n>24?(t<1/0&&(lt=setTimeout(Tn,t-pt.now()-qt)),at&&(at=clearInterval(at))):(at||(Lt=pt.now(),at=setInterval(Jr,te)),st=1,ne(Tn))}}function En(t,n,e){var i=new Pt;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var to=un("start","end","cancel","interrupt"),no=[],ie=0,Rn=1,rn=2,Mt=3,In=4,on=5,Ct=6;function Ht(t,n,e,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;eo(t,e,{name:n,index:i,group:r,on:to,tween:no,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ie})}function pn(t,n){var e=q(t,n);if(e.state>ie)throw new Error("too late; already scheduled");return e}function F(t,n){var e=q(t,n);if(e.state>Mt)throw new Error("too late; already running");return e}function q(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function eo(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=ee(o,0,e.time);function o(a){e.state=Rn,e.timer.restart(s,e.delay,e.time),e.delay<=a&&s(a-e.delay)}function s(a){var c,d,f,_;if(e.state!==Rn)return l();for(c in i)if(_=i[c],_.name===e.name){if(_.state===Mt)return En(s);_.state===In?(_.state=Ct,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[c]):+c<n&&(_.state=Ct,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[c])}if(En(function(){e.state===Mt&&(e.state=In,e.timer.restart(u,e.delay,e.time),u(a))}),e.state=rn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===rn){for(e.state=Mt,r=new Array(f=e.tween.length),c=0,d=-1;c<f;++c)(_=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++d]=_);r.length=d+1}}function u(a){for(var c=a<e.duration?e.ease.call(null,a/e.duration):(e.timer.restart(l),e.state=on,1),d=-1,f=r.length;++d<f;)r[d].call(t,c);e.state===on&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Ct,e.timer.stop(),delete i[n];for(var a in i)return;delete t.__transition}}function zt(t,n){var e=t.__transition,i,r,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((i=e[s]).name!==n){o=!1;continue}r=i.state>rn&&i.state<on,i.state=Ct,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[s]}o&&delete t.__transition}}function io(t){return this.each(function(){zt(this,t)})}function ro(t,n){var e,i;return function(){var r=F(this,t),o=r.tween;if(o!==e){i=e=o;for(var s=0,u=i.length;s<u;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function oo(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=F(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var u={name:n,value:e},l=0,a=r.length;l<a;++l)if(r[l].name===n){r[l]=u;break}l===a&&r.push(u)}o.tween=r}}function so(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=q(this.node(),e).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((n==null?ro:oo)(e,t,n))}function _n(t,n,e){var i=t._id;return t.each(function(){var r=F(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return q(r,i).value[n]}}function re(t,n){var e;return(typeof n=="number"?Z:n instanceof dt?Cn:(e=dt(n))?(n=e,Cn):Xr)(t,n)}function ao(t){return function(){this.removeAttribute(t)}}function uo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lo(t,n,e){var i,r=e+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=n(i=s,e)}}function co(t,n,e){var i,r=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=n(i=s,e)}}function ho(t,n,e){var i,r,o;return function(){var s,u=e(this),l;return u==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u)))}}function fo(t,n,e){var i,r,o;return function(){var s,u=e(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=u+"",s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u)))}}function po(t,n){var e=Dt(t),i=e==="transform"?Or:re;return this.attrTween(t,typeof n=="function"?(e.local?fo:ho)(e,i,_n(this,"attr."+t,n)):n==null?(e.local?uo:ao)(e):(e.local?co:lo)(e,i,n))}function _o(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function go(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function mo(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&go(t,o)),e}return r._value=n,r}function yo(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&_o(t,o)),e}return r._value=n,r}function wo(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Dt(t);return this.tween(e,(i.local?mo:yo)(i,n))}function xo(t,n){return function(){pn(this,t).delay=+n.apply(this,arguments)}}function vo(t,n){return n=+n,function(){pn(this,t).delay=n}}function bo(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?xo:vo)(n,t)):q(this.node(),n).delay}function ko(t,n){return function(){F(this,t).duration=+n.apply(this,arguments)}}function $o(t,n){return n=+n,function(){F(this,t).duration=n}}function Ao(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ko:$o)(n,t)):q(this.node(),n).duration}function No(t,n){if(typeof n!="function")throw new Error;return function(){F(this,t).ease=n}}function Mo(t){var n=this._id;return arguments.length?this.each(No(n,t)):q(this.node(),n).ease}function Co(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;F(this,t).ease=e}}function zo(t){if(typeof t!="function")throw new Error;return this.each(Co(this._id,t))}function So(t){typeof t!="function"&&(t=Dn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],s=o.length,u=i[r]=[],l,a=0;a<s;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&u.push(l);return new G(i,this._parents,this._name,this._id)}function To(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),s=new Array(i),u=0;u<o;++u)for(var l=n[u],a=e[u],c=l.length,d=s[u]=new Array(c),f,_=0;_<c;++_)(f=l[_]||a[_])&&(d[_]=f);for(;u<i;++u)s[u]=n[u];return new G(s,this._parents,this._name,this._id)}function Eo(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Ro(t,n,e){var i,r,o=Eo(n)?pn:F;return function(){var s=o(this,t),u=s.on;u!==i&&(r=(i=u).copy()).on(n,e),s.on=r}}function Io(t,n){var e=this._id;return arguments.length<2?q(this.node(),e).on.on(t):this.each(Ro(e,t,n))}function Lo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Po(){return this.on("end.remove",Lo(this._id))}function Bo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=cn(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,a=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=u[f])&&(d=t.call(c,c.__data__,f,u))&&("__data__"in c&&(d.__data__=c.__data__),a[f]=d,Ht(a[f],n,e,f,a,q(c,e)));return new G(o,this._parents,n,e)}function Do(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Bn(t));for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l=i[u],a=l.length,c,d=0;d<a;++d)if(c=l[d]){for(var f=t.call(c,c.__data__,d,l),_,w=q(c,e),v=0,N=f.length;v<N;++v)(_=f[v])&&Ht(_,n,e,v,f,w);o.push(f),s.push(c)}return new G(o,s,n,e)}var qo=gt.prototype.constructor;function Ho(){return new qo(this._groups,this._parents)}function Xo(t,n){var e,i,r;return function(){var o=ot(this,t),s=(this.style.removeProperty(t),ot(this,t));return o===s?null:o===e&&s===i?r:r=n(e=o,i=s)}}function oe(t){return function(){this.style.removeProperty(t)}}function Fo(t,n,e){var i,r=e+"",o;return function(){var s=ot(this,t);return s===r?null:s===i?o:o=n(i=s,e)}}function Vo(t,n,e){var i,r,o;return function(){var s=ot(this,t),u=e(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),ot(this,t))),s===l?null:s===i&&l===r?o:(r=l,o=n(i=s,u))}}function Yo(t,n){var e,i,r,o="style."+n,s="end."+o,u;return function(){var l=F(this,t),a=l.on,c=l.value[o]==null?u||(u=oe(n)):void 0;(a!==e||r!==c)&&(i=(e=a).copy()).on(s,r=c),l.on=i}}function Oo(t,n,e){var i=(t+="")=="transform"?Yr:re;return n==null?this.styleTween(t,Xo(t,i)).on("end.style."+t,oe(t)):typeof n=="function"?this.styleTween(t,Vo(t,i,_n(this,"style."+t,n))).each(Yo(this._id,t)):this.styleTween(t,Fo(t,i,n),e).on("end.style."+t,null)}function Uo(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Go(t,n,e){var i,r;function o(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&Uo(t,s,e)),i}return o._value=n,o}function Ko(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Go(t,n,e??""))}function Wo(t){return function(){this.textContent=t}}function Zo(t){return function(){var n=t(this);this.textContent=n??""}}function Qo(t){return this.tween("text",typeof t=="function"?Zo(_n(this,"text",t)):Wo(t==null?"":t+""))}function Jo(t){return function(n){this.textContent=t.call(this,n)}}function jo(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Jo(r)),n}return i._value=t,i}function ts(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,jo(t))}function ns(){for(var t=this._name,n=this._id,e=se(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)if(l=s[a]){var c=q(l,n);Ht(l,t,e,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new G(i,this._parents,t,e)}function es(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,s){var u={value:s},l={value:function(){--r===0&&o()}};e.each(function(){var a=F(this,i),c=a.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),a.on=n}),r===0&&o()})}var is=0;function G(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function se(){return++is}var O=gt.prototype;G.prototype={constructor:G,select:Bo,selectAll:Do,selectChild:O.selectChild,selectChildren:O.selectChildren,filter:So,merge:To,selection:Ho,transition:ns,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:Io,attr:po,attrTween:wo,style:Oo,styleTween:Ko,text:Qo,textTween:ts,remove:Po,tween:so,delay:bo,duration:Ao,ease:Mo,easeVarying:zo,end:es,[Symbol.iterator]:O[Symbol.iterator]};function rs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var os={time:null,delay:0,duration:250,ease:rs};function ss(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function as(t){var n,e;t instanceof G?(n=t._id,t=t._name):(n=se(),(e=os).time=dn(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],u=s.length,l,a=0;a<u;++a)(l=s[a])&&Ht(l,t,n,a,s,e||ss(l,n));return new G(i,this._parents,t,n)}gt.prototype.interrupt=io;gt.prototype.transition=as;const sn=Math.PI,an=2*sn,tt=1e-6,us=an-tt;function ae(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ls(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ae;const e=10**n;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class cs{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?ae:ls(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,r){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,e,i,r,o,s){this._append`C${+n},${+e},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(n,e,i,r,o){if(n=+n,e=+e,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,l=i-n,a=r-e,c=s-n,d=u-e,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>tt)if(!(Math.abs(d*l-a*c)>tt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let _=i-s,w=r-u,v=l*l+a*a,N=_*_+w*w,m=Math.sqrt(v),$=Math.sqrt(f),C=o*Math.tan((sn-Math.acos((v+f-N)/(2*m*$)))/2),z=C/$,T=C/m;Math.abs(z-1)>tt&&this._append`L${n+z*c},${e+z*d}`,this._append`A${o},${o},0,0,${+(d*_>c*w)},${this._x1=n+T*l},${this._y1=e+T*a}`}}arc(n,e,i,r,o,s){if(n=+n,e=+e,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),l=i*Math.sin(r),a=n+u,c=e+l,d=1^s,f=s?r-o:o-r;this._x1===null?this._append`M${a},${c}`:(Math.abs(this._x1-a)>tt||Math.abs(this._y1-c)>tt)&&this._append`L${a},${c}`,i&&(f<0&&(f=f%an+an),f>us?this._append`A${i},${i},0,1,${d},${n-u},${e-l}A${i},${i},0,1,${d},${this._x1=a},${this._y1=c}`:f>tt&&this._append`A${i},${i},0,${+(f>=sn)},${d},${this._x1=n+i*Math.cos(o)},${this._y1=e+i*Math.sin(o)}`)}rect(n,e,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function hs(t){var n=0,e=t.children,i=e&&e.length;if(!i)n=1;else for(;--i>=0;)n+=e[i].value;t.value=n}function fs(){return this.eachAfter(hs)}function ds(t,n){let e=-1;for(const i of this)t.call(n,i,++e,this);return this}function ps(t,n){for(var e=this,i=[e],r,o,s=-1;e=i.pop();)if(t.call(n,e,++s,this),r=e.children)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this}function _s(t,n){for(var e=this,i=[e],r=[],o,s,u,l=-1;e=i.pop();)if(r.push(e),o=e.children)for(s=0,u=o.length;s<u;++s)i.push(o[s]);for(;e=r.pop();)t.call(n,e,++l,this);return this}function gs(t,n){let e=-1;for(const i of this)if(t.call(n,i,++e,this))return i}function ms(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e})}function ys(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function ws(t){for(var n=this,e=xs(n,t),i=[n];n!==e;)n=n.parent,i.push(n);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i}function xs(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;for(t=e.pop(),n=i.pop();t===n;)r=t,t=e.pop(),n=i.pop();return r}function vs(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function bs(){return Array.from(this)}function ks(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function $s(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*As(){var t=this,n,e=[t],i,r,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,i=t.children)for(r=0,o=i.length;r<o;++r)e.push(i[r]);while(e.length)}function ue(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=Cs)):n===void 0&&(n=Ms);for(var e=new _t(t),i,r=[e],o,s,u,l;i=r.pop();)if((s=n(i.data))&&(l=(s=Array.from(s)).length))for(i.children=s,u=l-1;u>=0;--u)r.push(o=s[u]=new _t(s[u])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(Ss)}function Ns(){return ue(this).eachBefore(zs)}function Ms(t){return t.children}function Cs(t){return Array.isArray(t)?t[1]:null}function zs(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Ss(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function _t(t){this.data=t,this.depth=this.height=0,this.parent=null}_t.prototype=ue.prototype={constructor:_t,count:fs,each:ds,eachAfter:_s,eachBefore:ps,find:gs,sum:ms,sort:ys,path:ws,ancestors:vs,descendants:bs,leaves:ks,links:$s,copy:Ns,[Symbol.iterator]:As};function Ts(t,n){return t.parent===n.parent?1:2}function Gt(t){var n=t.children;return n?n[0]:t.t}function Kt(t){var n=t.children;return n?n[n.length-1]:t.t}function Es(t,n,e){var i=e/(n.i-t.i);n.c-=i,n.s+=e,t.c+=i,n.z+=e,n.m+=e}function Rs(t){for(var n=0,e=0,i=t.children,r=i.length,o;--r>=0;)o=i[r],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function Is(t,n,e){return t.a.parent===n.parent?t.a:e}function St(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}St.prototype=Object.create(_t.prototype);function Ls(t){for(var n=new St(t,0),e,i=[n],r,o,s,u;e=i.pop();)if(o=e._.children)for(e.children=new Array(u=o.length),s=u-1;s>=0;--s)i.push(r=e.children[s]=new St(o[s],s)),r.parent=e;return(n.parent=new St(null,0)).children=[n],n}function ea(){var t=Ts,n=1,e=1,i=null;function r(a){var c=Ls(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),i)a.eachBefore(l);else{var d=a,f=a,_=a;a.eachBefore(function($){$.x<d.x&&(d=$),$.x>f.x&&(f=$),$.depth>_.depth&&(_=$)});var w=d===f?1:t(d,f)/2,v=w-d.x,N=n/(f.x+w+v),m=e/(_.depth||1);a.eachBefore(function($){$.x=($.x+v)*N,$.y=$.depth*m})}return a}function o(a){var c=a.children,d=a.parent.children,f=a.i?d[a.i-1]:null;if(c){Rs(a);var _=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+t(a._,f._),a.m=a.z-_):a.z=_}else f&&(a.z=f.z+t(a._,f._));a.parent.A=u(a,f,a.parent.A||d[0])}function s(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function u(a,c,d){if(c){for(var f=a,_=a,w=c,v=f.parent.children[0],N=f.m,m=_.m,$=w.m,C=v.m,z;w=Kt(w),f=Gt(f),w&&f;)v=Gt(v),_=Kt(_),_.a=a,z=w.z+$-f.z-N+t(w._,f._),z>0&&(Es(Is(w,a,d),a,z),N+=z,m+=z),$+=w.m,N+=f.m,C+=v.m,m+=_.m;w&&!Kt(_)&&(_.t=w,_.m+=$-m),f&&!Gt(v)&&(v.t=f,v.m+=N-C,d=a)}return d}function l(a){a.x*=n,a.y=a.depth*e}return r.separation=function(a){return arguments.length?(t=a,r):t},r.size=function(a){return arguments.length?(i=!1,n=+a[0],e=+a[1],r):i?null:[n,e]},r.nodeSize=function(a){return arguments.length?(i=!0,n=+a[0],e=+a[1],r):i?[n,e]:null},r}function Ln(t){return function(){return t}}function Ps(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new cs(n)}var Bs=Array.prototype.slice;function Ds(t){return t[0]}function qs(t){return t[1]}function $t(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class Hs{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}class Xs{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,e){if(n=+n,e=+e,this._point===0)this._point=1;else{const i=$t(this._x0,this._y0),r=$t(this._x0,this._y0=(this._y0+e)/2),o=$t(n,this._y0),s=$t(n,e);this._context.moveTo(...i),this._context.bezierCurveTo(...r,...o,...s)}this._x0=n,this._y0=e}}function Fs(t){return new Hs(t,!0)}function Vs(t){return new Xs(t)}function Ys(t){return t.source}function Os(t){return t.target}function le(t){let n=Ys,e=Os,i=Ds,r=qs,o=null,s=null,u=Ps(l);function l(){let a;const c=Bs.call(arguments),d=n.apply(this,c),f=e.apply(this,c);if(o==null&&(s=t(a=u())),s.lineStart(),c[0]=d,s.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,s.point(+i.apply(this,c),+r.apply(this,c)),s.lineEnd(),a)return s=null,a+""||null}return l.source=function(a){return arguments.length?(n=a,l):n},l.target=function(a){return arguments.length?(e=a,l):e},l.x=function(a){return arguments.length?(i=typeof a=="function"?a:Ln(+a),l):i},l.y=function(a){return arguments.length?(r=typeof a=="function"?a:Ln(+a),l):r},l.context=function(a){return arguments.length?(a==null?o=s=null:s=t(o=a),l):o},l}function ia(){return le(Fs)}function ra(){const t=le(Vs);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const At=t=>()=>t;function Us(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function U(t,n,e){this.k=t,this.x=n,this.y=e}U.prototype={constructor:U,scale:function(t){return t===1?this:new U(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new U(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ce=new U(1,0,0);U.prototype;function Wt(t){t.stopImmediatePropagation()}function ut(t){t.preventDefault(),t.stopImmediatePropagation()}function Gs(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ks(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Pn(){return this.__zoom||ce}function Ws(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Zs(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qs(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],s=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function oa(){var t=Gs,n=Ks,e=Qs,i=Ws,r=Zs,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Wr,a=un("start","zoom","end"),c,d,f,_=500,w=150,v=0,N=10;function m(h){h.property("__zoom",Pn).on("wheel.zoom",yt,{passive:!1}).on("mousedown.zoom",wt).on("dblclick.zoom",xt).filter(r).on("touchstart.zoom",he).on("touchmove.zoom",fe).on("touchend.zoom touchcancel.zoom",de).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(h,g,p,y){var x=h.selection?h.selection():h;x.property("__zoom",Pn),h!==x?T(h,g,p,y):x.interrupt().each(function(){L(this,arguments).event(y).start().zoom(null,typeof g=="function"?g.apply(this,arguments):g).end()})},m.scaleBy=function(h,g,p,y){m.scaleTo(h,function(){var x=this.__zoom.k,b=typeof g=="function"?g.apply(this,arguments):g;return x*b},p,y)},m.scaleTo=function(h,g,p,y){m.transform(h,function(){var x=n.apply(this,arguments),b=this.__zoom,k=p==null?z(x):typeof p=="function"?p.apply(this,arguments):p,A=b.invert(k),M=typeof g=="function"?g.apply(this,arguments):g;return e(C($(b,M),k,A),x,s)},p,y)},m.translateBy=function(h,g,p,y){m.transform(h,function(){return e(this.__zoom.translate(typeof g=="function"?g.apply(this,arguments):g,typeof p=="function"?p.apply(this,arguments):p),n.apply(this,arguments),s)},null,y)},m.translateTo=function(h,g,p,y,x){m.transform(h,function(){var b=n.apply(this,arguments),k=this.__zoom,A=y==null?z(b):typeof y=="function"?y.apply(this,arguments):y;return e(ce.translate(A[0],A[1]).scale(k.k).translate(typeof g=="function"?-g.apply(this,arguments):-g,typeof p=="function"?-p.apply(this,arguments):-p),b,s)},y,x)};function $(h,g){return g=Math.max(o[0],Math.min(o[1],g)),g===h.k?h:new U(g,h.x,h.y)}function C(h,g,p){var y=g[0]-p[0]*h.k,x=g[1]-p[1]*h.k;return y===h.x&&x===h.y?h:new U(h.k,y,x)}function z(h){return[(+h[0][0]+ +h[1][0])/2,(+h[0][1]+ +h[1][1])/2]}function T(h,g,p,y){h.on("start.zoom",function(){L(this,arguments).event(y).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(y).end()}).tween("zoom",function(){var x=this,b=arguments,k=L(x,b).event(y),A=n.apply(x,b),M=p==null?z(A):typeof p=="function"?p.apply(x,b):p,H=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),S=x.__zoom,P=typeof g=="function"?g.apply(x,b):g,V=l(S.invert(M).concat(H/S.k),P.invert(M).concat(H/P.k));return function(B){if(B===1)B=P;else{var Y=V(B),Xt=H/Y[2];B=new U(Xt,M[0]-Y[0]*Xt,M[1]-Y[1]*Xt)}k.zoom(null,B)}})}function L(h,g,p){return!p&&h.__zooming||new K(h,g)}function K(h,g){this.that=h,this.args=g,this.active=0,this.sourceEvent=null,this.extent=n.apply(h,g),this.taps=0}K.prototype={event:function(h){return h&&(this.sourceEvent=h),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(h,g){return this.mouse&&h!=="mouse"&&(this.mouse[1]=g.invert(this.mouse[0])),this.touch0&&h!=="touch"&&(this.touch0[1]=g.invert(this.touch0[0])),this.touch1&&h!=="touch"&&(this.touch1[1]=g.invert(this.touch1[0])),this.that.__zoom=g,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(h){var g=Q(this.that).datum();a.call(h,this.that,new Us(h,{sourceEvent:this.sourceEvent,target:m,type:h,transform:this.that.__zoom,dispatch:a}),g)}};function yt(h,...g){if(!t.apply(this,arguments))return;var p=L(this,g).event(h),y=this.__zoom,x=Math.max(o[0],Math.min(o[1],y.k*Math.pow(2,i.apply(this,arguments)))),b=j(h);if(p.wheel)(p.mouse[0][0]!==b[0]||p.mouse[0][1]!==b[1])&&(p.mouse[1]=y.invert(p.mouse[0]=b)),clearTimeout(p.wheel);else{if(y.k===x)return;p.mouse=[b,y.invert(b)],zt(this),p.start()}ut(h),p.wheel=setTimeout(k,w),p.zoom("mouse",e(C($(y,x),p.mouse[0],p.mouse[1]),p.extent,s));function k(){p.wheel=null,p.end()}}function wt(h,...g){if(f||!t.apply(this,arguments))return;var p=h.currentTarget,y=L(this,g,!0).event(h),x=Q(h.view).on("mousemove.zoom",M,!0).on("mouseup.zoom",H,!0),b=j(h,p),k=h.clientX,A=h.clientY;br(h.view),Wt(h),y.mouse=[b,this.__zoom.invert(b)],zt(this),y.start();function M(S){if(ut(S),!y.moved){var P=S.clientX-k,V=S.clientY-A;y.moved=P*P+V*V>v}y.event(S).zoom("mouse",e(C(y.that.__zoom,y.mouse[0]=j(S,p),y.mouse[1]),y.extent,s))}function H(S){x.on("mousemove.zoom mouseup.zoom",null),kr(S.view,y.moved),ut(S),y.event(S).end()}}function xt(h,...g){if(t.apply(this,arguments)){var p=this.__zoom,y=j(h.changedTouches?h.changedTouches[0]:h,this),x=p.invert(y),b=p.k*(h.shiftKey?.5:2),k=e(C($(p,b),y,x),n.apply(this,g),s);ut(h),u>0?Q(this).transition().duration(u).call(T,k,y,h):Q(this).call(m.transform,k,y,h)}}function he(h,...g){if(t.apply(this,arguments)){var p=h.touches,y=p.length,x=L(this,g,h.changedTouches.length===y).event(h),b,k,A,M;for(Wt(h),k=0;k<y;++k)A=p[k],M=j(A,this),M=[M,this.__zoom.invert(M),A.identifier],x.touch0?!x.touch1&&x.touch0[2]!==M[2]&&(x.touch1=M,x.taps=0):(x.touch0=M,b=!0,x.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(x.taps<2&&(d=M[0],c=setTimeout(function(){c=null},_)),zt(this),x.start())}}function fe(h,...g){if(this.__zooming){var p=L(this,g).event(h),y=h.changedTouches,x=y.length,b,k,A,M;for(ut(h),b=0;b<x;++b)k=y[b],A=j(k,this),p.touch0&&p.touch0[2]===k.identifier?p.touch0[0]=A:p.touch1&&p.touch1[2]===k.identifier&&(p.touch1[0]=A);if(k=p.that.__zoom,p.touch1){var H=p.touch0[0],S=p.touch0[1],P=p.touch1[0],V=p.touch1[1],B=(B=P[0]-H[0])*B+(B=P[1]-H[1])*B,Y=(Y=V[0]-S[0])*Y+(Y=V[1]-S[1])*Y;k=$(k,Math.sqrt(B/Y)),A=[(H[0]+P[0])/2,(H[1]+P[1])/2],M=[(S[0]+V[0])/2,(S[1]+V[1])/2]}else if(p.touch0)A=p.touch0[0],M=p.touch0[1];else return;p.zoom("touch",e(C(k,A,M),p.extent,s))}}function de(h,...g){if(this.__zooming){var p=L(this,g).event(h),y=h.changedTouches,x=y.length,b,k;for(Wt(h),f&&clearTimeout(f),f=setTimeout(function(){f=null},_),b=0;b<x;++b)k=y[b],p.touch0&&p.touch0[2]===k.identifier?delete p.touch0:p.touch1&&p.touch1[2]===k.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(k=j(k,this),Math.hypot(d[0]-k[0],d[1]-k[1])<N)){var A=Q(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return m.wheelDelta=function(h){return arguments.length?(i=typeof h=="function"?h:At(+h),m):i},m.filter=function(h){return arguments.length?(t=typeof h=="function"?h:At(!!h),m):t},m.touchable=function(h){return arguments.length?(r=typeof h=="function"?h:At(!!h),m):r},m.extent=function(h){return arguments.length?(n=typeof h=="function"?h:At([[+h[0][0],+h[0][1]],[+h[1][0],+h[1][1]]]),m):n},m.scaleExtent=function(h){return arguments.length?(o[0]=+h[0],o[1]=+h[1],m):[o[0],o[1]]},m.translateExtent=function(h){return arguments.length?(s[0][0]=+h[0][0],s[1][0]=+h[1][0],s[0][1]=+h[0][1],s[1][1]=+h[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(h){return arguments.length?(e=h,m):e},m.duration=function(h){return arguments.length?(u=+h,m):u},m.interpolate=function(h){return arguments.length?(l=h,m):l},m.on=function(){var h=a.on.apply(a,arguments);return h===a?m:h},m.clickDistance=function(h){return arguments.length?(v=(h=+h)*h,m):Math.sqrt(v)},m.tapDistance=function(h){return arguments.length?(N=+h,m):N},m}export{js as S,ta as a,ra as b,na as c,ue as h,ce as i,ia as l,Q as s,ea as t,oa as z};
