import{_ as u,B as l,o as c,c as p,d as t,w as i,y as r,m as _,i as m}from"./main-de0cc1b0.js";const g="/images/app-logo.jpg";const h={data(){return{username:null,password:null}},mounted(){let e=document.createElement("script");e.setAttribute("src","https://accounts.google.com/gsi/client"),e.setAttribute("defer",""),document.head.appendChild(e),this.GetGoogleLoginResult()},computed:{},methods:{Submit(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})};var s="/login-attempt";fetch(s,e).then(function(o){return o.json()}).then(function(o){o.account=="authorized"?o.role=="student"?l.push({name:"skill-tree"}):l.push({name:"hub"}):o.account=="wrong-password"?alert("wrong password"):alert("no account")})},GetGoogleLoginResult(){fetch("/google-login-result").then(function(e){return e.json()}).then(e=>{e.account=="no account"&&alert("No account found.")})}}},f={class:"login-page"},w={class:"form-signin"},b=t("div",{class:"text-center app-logo-wrapper"},[t("img",{class:"",src:g,alt:"icon of a skill tree"})],-1),v=t("h1",{class:"h3 mt-2 font-weight-normal"},"Student sign in",-1),x={class:"form"},y=t("label",{class:"mb-4 welcome-message"},"Welcome back! Please enter your details.",-1),k={class:"mb-3 text-start"},S=t("label",{class:"form-label"},"Username",-1),j={class:"mb-3 text-start"},q=t("label",{class:"form-label"},"Password",-1),B=t("div",{class:"d-flex password-extras"},[t("div",{style:{color:"rgba(164, 139, 229, 1)"}},[t("a",{href:"/password-reset",class:"links"},"Forgot password")])],-1),L=t("div",{id:"g_id_onload","data-client_id":"13191319610-qectaoi146ce1pm4v95jtgctsbtmqb3t.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":"/google-login-attempt","data-auto_prompt":"false"},null,-1),V=t("div",{class:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left","data-width":"330"},null,-1),G=t("div",{class:"mt-4 signup text-center"},[_(" Donâ€™t have an account? "),t("a",{href:"/student-signup",class:"links"},"Register")],-1);function N(e,s,o,T,n,d){return c(),p("div",f,[t("div",w,[b,v,t("div",x,[y,t("div",k,[S,i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.username=a),type:"text",placeholder:"Username",class:"form-control",required:""},null,512),[[r,n.username]])]),t("div",j,[q,i(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>n.password=a),type:"password",placeholder:"Password",class:"form-control",required:""},null,512),[[r,n.password]])]),B,t("button",{class:"btn btn-dark mb-2",onClick:s[2]||(s[2]=a=>d.Submit())}," Sign in "),L,V,G])])])}const P=u(h,[["render",N]]),C={__name:"LoginView",setup(e){return(s,o)=>(c(),m(P))}};export{C as default};
